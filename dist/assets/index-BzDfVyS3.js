function ET(n,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in n)){const l=Object.getOwnPropertyDescriptor(s,o);l&&Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function l_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var zd={exports:{}},Qa={},Bd={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zg;function TT(){if(Zg)return Ce;Zg=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),T=Symbol.iterator;function I(M){return M===null||typeof M!="object"?null:(M=T&&M[T]||M["@@iterator"],typeof M=="function"?M:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,L={};function k(M,Q,me){this.props=M,this.context=Q,this.refs=L,this.updater=me||O}k.prototype.isReactComponent={},k.prototype.setState=function(M,Q){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Q,"setState")},k.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function J(){}J.prototype=k.prototype;function W(M,Q,me){this.props=M,this.context=Q,this.refs=L,this.updater=me||O}var $=W.prototype=new J;$.constructor=W,z($,k.prototype),$.isPureReactComponent=!0;var X=Array.isArray,oe=Object.prototype.hasOwnProperty,ae={current:null},b={key:!0,ref:!0,__self:!0,__source:!0};function S(M,Q,me){var Se,Ae={},be=null,je=null;if(Q!=null)for(Se in Q.ref!==void 0&&(je=Q.ref),Q.key!==void 0&&(be=""+Q.key),Q)oe.call(Q,Se)&&!b.hasOwnProperty(Se)&&(Ae[Se]=Q[Se]);var Me=arguments.length-2;if(Me===1)Ae.children=me;else if(1<Me){for(var $e=Array(Me),Tt=0;Tt<Me;Tt++)$e[Tt]=arguments[Tt+2];Ae.children=$e}if(M&&M.defaultProps)for(Se in Me=M.defaultProps,Me)Ae[Se]===void 0&&(Ae[Se]=Me[Se]);return{$$typeof:n,type:M,key:be,ref:je,props:Ae,_owner:ae.current}}function R(M,Q){return{$$typeof:n,type:M.type,key:Q,ref:M.ref,props:M.props,_owner:M._owner}}function P(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function D(M){var Q={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(me){return Q[me]})}var j=/\/+/g;function C(M,Q){return typeof M=="object"&&M!==null&&M.key!=null?D(""+M.key):Q.toString(36)}function rt(M,Q,me,Se,Ae){var be=typeof M;(be==="undefined"||be==="boolean")&&(M=null);var je=!1;if(M===null)je=!0;else switch(be){case"string":case"number":je=!0;break;case"object":switch(M.$$typeof){case n:case e:je=!0}}if(je)return je=M,Ae=Ae(je),M=Se===""?"."+C(je,0):Se,X(Ae)?(me="",M!=null&&(me=M.replace(j,"$&/")+"/"),rt(Ae,Q,me,"",function(Tt){return Tt})):Ae!=null&&(P(Ae)&&(Ae=R(Ae,me+(!Ae.key||je&&je.key===Ae.key?"":(""+Ae.key).replace(j,"$&/")+"/")+M)),Q.push(Ae)),1;if(je=0,Se=Se===""?".":Se+":",X(M))for(var Me=0;Me<M.length;Me++){be=M[Me];var $e=Se+C(be,Me);je+=rt(be,Q,me,$e,Ae)}else if($e=I(M),typeof $e=="function")for(M=$e.call(M),Me=0;!(be=M.next()).done;)be=be.value,$e=Se+C(be,Me++),je+=rt(be,Q,me,$e,Ae);else if(be==="object")throw Q=String(M),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return je}function Xe(M,Q,me){if(M==null)return M;var Se=[],Ae=0;return rt(M,Se,"","",function(be){return Q.call(me,be,Ae++)}),Se}function Ot(M){if(M._status===-1){var Q=M._result;Q=Q(),Q.then(function(me){(M._status===0||M._status===-1)&&(M._status=1,M._result=me)},function(me){(M._status===0||M._status===-1)&&(M._status=2,M._result=me)}),M._status===-1&&(M._status=0,M._result=Q)}if(M._status===1)return M._result.default;throw M._result}var ze={current:null},se={transition:null},ye={ReactCurrentDispatcher:ze,ReactCurrentBatchConfig:se,ReactCurrentOwner:ae};function ue(){throw Error("act(...) is not supported in production builds of React.")}return Ce.Children={map:Xe,forEach:function(M,Q,me){Xe(M,function(){Q.apply(this,arguments)},me)},count:function(M){var Q=0;return Xe(M,function(){Q++}),Q},toArray:function(M){return Xe(M,function(Q){return Q})||[]},only:function(M){if(!P(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ce.Component=k,Ce.Fragment=t,Ce.Profiler=o,Ce.PureComponent=W,Ce.StrictMode=s,Ce.Suspense=m,Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,Ce.act=ue,Ce.cloneElement=function(M,Q,me){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var Se=z({},M.props),Ae=M.key,be=M.ref,je=M._owner;if(Q!=null){if(Q.ref!==void 0&&(be=Q.ref,je=ae.current),Q.key!==void 0&&(Ae=""+Q.key),M.type&&M.type.defaultProps)var Me=M.type.defaultProps;for($e in Q)oe.call(Q,$e)&&!b.hasOwnProperty($e)&&(Se[$e]=Q[$e]===void 0&&Me!==void 0?Me[$e]:Q[$e])}var $e=arguments.length-2;if($e===1)Se.children=me;else if(1<$e){Me=Array($e);for(var Tt=0;Tt<$e;Tt++)Me[Tt]=arguments[Tt+2];Se.children=Me}return{$$typeof:n,type:M.type,key:Ae,ref:be,props:Se,_owner:je}},Ce.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:l,_context:M},M.Consumer=M},Ce.createElement=S,Ce.createFactory=function(M){var Q=S.bind(null,M);return Q.type=M,Q},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(M){return{$$typeof:d,render:M}},Ce.isValidElement=P,Ce.lazy=function(M){return{$$typeof:w,_payload:{_status:-1,_result:M},_init:Ot}},Ce.memo=function(M,Q){return{$$typeof:v,type:M,compare:Q===void 0?null:Q}},Ce.startTransition=function(M){var Q=se.transition;se.transition={};try{M()}finally{se.transition=Q}},Ce.unstable_act=ue,Ce.useCallback=function(M,Q){return ze.current.useCallback(M,Q)},Ce.useContext=function(M){return ze.current.useContext(M)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(M){return ze.current.useDeferredValue(M)},Ce.useEffect=function(M,Q){return ze.current.useEffect(M,Q)},Ce.useId=function(){return ze.current.useId()},Ce.useImperativeHandle=function(M,Q,me){return ze.current.useImperativeHandle(M,Q,me)},Ce.useInsertionEffect=function(M,Q){return ze.current.useInsertionEffect(M,Q)},Ce.useLayoutEffect=function(M,Q){return ze.current.useLayoutEffect(M,Q)},Ce.useMemo=function(M,Q){return ze.current.useMemo(M,Q)},Ce.useReducer=function(M,Q,me){return ze.current.useReducer(M,Q,me)},Ce.useRef=function(M){return ze.current.useRef(M)},Ce.useState=function(M){return ze.current.useState(M)},Ce.useSyncExternalStore=function(M,Q,me){return ze.current.useSyncExternalStore(M,Q,me)},Ce.useTransition=function(){return ze.current.useTransition()},Ce.version="18.3.1",Ce}var ey;function Il(){return ey||(ey=1,Bd.exports=TT()),Bd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ty;function xT(){if(ty)return Qa;ty=1;var n=Il(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(d,m,v){var w,T={},I=null,O=null;v!==void 0&&(I=""+v),m.key!==void 0&&(I=""+m.key),m.ref!==void 0&&(O=m.ref);for(w in m)s.call(m,w)&&!l.hasOwnProperty(w)&&(T[w]=m[w]);if(d&&d.defaultProps)for(w in m=d.defaultProps,m)T[w]===void 0&&(T[w]=m[w]);return{$$typeof:e,type:d,key:I,ref:O,props:T,_owner:o.current}}return Qa.Fragment=t,Qa.jsx=h,Qa.jsxs=h,Qa}var ny;function IT(){return ny||(ny=1,zd.exports=xT()),zd.exports}var y=IT(),Y=Il();const Hf=l_(Y),ST=ET({__proto__:null,default:Hf},[Y]);var tc={},$d={exports:{}},tn={},qd={exports:{}},Hd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry;function AT(){return ry||(ry=1,(function(n){function e(se,ye){var ue=se.length;se.push(ye);e:for(;0<ue;){var M=ue-1>>>1,Q=se[M];if(0<o(Q,ye))se[M]=ye,se[ue]=Q,ue=M;else break e}}function t(se){return se.length===0?null:se[0]}function s(se){if(se.length===0)return null;var ye=se[0],ue=se.pop();if(ue!==ye){se[0]=ue;e:for(var M=0,Q=se.length,me=Q>>>1;M<me;){var Se=2*(M+1)-1,Ae=se[Se],be=Se+1,je=se[be];if(0>o(Ae,ue))be<Q&&0>o(je,Ae)?(se[M]=je,se[be]=ue,M=be):(se[M]=Ae,se[Se]=ue,M=Se);else if(be<Q&&0>o(je,ue))se[M]=je,se[be]=ue,M=be;else break e}}return ye}function o(se,ye){var ue=se.sortIndex-ye.sortIndex;return ue!==0?ue:se.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var h=Date,d=h.now();n.unstable_now=function(){return h.now()-d}}var m=[],v=[],w=1,T=null,I=3,O=!1,z=!1,L=!1,k=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(se){for(var ye=t(v);ye!==null;){if(ye.callback===null)s(v);else if(ye.startTime<=se)s(v),ye.sortIndex=ye.expirationTime,e(m,ye);else break;ye=t(v)}}function X(se){if(L=!1,$(se),!z)if(t(m)!==null)z=!0,Ot(oe);else{var ye=t(v);ye!==null&&ze(X,ye.startTime-se)}}function oe(se,ye){z=!1,L&&(L=!1,J(S),S=-1),O=!0;var ue=I;try{for($(ye),T=t(m);T!==null&&(!(T.expirationTime>ye)||se&&!D());){var M=T.callback;if(typeof M=="function"){T.callback=null,I=T.priorityLevel;var Q=M(T.expirationTime<=ye);ye=n.unstable_now(),typeof Q=="function"?T.callback=Q:T===t(m)&&s(m),$(ye)}else s(m);T=t(m)}if(T!==null)var me=!0;else{var Se=t(v);Se!==null&&ze(X,Se.startTime-ye),me=!1}return me}finally{T=null,I=ue,O=!1}}var ae=!1,b=null,S=-1,R=5,P=-1;function D(){return!(n.unstable_now()-P<R)}function j(){if(b!==null){var se=n.unstable_now();P=se;var ye=!0;try{ye=b(!0,se)}finally{ye?C():(ae=!1,b=null)}}else ae=!1}var C;if(typeof W=="function")C=function(){W(j)};else if(typeof MessageChannel<"u"){var rt=new MessageChannel,Xe=rt.port2;rt.port1.onmessage=j,C=function(){Xe.postMessage(null)}}else C=function(){k(j,0)};function Ot(se){b=se,ae||(ae=!0,C())}function ze(se,ye){S=k(function(){se(n.unstable_now())},ye)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(se){se.callback=null},n.unstable_continueExecution=function(){z||O||(z=!0,Ot(oe))},n.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<se?Math.floor(1e3/se):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_getFirstCallbackNode=function(){return t(m)},n.unstable_next=function(se){switch(I){case 1:case 2:case 3:var ye=3;break;default:ye=I}var ue=I;I=ye;try{return se()}finally{I=ue}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(se,ye){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var ue=I;I=se;try{return ye()}finally{I=ue}},n.unstable_scheduleCallback=function(se,ye,ue){var M=n.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?M+ue:M):ue=M,se){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=ue+Q,se={id:w++,callback:ye,priorityLevel:se,startTime:ue,expirationTime:Q,sortIndex:-1},ue>M?(se.sortIndex=ue,e(v,se),t(m)===null&&se===t(v)&&(L?(J(S),S=-1):L=!0,ze(X,ue-M))):(se.sortIndex=Q,e(m,se),z||O||(z=!0,Ot(oe))),se},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(se){var ye=I;return function(){var ue=I;I=ye;try{return se.apply(this,arguments)}finally{I=ue}}}})(Hd)),Hd}var sy;function CT(){return sy||(sy=1,qd.exports=AT()),qd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy;function RT(){if(iy)return tn;iy=1;var n=Il(),e=CT();function t(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(r,i){h(r,i),h(r+"Capture",i)}function h(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},T={};function I(r){return m.call(T,r)?!0:m.call(w,r)?!1:v.test(r)?T[r]=!0:(w[r]=!0,!1)}function O(r,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function z(r,i,a,c){if(i===null||typeof i>"u"||O(r,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function L(r,i,a,c,f,g,E){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=r,this.type=i,this.sanitizeURL=g,this.removeEmptyString=E}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){k[r]=new L(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];k[i]=new L(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){k[r]=new L(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){k[r]=new L(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){k[r]=new L(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){k[r]=new L(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){k[r]=new L(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){k[r]=new L(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){k[r]=new L(r,5,!1,r.toLowerCase(),null,!1,!1)});var J=/[\-:]([a-z])/g;function W(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(J,W);k[i]=new L(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(J,W);k[i]=new L(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(J,W);k[i]=new L(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){k[r]=new L(r,1,!1,r.toLowerCase(),null,!1,!1)}),k.xlinkHref=new L("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){k[r]=new L(r,1,!1,r.toLowerCase(),null,!0,!0)});function $(r,i,a,c){var f=k.hasOwnProperty(i)?k[i]:null;(f!==null?f.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(z(i,a,f,c)&&(a=null),c||f===null?I(i)&&(a===null?r.removeAttribute(i):r.setAttribute(i,""+a)):f.mustUseProperty?r[f.propertyName]=a===null?f.type===3?!1:"":a:(i=f.attributeName,c=f.attributeNamespace,a===null?r.removeAttribute(i):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,c?r.setAttributeNS(c,i,a):r.setAttribute(i,a))))}var X=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,oe=Symbol.for("react.element"),ae=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),D=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),rt=Symbol.for("react.suspense_list"),Xe=Symbol.for("react.memo"),Ot=Symbol.for("react.lazy"),ze=Symbol.for("react.offscreen"),se=Symbol.iterator;function ye(r){return r===null||typeof r!="object"?null:(r=se&&r[se]||r["@@iterator"],typeof r=="function"?r:null)}var ue=Object.assign,M;function Q(r){if(M===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);M=i&&i[1]||""}return`
`+M+r}var me=!1;function Se(r,i){if(!r||me)return"";me=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(q){var c=q}Reflect.construct(r,[],i)}else{try{i.call()}catch(q){c=q}r.call(i.prototype)}else{try{throw Error()}catch(q){c=q}r()}}catch(q){if(q&&c&&typeof q.stack=="string"){for(var f=q.stack.split(`
`),g=c.stack.split(`
`),E=f.length-1,A=g.length-1;1<=E&&0<=A&&f[E]!==g[A];)A--;for(;1<=E&&0<=A;E--,A--)if(f[E]!==g[A]){if(E!==1||A!==1)do if(E--,A--,0>A||f[E]!==g[A]){var N=`
`+f[E].replace(" at new "," at ");return r.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",r.displayName)),N}while(1<=E&&0<=A);break}}}finally{me=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?Q(r):""}function Ae(r){switch(r.tag){case 5:return Q(r.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return r=Se(r.type,!1),r;case 11:return r=Se(r.type.render,!1),r;case 1:return r=Se(r.type,!0),r;default:return""}}function be(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case b:return"Fragment";case ae:return"Portal";case R:return"Profiler";case S:return"StrictMode";case C:return"Suspense";case rt:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case D:return(r.displayName||"Context")+".Consumer";case P:return(r._context.displayName||"Context")+".Provider";case j:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Xe:return i=r.displayName||null,i!==null?i:be(r.type)||"Memo";case Ot:i=r._payload,r=r._init;try{return be(r(i))}catch{}}return null}function je(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(i);case 8:return i===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Me(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function $e(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Tt(r){var i=$e(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),c=""+r[i];if(!r.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return f.call(this)},set:function(E){c=""+E,g.call(this,E)}}),Object.defineProperty(r,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(E){c=""+E},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function gr(r){r._valueTracker||(r._valueTracker=Tt(r))}function Di(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return r&&(c=$e(r)?r.checked?"true":"false":r.value),r=c,r!==a?(i.setValue(r),!0):!1}function Hr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Us(r,i){var a=i.checked;return ue({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Vi(r,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=Me(i.value!=null?i.value:a),r._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function ta(r,i){i=i.checked,i!=null&&$(r,"checked",i,!1)}function na(r,i){ta(r,i);var a=Me(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(c==="submit"||c==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?Oi(r,i.type,a):i.hasOwnProperty("defaultValue")&&Oi(r,i.type,Me(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function Ul(r,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,a||i===r.value||(r.value=i),r.defaultValue=i}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Oi(r,i,a){(i!=="number"||Hr(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var yr=Array.isArray;function vr(r,i,a,c){if(r=r.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=i.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&c&&(r[a].defaultSelected=!0)}else{for(a=""+Me(a),i=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,c&&(r[f].defaultSelected=!0);return}i!==null||r[f].disabled||(i=r[f])}i!==null&&(i.selected=!0)}}function ra(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return ue({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Li(r,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(yr(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}r._wrapperState={initialValue:Me(a)}}function ji(r,i){var a=Me(i.value),c=Me(i.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),i.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),c!=null&&(r.defaultValue=""+c)}function sa(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function gt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yt(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?gt(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var _r,ia=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,f){MSApp.execUnsafeLocalFunction(function(){return r(i,a,c,f)})}:r})(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(_r=_r||document.createElement("div"),_r.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=_r.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function Wr(r,i){if(i){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=i;return}}r.textContent=i}var zs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bs=["Webkit","ms","Moz","O"];Object.keys(zs).forEach(function(r){Bs.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),zs[i]=zs[r]})});function oa(r,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||zs.hasOwnProperty(r)&&zs[r]?(""+i).trim():i+"px"}function aa(r,i){r=r.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,f=oa(a,i[a],c);a==="float"&&(a="cssFloat"),c?r.setProperty(a,f):r[a]=f}}var la=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ua(r,i){if(i){if(la[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function ca(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $s=null;function Mi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Fi=null,pn=null,Hn=null;function Ui(r){if(r=Va(r)){if(typeof Fi!="function")throw Error(t(280));var i=r.stateNode;i&&(i=gu(i),Fi(r.stateNode,r.type,i))}}function Wn(r){pn?Hn?Hn.push(r):Hn=[r]:pn=r}function ha(){if(pn){var r=pn,i=Hn;if(Hn=pn=null,Ui(r),i)for(r=0;r<i.length;r++)Ui(i[r])}}function qs(r,i){return r(i)}function da(){}var wr=!1;function fa(r,i,a){if(wr)return r(i,a);wr=!0;try{return qs(r,i,a)}finally{wr=!1,(pn!==null||Hn!==null)&&(da(),ha())}}function it(r,i){var a=r.stateNode;if(a===null)return null;var c=gu(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var zi=!1;if(d)try{var Sn={};Object.defineProperty(Sn,"passive",{get:function(){zi=!0}}),window.addEventListener("test",Sn,Sn),window.removeEventListener("test",Sn,Sn)}catch{zi=!1}function Hs(r,i,a,c,f,g,E,A,N){var q=Array.prototype.slice.call(arguments,3);try{i.apply(a,q)}catch(ee){this.onError(ee)}}var Ws=!1,Bi=null,An=!1,pa=null,mh={onError:function(r){Ws=!0,Bi=r}};function $i(r,i,a,c,f,g,E,A,N){Ws=!1,Bi=null,Hs.apply(mh,arguments)}function zl(r,i,a,c,f,g,E,A,N){if($i.apply(this,arguments),Ws){if(Ws){var q=Bi;Ws=!1,Bi=null}else throw Error(t(198));An||(An=!0,pa=q)}}function Cn(r){var i=r,a=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(a=i.return),r=i.return;while(r)}return i.tag===3?a:null}function Gs(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function Rn(r){if(Cn(r)!==r)throw Error(t(188))}function Bl(r){var i=r.alternate;if(!i){if(i=Cn(r),i===null)throw Error(t(188));return i!==r?null:r}for(var a=r,c=i;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return Rn(f),r;if(g===c)return Rn(f),i;g=g.sibling}throw Error(t(188))}if(a.return!==c.return)a=f,c=g;else{for(var E=!1,A=f.child;A;){if(A===a){E=!0,a=f,c=g;break}if(A===c){E=!0,c=f,a=g;break}A=A.sibling}if(!E){for(A=g.child;A;){if(A===a){E=!0,a=g,c=f;break}if(A===c){E=!0,c=g,a=f;break}A=A.sibling}if(!E)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:i}function ma(r){return r=Bl(r),r!==null?qi(r):null}function qi(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=qi(r);if(i!==null)return i;r=r.sibling}return null}var Hi=e.unstable_scheduleCallback,ga=e.unstable_cancelCallback,$l=e.unstable_shouldYield,gh=e.unstable_requestPaint,qe=e.unstable_now,ql=e.unstable_getCurrentPriorityLevel,Ks=e.unstable_ImmediatePriority,Gr=e.unstable_UserBlockingPriority,mn=e.unstable_NormalPriority,ya=e.unstable_LowPriority,Hl=e.unstable_IdlePriority,Qs=null,sn=null;function Wl(r){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(Qs,r,void 0,(r.current.flags&128)===128)}catch{}}var qt=Math.clz32?Math.clz32:Kl,va=Math.log,Gl=Math.LN2;function Kl(r){return r>>>=0,r===0?32:31-(va(r)/Gl|0)|0}var Wi=64,Gi=4194304;function Kr(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Ys(r,i){var a=r.pendingLanes;if(a===0)return 0;var c=0,f=r.suspendedLanes,g=r.pingedLanes,E=a&268435455;if(E!==0){var A=E&~f;A!==0?c=Kr(A):(g&=E,g!==0&&(c=Kr(g)))}else E=a&~f,E!==0?c=Kr(E):g!==0&&(c=Kr(g));if(c===0)return 0;if(i!==0&&i!==c&&(i&f)===0&&(f=c&-c,g=i&-i,f>=g||f===16&&(g&4194240)!==0))return i;if((c&4)!==0&&(c|=a&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=c;0<i;)a=31-qt(i),f=1<<a,c|=r[a],i&=~f;return c}function yh(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Er(r,i){for(var a=r.suspendedLanes,c=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var E=31-qt(g),A=1<<E,N=f[E];N===-1?((A&a)===0||(A&c)!==0)&&(f[E]=yh(A,i)):N<=i&&(r.expiredLanes|=A),g&=~A}}function on(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Xs(){var r=Wi;return Wi<<=1,(Wi&4194240)===0&&(Wi=64),r}function Qr(r){for(var i=[],a=0;31>a;a++)i.push(r);return i}function Yr(r,i,a){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-qt(i),r[i]=a}function Be(r,i){var a=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var c=r.eventTimes;for(r=r.expirationTimes;0<a;){var f=31-qt(a),g=1<<f;i[f]=0,c[f]=-1,r[f]=-1,a&=~g}}function Xr(r,i){var a=r.entangledLanes|=i;for(r=r.entanglements;a;){var c=31-qt(a),f=1<<c;f&i|r[c]&i&&(r[c]|=i),a&=~f}}var Pe=0;function Jr(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Ql,Ki,Yl,Xl,Jl,_a=!1,Gn=[],Rt=null,kn=null,Nn=null,Zr=new Map,gn=new Map,Kn=[],vh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zl(r,i){switch(r){case"focusin":case"focusout":Rt=null;break;case"dragenter":case"dragleave":kn=null;break;case"mouseover":case"mouseout":Nn=null;break;case"pointerover":case"pointerout":Zr.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":gn.delete(i.pointerId)}}function Kt(r,i,a,c,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[f]},i!==null&&(i=Va(i),i!==null&&Ki(i)),r):(r.eventSystemFlags|=c,i=r.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),r)}function _h(r,i,a,c,f){switch(i){case"focusin":return Rt=Kt(Rt,r,i,a,c,f),!0;case"dragenter":return kn=Kt(kn,r,i,a,c,f),!0;case"mouseover":return Nn=Kt(Nn,r,i,a,c,f),!0;case"pointerover":var g=f.pointerId;return Zr.set(g,Kt(Zr.get(g)||null,r,i,a,c,f)),!0;case"gotpointercapture":return g=f.pointerId,gn.set(g,Kt(gn.get(g)||null,r,i,a,c,f)),!0}return!1}function eu(r){var i=ni(r.target);if(i!==null){var a=Cn(i);if(a!==null){if(i=a.tag,i===13){if(i=Gs(a),i!==null){r.blockedOn=i,Jl(r.priority,function(){Yl(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Tr(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var a=Qi(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var c=new a.constructor(a.type,a);$s=c,a.target.dispatchEvent(c),$s=null}else return i=Va(a),i!==null&&Ki(i),r.blockedOn=a,!1;i.shift()}return!0}function Js(r,i,a){Tr(r)&&a.delete(i)}function tu(){_a=!1,Rt!==null&&Tr(Rt)&&(Rt=null),kn!==null&&Tr(kn)&&(kn=null),Nn!==null&&Tr(Nn)&&(Nn=null),Zr.forEach(Js),gn.forEach(Js)}function Pn(r,i){r.blockedOn===i&&(r.blockedOn=null,_a||(_a=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,tu)))}function bn(r){function i(f){return Pn(f,r)}if(0<Gn.length){Pn(Gn[0],r);for(var a=1;a<Gn.length;a++){var c=Gn[a];c.blockedOn===r&&(c.blockedOn=null)}}for(Rt!==null&&Pn(Rt,r),kn!==null&&Pn(kn,r),Nn!==null&&Pn(Nn,r),Zr.forEach(i),gn.forEach(i),a=0;a<Kn.length;a++)c=Kn[a],c.blockedOn===r&&(c.blockedOn=null);for(;0<Kn.length&&(a=Kn[0],a.blockedOn===null);)eu(a),a.blockedOn===null&&Kn.shift()}var xr=X.ReactCurrentBatchConfig,es=!0;function Je(r,i,a,c){var f=Pe,g=xr.transition;xr.transition=null;try{Pe=1,wa(r,i,a,c)}finally{Pe=f,xr.transition=g}}function wh(r,i,a,c){var f=Pe,g=xr.transition;xr.transition=null;try{Pe=4,wa(r,i,a,c)}finally{Pe=f,xr.transition=g}}function wa(r,i,a,c){if(es){var f=Qi(r,i,a,c);if(f===null)Ph(r,i,c,Zs,a),Zl(r,c);else if(_h(f,r,i,a,c))c.stopPropagation();else if(Zl(r,c),i&4&&-1<vh.indexOf(r)){for(;f!==null;){var g=Va(f);if(g!==null&&Ql(g),g=Qi(r,i,a,c),g===null&&Ph(r,i,c,Zs,a),g===f)break;f=g}f!==null&&c.stopPropagation()}else Ph(r,i,c,null,a)}}var Zs=null;function Qi(r,i,a,c){if(Zs=null,r=Mi(c),r=ni(r),r!==null)if(i=Cn(r),i===null)r=null;else if(a=i.tag,a===13){if(r=Gs(i),r!==null)return r;r=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return Zs=r,null}function Ea(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ql()){case Ks:return 1;case Gr:return 4;case mn:case ya:return 16;case Hl:return 536870912;default:return 16}default:return 16}}var an=null,Yi=null,Qt=null;function Ta(){if(Qt)return Qt;var r,i=Yi,a=i.length,c,f="value"in an?an.value:an.textContent,g=f.length;for(r=0;r<a&&i[r]===f[r];r++);var E=a-r;for(c=1;c<=E&&i[a-c]===f[g-c];c++);return Qt=f.slice(r,1<c?1-c:void 0)}function Xi(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Qn(){return!0}function xa(){return!1}function kt(r){function i(a,c,f,g,E){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(a=r[A],this[A]=a?a(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Qn:xa,this.isPropagationStopped=xa,this}return ue(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Qn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Qn)},persist:function(){},isPersistent:Qn}),i}var Dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ji=kt(Dn),Yn=ue({},Dn,{view:0,detail:0}),Eh=kt(Yn),Zi,Ir,ts,ei=ue({},Yn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xn,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ts&&(ts&&r.type==="mousemove"?(Zi=r.screenX-ts.screenX,Ir=r.screenY-ts.screenY):Ir=Zi=0,ts=r),Zi)},movementY:function(r){return"movementY"in r?r.movementY:Ir}}),eo=kt(ei),Ia=ue({},ei,{dataTransfer:0}),nu=kt(Ia),to=ue({},Yn,{relatedTarget:0}),no=kt(to),ru=ue({},Dn,{animationName:0,elapsedTime:0,pseudoElement:0}),Sr=kt(ru),su=ue({},Dn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),iu=kt(su),ou=ue({},Dn,{data:0}),Sa=kt(ou),ro={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ht={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lu(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=au[r])?!!i[r]:!1}function Xn(){return lu}var u=ue({},Yn,{key:function(r){if(r.key){var i=ro[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Xi(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ht[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xn,charCode:function(r){return r.type==="keypress"?Xi(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Xi(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),p=kt(u),_=ue({},ei,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),x=kt(_),F=ue({},Yn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xn}),H=kt(F),re=ue({},Dn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ue=kt(re),vt=ue({},ei,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),De=kt(vt),xt=[9,13,27,32],ct=d&&"CompositionEvent"in window,yn=null;d&&"documentMode"in document&&(yn=document.documentMode);var ln=d&&"TextEvent"in window&&!yn,ti=d&&(!ct||yn&&8<yn&&11>=yn),so=" ",Gp=!1;function Kp(r,i){switch(r){case"keyup":return xt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var io=!1;function vE(r,i){switch(r){case"compositionend":return Qp(i);case"keypress":return i.which!==32?null:(Gp=!0,so);case"textInput":return r=i.data,r===so&&Gp?null:r;default:return null}}function _E(r,i){if(io)return r==="compositionend"||!ct&&Kp(r,i)?(r=Ta(),Qt=Yi=an=null,io=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ti&&i.locale!=="ko"?null:i.data;default:return null}}var wE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yp(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!wE[r.type]:i==="textarea"}function Xp(r,i,a,c){Wn(c),i=fu(i,"onChange"),0<i.length&&(a=new Ji("onChange","change",null,a,c),r.push({event:a,listeners:i}))}var Aa=null,Ca=null;function EE(r){mm(r,0)}function uu(r){var i=co(r);if(Di(i))return r}function TE(r,i){if(r==="change")return i}var Jp=!1;if(d){var Th;if(d){var xh="oninput"in document;if(!xh){var Zp=document.createElement("div");Zp.setAttribute("oninput","return;"),xh=typeof Zp.oninput=="function"}Th=xh}else Th=!1;Jp=Th&&(!document.documentMode||9<document.documentMode)}function em(){Aa&&(Aa.detachEvent("onpropertychange",tm),Ca=Aa=null)}function tm(r){if(r.propertyName==="value"&&uu(Ca)){var i=[];Xp(i,Ca,r,Mi(r)),fa(EE,i)}}function xE(r,i,a){r==="focusin"?(em(),Aa=i,Ca=a,Aa.attachEvent("onpropertychange",tm)):r==="focusout"&&em()}function IE(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return uu(Ca)}function SE(r,i){if(r==="click")return uu(i)}function AE(r,i){if(r==="input"||r==="change")return uu(i)}function CE(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Vn=typeof Object.is=="function"?Object.is:CE;function Ra(r,i){if(Vn(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var a=Object.keys(r),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!m.call(i,f)||!Vn(r[f],i[f]))return!1}return!0}function nm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function rm(r,i){var a=nm(r);r=0;for(var c;a;){if(a.nodeType===3){if(c=r+a.textContent.length,r<=i&&c>=i)return{node:a,offset:i-r};r=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=nm(a)}}function sm(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?sm(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function im(){for(var r=window,i=Hr();i instanceof r.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)r=i.contentWindow;else break;i=Hr(r.document)}return i}function Ih(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function RE(r){var i=im(),a=r.focusedElem,c=r.selectionRange;if(i!==a&&a&&a.ownerDocument&&sm(a.ownerDocument.documentElement,a)){if(c!==null&&Ih(a)){if(i=c.start,r=c.end,r===void 0&&(r=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(r,a.value.length);else if(r=(i=a.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var f=a.textContent.length,g=Math.min(c.start,f);c=c.end===void 0?g:Math.min(c.end,f),!r.extend&&g>c&&(f=c,c=g,g=f),f=rm(a,g);var E=rm(a,c);f&&E&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),r.removeAllRanges(),g>c?(r.addRange(i),r.extend(E.node,E.offset)):(i.setEnd(E.node,E.offset),r.addRange(i)))}}for(i=[],r=a;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)r=i[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var kE=d&&"documentMode"in document&&11>=document.documentMode,oo=null,Sh=null,ka=null,Ah=!1;function om(r,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ah||oo==null||oo!==Hr(c)||(c=oo,"selectionStart"in c&&Ih(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ka&&Ra(ka,c)||(ka=c,c=fu(Sh,"onSelect"),0<c.length&&(i=new Ji("onSelect","select",null,i,a),r.push({event:i,listeners:c}),i.target=oo)))}function cu(r,i){var a={};return a[r.toLowerCase()]=i.toLowerCase(),a["Webkit"+r]="webkit"+i,a["Moz"+r]="moz"+i,a}var ao={animationend:cu("Animation","AnimationEnd"),animationiteration:cu("Animation","AnimationIteration"),animationstart:cu("Animation","AnimationStart"),transitionend:cu("Transition","TransitionEnd")},Ch={},am={};d&&(am=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function hu(r){if(Ch[r])return Ch[r];if(!ao[r])return r;var i=ao[r],a;for(a in i)if(i.hasOwnProperty(a)&&a in am)return Ch[r]=i[a];return r}var lm=hu("animationend"),um=hu("animationiteration"),cm=hu("animationstart"),hm=hu("transitionend"),dm=new Map,fm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ns(r,i){dm.set(r,i),l(i,[r])}for(var Rh=0;Rh<fm.length;Rh++){var kh=fm[Rh],NE=kh.toLowerCase(),PE=kh[0].toUpperCase()+kh.slice(1);ns(NE,"on"+PE)}ns(lm,"onAnimationEnd"),ns(um,"onAnimationIteration"),ns(cm,"onAnimationStart"),ns("dblclick","onDoubleClick"),ns("focusin","onFocus"),ns("focusout","onBlur"),ns(hm,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Na="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Na));function pm(r,i,a){var c=r.type||"unknown-event";r.currentTarget=a,zl(c,i,void 0,r),r.currentTarget=null}function mm(r,i){i=(i&4)!==0;for(var a=0;a<r.length;a++){var c=r[a],f=c.event;c=c.listeners;e:{var g=void 0;if(i)for(var E=c.length-1;0<=E;E--){var A=c[E],N=A.instance,q=A.currentTarget;if(A=A.listener,N!==g&&f.isPropagationStopped())break e;pm(f,A,q),g=N}else for(E=0;E<c.length;E++){if(A=c[E],N=A.instance,q=A.currentTarget,A=A.listener,N!==g&&f.isPropagationStopped())break e;pm(f,A,q),g=N}}}if(An)throw r=pa,An=!1,pa=null,r}function Ke(r,i){var a=i[jh];a===void 0&&(a=i[jh]=new Set);var c=r+"__bubble";a.has(c)||(gm(i,r,2,!1),a.add(c))}function Nh(r,i,a){var c=0;i&&(c|=4),gm(a,r,c,i)}var du="_reactListening"+Math.random().toString(36).slice(2);function Pa(r){if(!r[du]){r[du]=!0,s.forEach(function(a){a!=="selectionchange"&&(bE.has(a)||Nh(a,!1,r),Nh(a,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[du]||(i[du]=!0,Nh("selectionchange",!1,i))}}function gm(r,i,a,c){switch(Ea(i)){case 1:var f=Je;break;case 4:f=wh;break;default:f=wa}a=f.bind(null,i,a,r),f=void 0,!zi||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),c?f!==void 0?r.addEventListener(i,a,{capture:!0,passive:f}):r.addEventListener(i,a,!0):f!==void 0?r.addEventListener(i,a,{passive:f}):r.addEventListener(i,a,!1)}function Ph(r,i,a,c,f){var g=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var A=c.stateNode.containerInfo;if(A===f||A.nodeType===8&&A.parentNode===f)break;if(E===4)for(E=c.return;E!==null;){var N=E.tag;if((N===3||N===4)&&(N=E.stateNode.containerInfo,N===f||N.nodeType===8&&N.parentNode===f))return;E=E.return}for(;A!==null;){if(E=ni(A),E===null)return;if(N=E.tag,N===5||N===6){c=g=E;continue e}A=A.parentNode}}c=c.return}fa(function(){var q=g,ee=Mi(a),te=[];e:{var Z=dm.get(r);if(Z!==void 0){var le=Ji,de=r;switch(r){case"keypress":if(Xi(a)===0)break e;case"keydown":case"keyup":le=p;break;case"focusin":de="focus",le=no;break;case"focusout":de="blur",le=no;break;case"beforeblur":case"afterblur":le=no;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=eo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=nu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=H;break;case lm:case um:case cm:le=Sr;break;case hm:le=Ue;break;case"scroll":le=Eh;break;case"wheel":le=De;break;case"copy":case"cut":case"paste":le=iu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=x}var fe=(i&4)!==0,ot=!fe&&r==="scroll",U=fe?Z!==null?Z+"Capture":null:Z;fe=[];for(var V=q,B;V!==null;){B=V;var ne=B.stateNode;if(B.tag===5&&ne!==null&&(B=ne,U!==null&&(ne=it(V,U),ne!=null&&fe.push(ba(V,ne,B)))),ot)break;V=V.return}0<fe.length&&(Z=new le(Z,de,null,a,ee),te.push({event:Z,listeners:fe}))}}if((i&7)===0){e:{if(Z=r==="mouseover"||r==="pointerover",le=r==="mouseout"||r==="pointerout",Z&&a!==$s&&(de=a.relatedTarget||a.fromElement)&&(ni(de)||de[Ar]))break e;if((le||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,le?(de=a.relatedTarget||a.toElement,le=q,de=de?ni(de):null,de!==null&&(ot=Cn(de),de!==ot||de.tag!==5&&de.tag!==6)&&(de=null)):(le=null,de=q),le!==de)){if(fe=eo,ne="onMouseLeave",U="onMouseEnter",V="mouse",(r==="pointerout"||r==="pointerover")&&(fe=x,ne="onPointerLeave",U="onPointerEnter",V="pointer"),ot=le==null?Z:co(le),B=de==null?Z:co(de),Z=new fe(ne,V+"leave",le,a,ee),Z.target=ot,Z.relatedTarget=B,ne=null,ni(ee)===q&&(fe=new fe(U,V+"enter",de,a,ee),fe.target=B,fe.relatedTarget=ot,ne=fe),ot=ne,le&&de)t:{for(fe=le,U=de,V=0,B=fe;B;B=lo(B))V++;for(B=0,ne=U;ne;ne=lo(ne))B++;for(;0<V-B;)fe=lo(fe),V--;for(;0<B-V;)U=lo(U),B--;for(;V--;){if(fe===U||U!==null&&fe===U.alternate)break t;fe=lo(fe),U=lo(U)}fe=null}else fe=null;le!==null&&ym(te,Z,le,fe,!1),de!==null&&ot!==null&&ym(te,ot,de,fe,!0)}}e:{if(Z=q?co(q):window,le=Z.nodeName&&Z.nodeName.toLowerCase(),le==="select"||le==="input"&&Z.type==="file")var pe=TE;else if(Yp(Z))if(Jp)pe=AE;else{pe=IE;var ve=xE}else(le=Z.nodeName)&&le.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(pe=SE);if(pe&&(pe=pe(r,q))){Xp(te,pe,a,ee);break e}ve&&ve(r,Z,q),r==="focusout"&&(ve=Z._wrapperState)&&ve.controlled&&Z.type==="number"&&Oi(Z,"number",Z.value)}switch(ve=q?co(q):window,r){case"focusin":(Yp(ve)||ve.contentEditable==="true")&&(oo=ve,Sh=q,ka=null);break;case"focusout":ka=Sh=oo=null;break;case"mousedown":Ah=!0;break;case"contextmenu":case"mouseup":case"dragend":Ah=!1,om(te,a,ee);break;case"selectionchange":if(kE)break;case"keydown":case"keyup":om(te,a,ee)}var _e;if(ct)e:{switch(r){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else io?Kp(r,a)&&(Te="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(ti&&a.locale!=="ko"&&(io||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&io&&(_e=Ta()):(an=ee,Yi="value"in an?an.value:an.textContent,io=!0)),ve=fu(q,Te),0<ve.length&&(Te=new Sa(Te,r,null,a,ee),te.push({event:Te,listeners:ve}),_e?Te.data=_e:(_e=Qp(a),_e!==null&&(Te.data=_e)))),(_e=ln?vE(r,a):_E(r,a))&&(q=fu(q,"onBeforeInput"),0<q.length&&(ee=new Sa("onBeforeInput","beforeinput",null,a,ee),te.push({event:ee,listeners:q}),ee.data=_e))}mm(te,i)})}function ba(r,i,a){return{instance:r,listener:i,currentTarget:a}}function fu(r,i){for(var a=i+"Capture",c=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=it(r,a),g!=null&&c.unshift(ba(r,g,f)),g=it(r,i),g!=null&&c.push(ba(r,g,f))),r=r.return}return c}function lo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function ym(r,i,a,c,f){for(var g=i._reactName,E=[];a!==null&&a!==c;){var A=a,N=A.alternate,q=A.stateNode;if(N!==null&&N===c)break;A.tag===5&&q!==null&&(A=q,f?(N=it(a,g),N!=null&&E.unshift(ba(a,N,A))):f||(N=it(a,g),N!=null&&E.push(ba(a,N,A)))),a=a.return}E.length!==0&&r.push({event:i,listeners:E})}var DE=/\r\n?/g,VE=/\u0000|\uFFFD/g;function vm(r){return(typeof r=="string"?r:""+r).replace(DE,`
`).replace(VE,"")}function pu(r,i,a){if(i=vm(i),vm(r)!==i&&a)throw Error(t(425))}function mu(){}var bh=null,Dh=null;function Vh(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Oh=typeof setTimeout=="function"?setTimeout:void 0,OE=typeof clearTimeout=="function"?clearTimeout:void 0,_m=typeof Promise=="function"?Promise:void 0,LE=typeof queueMicrotask=="function"?queueMicrotask:typeof _m<"u"?function(r){return _m.resolve(null).then(r).catch(jE)}:Oh;function jE(r){setTimeout(function(){throw r})}function Lh(r,i){var a=i,c=0;do{var f=a.nextSibling;if(r.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(c===0){r.removeChild(f),bn(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=f}while(a);bn(i)}function rs(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function wm(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return r;i--}else a==="/$"&&i++}r=r.previousSibling}return null}var uo=Math.random().toString(36).slice(2),Jn="__reactFiber$"+uo,Da="__reactProps$"+uo,Ar="__reactContainer$"+uo,jh="__reactEvents$"+uo,ME="__reactListeners$"+uo,FE="__reactHandles$"+uo;function ni(r){var i=r[Jn];if(i)return i;for(var a=r.parentNode;a;){if(i=a[Ar]||a[Jn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(r=wm(r);r!==null;){if(a=r[Jn])return a;r=wm(r)}return i}r=a,a=r.parentNode}return null}function Va(r){return r=r[Jn]||r[Ar],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function co(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function gu(r){return r[Da]||null}var Mh=[],ho=-1;function ss(r){return{current:r}}function Qe(r){0>ho||(r.current=Mh[ho],Mh[ho]=null,ho--)}function He(r,i){ho++,Mh[ho]=r.current,r.current=i}var is={},Lt=ss(is),Yt=ss(!1),ri=is;function fo(r,i){var a=r.type.contextTypes;if(!a)return is;var c=r.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in a)f[g]=i[g];return c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=f),f}function Xt(r){return r=r.childContextTypes,r!=null}function yu(){Qe(Yt),Qe(Lt)}function Em(r,i,a){if(Lt.current!==is)throw Error(t(168));He(Lt,i),He(Yt,a)}function Tm(r,i,a){var c=r.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var f in c)if(!(f in i))throw Error(t(108,je(r)||"Unknown",f));return ue({},a,c)}function vu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||is,ri=Lt.current,He(Lt,r),He(Yt,Yt.current),!0}function xm(r,i,a){var c=r.stateNode;if(!c)throw Error(t(169));a?(r=Tm(r,i,ri),c.__reactInternalMemoizedMergedChildContext=r,Qe(Yt),Qe(Lt),He(Lt,r)):Qe(Yt),He(Yt,a)}var Cr=null,_u=!1,Fh=!1;function Im(r){Cr===null?Cr=[r]:Cr.push(r)}function UE(r){_u=!0,Im(r)}function os(){if(!Fh&&Cr!==null){Fh=!0;var r=0,i=Pe;try{var a=Cr;for(Pe=1;r<a.length;r++){var c=a[r];do c=c(!0);while(c!==null)}Cr=null,_u=!1}catch(f){throw Cr!==null&&(Cr=Cr.slice(r+1)),Hi(Ks,os),f}finally{Pe=i,Fh=!1}}return null}var po=[],mo=0,wu=null,Eu=0,vn=[],_n=0,si=null,Rr=1,kr="";function ii(r,i){po[mo++]=Eu,po[mo++]=wu,wu=r,Eu=i}function Sm(r,i,a){vn[_n++]=Rr,vn[_n++]=kr,vn[_n++]=si,si=r;var c=Rr;r=kr;var f=32-qt(c)-1;c&=~(1<<f),a+=1;var g=32-qt(i)+f;if(30<g){var E=f-f%5;g=(c&(1<<E)-1).toString(32),c>>=E,f-=E,Rr=1<<32-qt(i)+f|a<<f|c,kr=g+r}else Rr=1<<g|a<<f|c,kr=r}function Uh(r){r.return!==null&&(ii(r,1),Sm(r,1,0))}function zh(r){for(;r===wu;)wu=po[--mo],po[mo]=null,Eu=po[--mo],po[mo]=null;for(;r===si;)si=vn[--_n],vn[_n]=null,kr=vn[--_n],vn[_n]=null,Rr=vn[--_n],vn[_n]=null}var un=null,cn=null,Ze=!1,On=null;function Am(r,i){var a=xn(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=r,i=r.deletions,i===null?(r.deletions=[a],r.flags|=16):i.push(a)}function Cm(r,i){switch(r.tag){case 5:var a=r.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,un=r,cn=rs(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,un=r,cn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=si!==null?{id:Rr,overflow:kr}:null,r.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=xn(18,null,null,0),a.stateNode=i,a.return=r,r.child=a,un=r,cn=null,!0):!1;default:return!1}}function Bh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function $h(r){if(Ze){var i=cn;if(i){var a=i;if(!Cm(r,i)){if(Bh(r))throw Error(t(418));i=rs(a.nextSibling);var c=un;i&&Cm(r,i)?Am(c,a):(r.flags=r.flags&-4097|2,Ze=!1,un=r)}}else{if(Bh(r))throw Error(t(418));r.flags=r.flags&-4097|2,Ze=!1,un=r}}}function Rm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;un=r}function Tu(r){if(r!==un)return!1;if(!Ze)return Rm(r),Ze=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!Vh(r.type,r.memoizedProps)),i&&(i=cn)){if(Bh(r))throw km(),Error(t(418));for(;i;)Am(r,i),i=rs(i.nextSibling)}if(Rm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(i===0){cn=rs(r.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}r=r.nextSibling}cn=null}}else cn=un?rs(r.stateNode.nextSibling):null;return!0}function km(){for(var r=cn;r;)r=rs(r.nextSibling)}function go(){cn=un=null,Ze=!1}function qh(r){On===null?On=[r]:On.push(r)}var zE=X.ReactCurrentBatchConfig;function Oa(r,i,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,r));var f=c,g=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===g?i.ref:(i=function(E){var A=f.refs;E===null?delete A[g]:A[g]=E},i._stringRef=g,i)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function xu(r,i){throw r=Object.prototype.toString.call(i),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function Nm(r){var i=r._init;return i(r._payload)}function Pm(r){function i(U,V){if(r){var B=U.deletions;B===null?(U.deletions=[V],U.flags|=16):B.push(V)}}function a(U,V){if(!r)return null;for(;V!==null;)i(U,V),V=V.sibling;return null}function c(U,V){for(U=new Map;V!==null;)V.key!==null?U.set(V.key,V):U.set(V.index,V),V=V.sibling;return U}function f(U,V){return U=ps(U,V),U.index=0,U.sibling=null,U}function g(U,V,B){return U.index=B,r?(B=U.alternate,B!==null?(B=B.index,B<V?(U.flags|=2,V):B):(U.flags|=2,V)):(U.flags|=1048576,V)}function E(U){return r&&U.alternate===null&&(U.flags|=2),U}function A(U,V,B,ne){return V===null||V.tag!==6?(V=Od(B,U.mode,ne),V.return=U,V):(V=f(V,B),V.return=U,V)}function N(U,V,B,ne){var pe=B.type;return pe===b?ee(U,V,B.props.children,ne,B.key):V!==null&&(V.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Ot&&Nm(pe)===V.type)?(ne=f(V,B.props),ne.ref=Oa(U,V,B),ne.return=U,ne):(ne=Gu(B.type,B.key,B.props,null,U.mode,ne),ne.ref=Oa(U,V,B),ne.return=U,ne)}function q(U,V,B,ne){return V===null||V.tag!==4||V.stateNode.containerInfo!==B.containerInfo||V.stateNode.implementation!==B.implementation?(V=Ld(B,U.mode,ne),V.return=U,V):(V=f(V,B.children||[]),V.return=U,V)}function ee(U,V,B,ne,pe){return V===null||V.tag!==7?(V=fi(B,U.mode,ne,pe),V.return=U,V):(V=f(V,B),V.return=U,V)}function te(U,V,B){if(typeof V=="string"&&V!==""||typeof V=="number")return V=Od(""+V,U.mode,B),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case oe:return B=Gu(V.type,V.key,V.props,null,U.mode,B),B.ref=Oa(U,null,V),B.return=U,B;case ae:return V=Ld(V,U.mode,B),V.return=U,V;case Ot:var ne=V._init;return te(U,ne(V._payload),B)}if(yr(V)||ye(V))return V=fi(V,U.mode,B,null),V.return=U,V;xu(U,V)}return null}function Z(U,V,B,ne){var pe=V!==null?V.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return pe!==null?null:A(U,V,""+B,ne);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case oe:return B.key===pe?N(U,V,B,ne):null;case ae:return B.key===pe?q(U,V,B,ne):null;case Ot:return pe=B._init,Z(U,V,pe(B._payload),ne)}if(yr(B)||ye(B))return pe!==null?null:ee(U,V,B,ne,null);xu(U,B)}return null}function le(U,V,B,ne,pe){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return U=U.get(B)||null,A(V,U,""+ne,pe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case oe:return U=U.get(ne.key===null?B:ne.key)||null,N(V,U,ne,pe);case ae:return U=U.get(ne.key===null?B:ne.key)||null,q(V,U,ne,pe);case Ot:var ve=ne._init;return le(U,V,B,ve(ne._payload),pe)}if(yr(ne)||ye(ne))return U=U.get(B)||null,ee(V,U,ne,pe,null);xu(V,ne)}return null}function de(U,V,B,ne){for(var pe=null,ve=null,_e=V,Te=V=0,At=null;_e!==null&&Te<B.length;Te++){_e.index>Te?(At=_e,_e=null):At=_e.sibling;var Le=Z(U,_e,B[Te],ne);if(Le===null){_e===null&&(_e=At);break}r&&_e&&Le.alternate===null&&i(U,_e),V=g(Le,V,Te),ve===null?pe=Le:ve.sibling=Le,ve=Le,_e=At}if(Te===B.length)return a(U,_e),Ze&&ii(U,Te),pe;if(_e===null){for(;Te<B.length;Te++)_e=te(U,B[Te],ne),_e!==null&&(V=g(_e,V,Te),ve===null?pe=_e:ve.sibling=_e,ve=_e);return Ze&&ii(U,Te),pe}for(_e=c(U,_e);Te<B.length;Te++)At=le(_e,U,Te,B[Te],ne),At!==null&&(r&&At.alternate!==null&&_e.delete(At.key===null?Te:At.key),V=g(At,V,Te),ve===null?pe=At:ve.sibling=At,ve=At);return r&&_e.forEach(function(ms){return i(U,ms)}),Ze&&ii(U,Te),pe}function fe(U,V,B,ne){var pe=ye(B);if(typeof pe!="function")throw Error(t(150));if(B=pe.call(B),B==null)throw Error(t(151));for(var ve=pe=null,_e=V,Te=V=0,At=null,Le=B.next();_e!==null&&!Le.done;Te++,Le=B.next()){_e.index>Te?(At=_e,_e=null):At=_e.sibling;var ms=Z(U,_e,Le.value,ne);if(ms===null){_e===null&&(_e=At);break}r&&_e&&ms.alternate===null&&i(U,_e),V=g(ms,V,Te),ve===null?pe=ms:ve.sibling=ms,ve=ms,_e=At}if(Le.done)return a(U,_e),Ze&&ii(U,Te),pe;if(_e===null){for(;!Le.done;Te++,Le=B.next())Le=te(U,Le.value,ne),Le!==null&&(V=g(Le,V,Te),ve===null?pe=Le:ve.sibling=Le,ve=Le);return Ze&&ii(U,Te),pe}for(_e=c(U,_e);!Le.done;Te++,Le=B.next())Le=le(_e,U,Te,Le.value,ne),Le!==null&&(r&&Le.alternate!==null&&_e.delete(Le.key===null?Te:Le.key),V=g(Le,V,Te),ve===null?pe=Le:ve.sibling=Le,ve=Le);return r&&_e.forEach(function(wT){return i(U,wT)}),Ze&&ii(U,Te),pe}function ot(U,V,B,ne){if(typeof B=="object"&&B!==null&&B.type===b&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case oe:e:{for(var pe=B.key,ve=V;ve!==null;){if(ve.key===pe){if(pe=B.type,pe===b){if(ve.tag===7){a(U,ve.sibling),V=f(ve,B.props.children),V.return=U,U=V;break e}}else if(ve.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Ot&&Nm(pe)===ve.type){a(U,ve.sibling),V=f(ve,B.props),V.ref=Oa(U,ve,B),V.return=U,U=V;break e}a(U,ve);break}else i(U,ve);ve=ve.sibling}B.type===b?(V=fi(B.props.children,U.mode,ne,B.key),V.return=U,U=V):(ne=Gu(B.type,B.key,B.props,null,U.mode,ne),ne.ref=Oa(U,V,B),ne.return=U,U=ne)}return E(U);case ae:e:{for(ve=B.key;V!==null;){if(V.key===ve)if(V.tag===4&&V.stateNode.containerInfo===B.containerInfo&&V.stateNode.implementation===B.implementation){a(U,V.sibling),V=f(V,B.children||[]),V.return=U,U=V;break e}else{a(U,V);break}else i(U,V);V=V.sibling}V=Ld(B,U.mode,ne),V.return=U,U=V}return E(U);case Ot:return ve=B._init,ot(U,V,ve(B._payload),ne)}if(yr(B))return de(U,V,B,ne);if(ye(B))return fe(U,V,B,ne);xu(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,V!==null&&V.tag===6?(a(U,V.sibling),V=f(V,B),V.return=U,U=V):(a(U,V),V=Od(B,U.mode,ne),V.return=U,U=V),E(U)):a(U,V)}return ot}var yo=Pm(!0),bm=Pm(!1),Iu=ss(null),Su=null,vo=null,Hh=null;function Wh(){Hh=vo=Su=null}function Gh(r){var i=Iu.current;Qe(Iu),r._currentValue=i}function Kh(r,i,a){for(;r!==null;){var c=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),r===a)break;r=r.return}}function _o(r,i){Su=r,Hh=vo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(Jt=!0),r.firstContext=null)}function wn(r){var i=r._currentValue;if(Hh!==r)if(r={context:r,memoizedValue:i,next:null},vo===null){if(Su===null)throw Error(t(308));vo=r,Su.dependencies={lanes:0,firstContext:r}}else vo=vo.next=r;return i}var oi=null;function Qh(r){oi===null?oi=[r]:oi.push(r)}function Dm(r,i,a,c){var f=i.interleaved;return f===null?(a.next=a,Qh(i)):(a.next=f.next,f.next=a),i.interleaved=a,Nr(r,c)}function Nr(r,i){r.lanes|=i;var a=r.alternate;for(a!==null&&(a.lanes|=i),a=r,r=r.return;r!==null;)r.childLanes|=i,a=r.alternate,a!==null&&(a.childLanes|=i),a=r,r=r.return;return a.tag===3?a.stateNode:null}var as=!1;function Yh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vm(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Pr(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function ls(r,i,a){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(Oe&2)!==0){var f=c.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),c.pending=i,Nr(r,a)}return f=c.interleaved,f===null?(i.next=i,Qh(c)):(i.next=f.next,f.next=i),c.interleaved=i,Nr(r,a)}function Au(r,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=r.pendingLanes,a|=c,i.lanes=a,Xr(r,a)}}function Om(r,i){var a=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var E={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?f=g=E:g=g.next=E,a=a.next}while(a!==null);g===null?f=g=i:g=g.next=i}else f=g=i;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:c.shared,effects:c.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=i:r.next=i,a.lastBaseUpdate=i}function Cu(r,i,a,c){var f=r.updateQueue;as=!1;var g=f.firstBaseUpdate,E=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var N=A,q=N.next;N.next=null,E===null?g=q:E.next=q,E=N;var ee=r.alternate;ee!==null&&(ee=ee.updateQueue,A=ee.lastBaseUpdate,A!==E&&(A===null?ee.firstBaseUpdate=q:A.next=q,ee.lastBaseUpdate=N))}if(g!==null){var te=f.baseState;E=0,ee=q=N=null,A=g;do{var Z=A.lane,le=A.eventTime;if((c&Z)===Z){ee!==null&&(ee=ee.next={eventTime:le,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var de=r,fe=A;switch(Z=i,le=a,fe.tag){case 1:if(de=fe.payload,typeof de=="function"){te=de.call(le,te,Z);break e}te=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=fe.payload,Z=typeof de=="function"?de.call(le,te,Z):de,Z==null)break e;te=ue({},te,Z);break e;case 2:as=!0}}A.callback!==null&&A.lane!==0&&(r.flags|=64,Z=f.effects,Z===null?f.effects=[A]:Z.push(A))}else le={eventTime:le,lane:Z,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ee===null?(q=ee=le,N=te):ee=ee.next=le,E|=Z;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;Z=A,A=Z.next,Z.next=null,f.lastBaseUpdate=Z,f.shared.pending=null}}while(!0);if(ee===null&&(N=te),f.baseState=N,f.firstBaseUpdate=q,f.lastBaseUpdate=ee,i=f.shared.interleaved,i!==null){f=i;do E|=f.lane,f=f.next;while(f!==i)}else g===null&&(f.shared.lanes=0);ui|=E,r.lanes=E,r.memoizedState=te}}function Lm(r,i,a){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var c=r[i],f=c.callback;if(f!==null){if(c.callback=null,c=a,typeof f!="function")throw Error(t(191,f));f.call(c)}}}var La={},Zn=ss(La),ja=ss(La),Ma=ss(La);function ai(r){if(r===La)throw Error(t(174));return r}function Xh(r,i){switch(He(Ma,i),He(ja,r),He(Zn,La),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:yt(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=yt(i,r)}Qe(Zn),He(Zn,i)}function wo(){Qe(Zn),Qe(ja),Qe(Ma)}function jm(r){ai(Ma.current);var i=ai(Zn.current),a=yt(i,r.type);i!==a&&(He(ja,r),He(Zn,a))}function Jh(r){ja.current===r&&(Qe(Zn),Qe(ja))}var et=ss(0);function Ru(r){for(var i=r;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Zh=[];function ed(){for(var r=0;r<Zh.length;r++)Zh[r]._workInProgressVersionPrimary=null;Zh.length=0}var ku=X.ReactCurrentDispatcher,td=X.ReactCurrentBatchConfig,li=0,tt=null,_t=null,It=null,Nu=!1,Fa=!1,Ua=0,BE=0;function jt(){throw Error(t(321))}function nd(r,i){if(i===null)return!1;for(var a=0;a<i.length&&a<r.length;a++)if(!Vn(r[a],i[a]))return!1;return!0}function rd(r,i,a,c,f,g){if(li=g,tt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,ku.current=r===null||r.memoizedState===null?WE:GE,r=a(c,f),Fa){g=0;do{if(Fa=!1,Ua=0,25<=g)throw Error(t(301));g+=1,It=_t=null,i.updateQueue=null,ku.current=KE,r=a(c,f)}while(Fa)}if(ku.current=Du,i=_t!==null&&_t.next!==null,li=0,It=_t=tt=null,Nu=!1,i)throw Error(t(300));return r}function sd(){var r=Ua!==0;return Ua=0,r}function er(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?tt.memoizedState=It=r:It=It.next=r,It}function En(){if(_t===null){var r=tt.alternate;r=r!==null?r.memoizedState:null}else r=_t.next;var i=It===null?tt.memoizedState:It.next;if(i!==null)It=i,_t=r;else{if(r===null)throw Error(t(310));_t=r,r={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},It===null?tt.memoizedState=It=r:It=It.next=r}return It}function za(r,i){return typeof i=="function"?i(r):i}function id(r){var i=En(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=_t,f=c.baseQueue,g=a.pending;if(g!==null){if(f!==null){var E=f.next;f.next=g.next,g.next=E}c.baseQueue=f=g,a.pending=null}if(f!==null){g=f.next,c=c.baseState;var A=E=null,N=null,q=g;do{var ee=q.lane;if((li&ee)===ee)N!==null&&(N=N.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),c=q.hasEagerState?q.eagerState:r(c,q.action);else{var te={lane:ee,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};N===null?(A=N=te,E=c):N=N.next=te,tt.lanes|=ee,ui|=ee}q=q.next}while(q!==null&&q!==g);N===null?E=c:N.next=A,Vn(c,i.memoizedState)||(Jt=!0),i.memoizedState=c,i.baseState=E,i.baseQueue=N,a.lastRenderedState=c}if(r=a.interleaved,r!==null){f=r;do g=f.lane,tt.lanes|=g,ui|=g,f=f.next;while(f!==r)}else f===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function od(r){var i=En(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=a.dispatch,f=a.pending,g=i.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do g=r(g,E.action),E=E.next;while(E!==f);Vn(g,i.memoizedState)||(Jt=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),a.lastRenderedState=g}return[g,c]}function Mm(){}function Fm(r,i){var a=tt,c=En(),f=i(),g=!Vn(c.memoizedState,f);if(g&&(c.memoizedState=f,Jt=!0),c=c.queue,ad(Bm.bind(null,a,c,r),[r]),c.getSnapshot!==i||g||It!==null&&It.memoizedState.tag&1){if(a.flags|=2048,Ba(9,zm.bind(null,a,c,f,i),void 0,null),St===null)throw Error(t(349));(li&30)!==0||Um(a,i,f)}return f}function Um(r,i,a){r.flags|=16384,r={getSnapshot:i,value:a},i=tt.updateQueue,i===null?(i={lastEffect:null,stores:null},tt.updateQueue=i,i.stores=[r]):(a=i.stores,a===null?i.stores=[r]:a.push(r))}function zm(r,i,a,c){i.value=a,i.getSnapshot=c,$m(i)&&qm(r)}function Bm(r,i,a){return a(function(){$m(i)&&qm(r)})}function $m(r){var i=r.getSnapshot;r=r.value;try{var a=i();return!Vn(r,a)}catch{return!0}}function qm(r){var i=Nr(r,1);i!==null&&Fn(i,r,1,-1)}function Hm(r){var i=er();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:r},i.queue=r,r=r.dispatch=HE.bind(null,tt,r),[i.memoizedState,r]}function Ba(r,i,a,c){return r={tag:r,create:i,destroy:a,deps:c,next:null},i=tt.updateQueue,i===null?(i={lastEffect:null,stores:null},tt.updateQueue=i,i.lastEffect=r.next=r):(a=i.lastEffect,a===null?i.lastEffect=r.next=r:(c=a.next,a.next=r,r.next=c,i.lastEffect=r)),r}function Wm(){return En().memoizedState}function Pu(r,i,a,c){var f=er();tt.flags|=r,f.memoizedState=Ba(1|i,a,void 0,c===void 0?null:c)}function bu(r,i,a,c){var f=En();c=c===void 0?null:c;var g=void 0;if(_t!==null){var E=_t.memoizedState;if(g=E.destroy,c!==null&&nd(c,E.deps)){f.memoizedState=Ba(i,a,g,c);return}}tt.flags|=r,f.memoizedState=Ba(1|i,a,g,c)}function Gm(r,i){return Pu(8390656,8,r,i)}function ad(r,i){return bu(2048,8,r,i)}function Km(r,i){return bu(4,2,r,i)}function Qm(r,i){return bu(4,4,r,i)}function Ym(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Xm(r,i,a){return a=a!=null?a.concat([r]):null,bu(4,4,Ym.bind(null,i,r),a)}function ld(){}function Jm(r,i){var a=En();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&nd(i,c[1])?c[0]:(a.memoizedState=[r,i],r)}function Zm(r,i){var a=En();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&nd(i,c[1])?c[0]:(r=r(),a.memoizedState=[r,i],r)}function eg(r,i,a){return(li&21)===0?(r.baseState&&(r.baseState=!1,Jt=!0),r.memoizedState=a):(Vn(a,i)||(a=Xs(),tt.lanes|=a,ui|=a,r.baseState=!0),i)}function $E(r,i){var a=Pe;Pe=a!==0&&4>a?a:4,r(!0);var c=td.transition;td.transition={};try{r(!1),i()}finally{Pe=a,td.transition=c}}function tg(){return En().memoizedState}function qE(r,i,a){var c=ds(r);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},ng(r))rg(i,a);else if(a=Dm(r,i,a,c),a!==null){var f=Gt();Fn(a,r,c,f),sg(a,i,c)}}function HE(r,i,a){var c=ds(r),f={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(ng(r))rg(i,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var E=i.lastRenderedState,A=g(E,a);if(f.hasEagerState=!0,f.eagerState=A,Vn(A,E)){var N=i.interleaved;N===null?(f.next=f,Qh(i)):(f.next=N.next,N.next=f),i.interleaved=f;return}}catch{}finally{}a=Dm(r,i,f,c),a!==null&&(f=Gt(),Fn(a,r,c,f),sg(a,i,c))}}function ng(r){var i=r.alternate;return r===tt||i!==null&&i===tt}function rg(r,i){Fa=Nu=!0;var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}function sg(r,i,a){if((a&4194240)!==0){var c=i.lanes;c&=r.pendingLanes,a|=c,i.lanes=a,Xr(r,a)}}var Du={readContext:wn,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},WE={readContext:wn,useCallback:function(r,i){return er().memoizedState=[r,i===void 0?null:i],r},useContext:wn,useEffect:Gm,useImperativeHandle:function(r,i,a){return a=a!=null?a.concat([r]):null,Pu(4194308,4,Ym.bind(null,i,r),a)},useLayoutEffect:function(r,i){return Pu(4194308,4,r,i)},useInsertionEffect:function(r,i){return Pu(4,2,r,i)},useMemo:function(r,i){var a=er();return i=i===void 0?null:i,r=r(),a.memoizedState=[r,i],r},useReducer:function(r,i,a){var c=er();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},c.queue=r,r=r.dispatch=qE.bind(null,tt,r),[c.memoizedState,r]},useRef:function(r){var i=er();return r={current:r},i.memoizedState=r},useState:Hm,useDebugValue:ld,useDeferredValue:function(r){return er().memoizedState=r},useTransition:function(){var r=Hm(!1),i=r[0];return r=$E.bind(null,r[1]),er().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,a){var c=tt,f=er();if(Ze){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),St===null)throw Error(t(349));(li&30)!==0||Um(c,i,a)}f.memoizedState=a;var g={value:a,getSnapshot:i};return f.queue=g,Gm(Bm.bind(null,c,g,r),[r]),c.flags|=2048,Ba(9,zm.bind(null,c,g,a,i),void 0,null),a},useId:function(){var r=er(),i=St.identifierPrefix;if(Ze){var a=kr,c=Rr;a=(c&~(1<<32-qt(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=Ua++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=BE++,i=":"+i+"r"+a.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},GE={readContext:wn,useCallback:Jm,useContext:wn,useEffect:ad,useImperativeHandle:Xm,useInsertionEffect:Km,useLayoutEffect:Qm,useMemo:Zm,useReducer:id,useRef:Wm,useState:function(){return id(za)},useDebugValue:ld,useDeferredValue:function(r){var i=En();return eg(i,_t.memoizedState,r)},useTransition:function(){var r=id(za)[0],i=En().memoizedState;return[r,i]},useMutableSource:Mm,useSyncExternalStore:Fm,useId:tg,unstable_isNewReconciler:!1},KE={readContext:wn,useCallback:Jm,useContext:wn,useEffect:ad,useImperativeHandle:Xm,useInsertionEffect:Km,useLayoutEffect:Qm,useMemo:Zm,useReducer:od,useRef:Wm,useState:function(){return od(za)},useDebugValue:ld,useDeferredValue:function(r){var i=En();return _t===null?i.memoizedState=r:eg(i,_t.memoizedState,r)},useTransition:function(){var r=od(za)[0],i=En().memoizedState;return[r,i]},useMutableSource:Mm,useSyncExternalStore:Fm,useId:tg,unstable_isNewReconciler:!1};function Ln(r,i){if(r&&r.defaultProps){i=ue({},i),r=r.defaultProps;for(var a in r)i[a]===void 0&&(i[a]=r[a]);return i}return i}function ud(r,i,a,c){i=r.memoizedState,a=a(c,i),a=a==null?i:ue({},i,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Vu={isMounted:function(r){return(r=r._reactInternals)?Cn(r)===r:!1},enqueueSetState:function(r,i,a){r=r._reactInternals;var c=Gt(),f=ds(r),g=Pr(c,f);g.payload=i,a!=null&&(g.callback=a),i=ls(r,g,f),i!==null&&(Fn(i,r,f,c),Au(i,r,f))},enqueueReplaceState:function(r,i,a){r=r._reactInternals;var c=Gt(),f=ds(r),g=Pr(c,f);g.tag=1,g.payload=i,a!=null&&(g.callback=a),i=ls(r,g,f),i!==null&&(Fn(i,r,f,c),Au(i,r,f))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var a=Gt(),c=ds(r),f=Pr(a,c);f.tag=2,i!=null&&(f.callback=i),i=ls(r,f,c),i!==null&&(Fn(i,r,c,a),Au(i,r,c))}};function ig(r,i,a,c,f,g,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,E):i.prototype&&i.prototype.isPureReactComponent?!Ra(a,c)||!Ra(f,g):!0}function og(r,i,a){var c=!1,f=is,g=i.contextType;return typeof g=="object"&&g!==null?g=wn(g):(f=Xt(i)?ri:Lt.current,c=i.contextTypes,g=(c=c!=null)?fo(r,f):is),i=new i(a,g),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Vu,r.stateNode=i,i._reactInternals=r,c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),i}function ag(r,i,a,c){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==r&&Vu.enqueueReplaceState(i,i.state,null)}function cd(r,i,a,c){var f=r.stateNode;f.props=a,f.state=r.memoizedState,f.refs={},Yh(r);var g=i.contextType;typeof g=="object"&&g!==null?f.context=wn(g):(g=Xt(i)?ri:Lt.current,f.context=fo(r,g)),f.state=r.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(ud(r,i,g,a),f.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(i=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),i!==f.state&&Vu.enqueueReplaceState(f,f.state,null),Cu(r,a,f,c),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function Eo(r,i){try{var a="",c=i;do a+=Ae(c),c=c.return;while(c);var f=a}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:i,stack:f,digest:null}}function hd(r,i,a){return{value:r,source:null,stack:a??null,digest:i??null}}function dd(r,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var QE=typeof WeakMap=="function"?WeakMap:Map;function lg(r,i,a){a=Pr(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){zu||(zu=!0,Cd=c),dd(r,i)},a}function ug(r,i,a){a=Pr(-1,a),a.tag=3;var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=i.value;a.payload=function(){return c(f)},a.callback=function(){dd(r,i)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){dd(r,i),typeof c!="function"&&(cs===null?cs=new Set([this]):cs.add(this));var E=i.stack;this.componentDidCatch(i.value,{componentStack:E!==null?E:""})}),a}function cg(r,i,a){var c=r.pingCache;if(c===null){c=r.pingCache=new QE;var f=new Set;c.set(i,f)}else f=c.get(i),f===void 0&&(f=new Set,c.set(i,f));f.has(a)||(f.add(a),r=uT.bind(null,r,i,a),i.then(r,r))}function hg(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function dg(r,i,a,c,f){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=Pr(-1,1),i.tag=2,ls(a,i,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=f,r)}var YE=X.ReactCurrentOwner,Jt=!1;function Wt(r,i,a,c){i.child=r===null?bm(i,null,a,c):yo(i,r.child,a,c)}function fg(r,i,a,c,f){a=a.render;var g=i.ref;return _o(i,f),c=rd(r,i,a,c,g,f),a=sd(),r!==null&&!Jt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~f,br(r,i,f)):(Ze&&a&&Uh(i),i.flags|=1,Wt(r,i,c,f),i.child)}function pg(r,i,a,c,f){if(r===null){var g=a.type;return typeof g=="function"&&!Vd(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=g,mg(r,i,g,c,f)):(r=Gu(a.type,null,c,i,i.mode,f),r.ref=i.ref,r.return=i,i.child=r)}if(g=r.child,(r.lanes&f)===0){var E=g.memoizedProps;if(a=a.compare,a=a!==null?a:Ra,a(E,c)&&r.ref===i.ref)return br(r,i,f)}return i.flags|=1,r=ps(g,c),r.ref=i.ref,r.return=i,i.child=r}function mg(r,i,a,c,f){if(r!==null){var g=r.memoizedProps;if(Ra(g,c)&&r.ref===i.ref)if(Jt=!1,i.pendingProps=c=g,(r.lanes&f)!==0)(r.flags&131072)!==0&&(Jt=!0);else return i.lanes=r.lanes,br(r,i,f)}return fd(r,i,a,c,f)}function gg(r,i,a){var c=i.pendingProps,f=c.children,g=r!==null?r.memoizedState:null;if(c.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(xo,hn),hn|=a;else{if((a&1073741824)===0)return r=g!==null?g.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,He(xo,hn),hn|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:a,He(xo,hn),hn|=c}else g!==null?(c=g.baseLanes|a,i.memoizedState=null):c=a,He(xo,hn),hn|=c;return Wt(r,i,f,a),i.child}function yg(r,i){var a=i.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function fd(r,i,a,c,f){var g=Xt(a)?ri:Lt.current;return g=fo(i,g),_o(i,f),a=rd(r,i,a,c,g,f),c=sd(),r!==null&&!Jt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~f,br(r,i,f)):(Ze&&c&&Uh(i),i.flags|=1,Wt(r,i,a,f),i.child)}function vg(r,i,a,c,f){if(Xt(a)){var g=!0;vu(i)}else g=!1;if(_o(i,f),i.stateNode===null)Lu(r,i),og(i,a,c),cd(i,a,c,f),c=!0;else if(r===null){var E=i.stateNode,A=i.memoizedProps;E.props=A;var N=E.context,q=a.contextType;typeof q=="object"&&q!==null?q=wn(q):(q=Xt(a)?ri:Lt.current,q=fo(i,q));var ee=a.getDerivedStateFromProps,te=typeof ee=="function"||typeof E.getSnapshotBeforeUpdate=="function";te||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(A!==c||N!==q)&&ag(i,E,c,q),as=!1;var Z=i.memoizedState;E.state=Z,Cu(i,c,E,f),N=i.memoizedState,A!==c||Z!==N||Yt.current||as?(typeof ee=="function"&&(ud(i,a,ee,c),N=i.memoizedState),(A=as||ig(i,a,A,c,Z,N,q))?(te||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(i.flags|=4194308)):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=N),E.props=c,E.state=N,E.context=q,c=A):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{E=i.stateNode,Vm(r,i),A=i.memoizedProps,q=i.type===i.elementType?A:Ln(i.type,A),E.props=q,te=i.pendingProps,Z=E.context,N=a.contextType,typeof N=="object"&&N!==null?N=wn(N):(N=Xt(a)?ri:Lt.current,N=fo(i,N));var le=a.getDerivedStateFromProps;(ee=typeof le=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(A!==te||Z!==N)&&ag(i,E,c,N),as=!1,Z=i.memoizedState,E.state=Z,Cu(i,c,E,f);var de=i.memoizedState;A!==te||Z!==de||Yt.current||as?(typeof le=="function"&&(ud(i,a,le,c),de=i.memoizedState),(q=as||ig(i,a,q,c,Z,de,N)||!1)?(ee||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(c,de,N),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(c,de,N)),typeof E.componentDidUpdate=="function"&&(i.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof E.componentDidUpdate!="function"||A===r.memoizedProps&&Z===r.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&Z===r.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=de),E.props=c,E.state=de,E.context=N,c=q):(typeof E.componentDidUpdate!="function"||A===r.memoizedProps&&Z===r.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&Z===r.memoizedState||(i.flags|=1024),c=!1)}return pd(r,i,a,c,g,f)}function pd(r,i,a,c,f,g){yg(r,i);var E=(i.flags&128)!==0;if(!c&&!E)return f&&xm(i,a,!1),br(r,i,g);c=i.stateNode,YE.current=i;var A=E&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,r!==null&&E?(i.child=yo(i,r.child,null,g),i.child=yo(i,null,A,g)):Wt(r,i,A,g),i.memoizedState=c.state,f&&xm(i,a,!0),i.child}function _g(r){var i=r.stateNode;i.pendingContext?Em(r,i.pendingContext,i.pendingContext!==i.context):i.context&&Em(r,i.context,!1),Xh(r,i.containerInfo)}function wg(r,i,a,c,f){return go(),qh(f),i.flags|=256,Wt(r,i,a,c),i.child}var md={dehydrated:null,treeContext:null,retryLane:0};function gd(r){return{baseLanes:r,cachePool:null,transitions:null}}function Eg(r,i,a){var c=i.pendingProps,f=et.current,g=!1,E=(i.flags&128)!==0,A;if((A=E)||(A=r!==null&&r.memoizedState===null?!1:(f&2)!==0),A?(g=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),He(et,f&1),r===null)return $h(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(E=c.children,r=c.fallback,g?(c=i.mode,g=i.child,E={mode:"hidden",children:E},(c&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=E):g=Ku(E,c,0,null),r=fi(r,c,a,null),g.return=i,r.return=i,g.sibling=r,i.child=g,i.child.memoizedState=gd(a),i.memoizedState=md,r):yd(i,E));if(f=r.memoizedState,f!==null&&(A=f.dehydrated,A!==null))return XE(r,i,E,c,A,f,a);if(g){g=c.fallback,E=i.mode,f=r.child,A=f.sibling;var N={mode:"hidden",children:c.children};return(E&1)===0&&i.child!==f?(c=i.child,c.childLanes=0,c.pendingProps=N,i.deletions=null):(c=ps(f,N),c.subtreeFlags=f.subtreeFlags&14680064),A!==null?g=ps(A,g):(g=fi(g,E,a,null),g.flags|=2),g.return=i,c.return=i,c.sibling=g,i.child=c,c=g,g=i.child,E=r.child.memoizedState,E=E===null?gd(a):{baseLanes:E.baseLanes|a,cachePool:null,transitions:E.transitions},g.memoizedState=E,g.childLanes=r.childLanes&~a,i.memoizedState=md,c}return g=r.child,r=g.sibling,c=ps(g,{mode:"visible",children:c.children}),(i.mode&1)===0&&(c.lanes=a),c.return=i,c.sibling=null,r!==null&&(a=i.deletions,a===null?(i.deletions=[r],i.flags|=16):a.push(r)),i.child=c,i.memoizedState=null,c}function yd(r,i){return i=Ku({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function Ou(r,i,a,c){return c!==null&&qh(c),yo(i,r.child,null,a),r=yd(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function XE(r,i,a,c,f,g,E){if(a)return i.flags&256?(i.flags&=-257,c=hd(Error(t(422))),Ou(r,i,E,c)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(g=c.fallback,f=i.mode,c=Ku({mode:"visible",children:c.children},f,0,null),g=fi(g,f,E,null),g.flags|=2,c.return=i,g.return=i,c.sibling=g,i.child=c,(i.mode&1)!==0&&yo(i,r.child,null,E),i.child.memoizedState=gd(E),i.memoizedState=md,g);if((i.mode&1)===0)return Ou(r,i,E,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var A=c.dgst;return c=A,g=Error(t(419)),c=hd(g,c,void 0),Ou(r,i,E,c)}if(A=(E&r.childLanes)!==0,Jt||A){if(c=St,c!==null){switch(E&-E){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(c.suspendedLanes|E))!==0?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,Nr(r,f),Fn(c,r,f,-1))}return Dd(),c=hd(Error(t(421))),Ou(r,i,E,c)}return f.data==="$?"?(i.flags|=128,i.child=r.child,i=cT.bind(null,r),f._reactRetry=i,null):(r=g.treeContext,cn=rs(f.nextSibling),un=i,Ze=!0,On=null,r!==null&&(vn[_n++]=Rr,vn[_n++]=kr,vn[_n++]=si,Rr=r.id,kr=r.overflow,si=i),i=yd(i,c.children),i.flags|=4096,i)}function Tg(r,i,a){r.lanes|=i;var c=r.alternate;c!==null&&(c.lanes|=i),Kh(r.return,i,a)}function vd(r,i,a,c,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=f)}function xg(r,i,a){var c=i.pendingProps,f=c.revealOrder,g=c.tail;if(Wt(r,i,c.children,a),c=et.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Tg(r,a,i);else if(r.tag===19)Tg(r,a,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}if(He(et,c),(i.mode&1)===0)i.memoizedState=null;else switch(f){case"forwards":for(a=i.child,f=null;a!==null;)r=a.alternate,r!==null&&Ru(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),vd(i,!1,f,a,g);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(r=f.alternate,r!==null&&Ru(r)===null){i.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}vd(i,!0,a,null,g);break;case"together":vd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Lu(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function br(r,i,a){if(r!==null&&(i.dependencies=r.dependencies),ui|=i.lanes,(a&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(t(153));if(i.child!==null){for(r=i.child,a=ps(r,r.pendingProps),i.child=a,a.return=i;r.sibling!==null;)r=r.sibling,a=a.sibling=ps(r,r.pendingProps),a.return=i;a.sibling=null}return i.child}function JE(r,i,a){switch(i.tag){case 3:_g(i),go();break;case 5:jm(i);break;case 1:Xt(i.type)&&vu(i);break;case 4:Xh(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,f=i.memoizedProps.value;He(Iu,c._currentValue),c._currentValue=f;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(He(et,et.current&1),i.flags|=128,null):(a&i.child.childLanes)!==0?Eg(r,i,a):(He(et,et.current&1),r=br(r,i,a),r!==null?r.sibling:null);He(et,et.current&1);break;case 19:if(c=(a&i.childLanes)!==0,(r.flags&128)!==0){if(c)return xg(r,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),He(et,et.current),c)break;return null;case 22:case 23:return i.lanes=0,gg(r,i,a)}return br(r,i,a)}var Ig,_d,Sg,Ag;Ig=function(r,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},_d=function(){},Sg=function(r,i,a,c){var f=r.memoizedProps;if(f!==c){r=i.stateNode,ai(Zn.current);var g=null;switch(a){case"input":f=Us(r,f),c=Us(r,c),g=[];break;case"select":f=ue({},f,{value:void 0}),c=ue({},c,{value:void 0}),g=[];break;case"textarea":f=ra(r,f),c=ra(r,c),g=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(r.onclick=mu)}ua(a,c);var E;a=null;for(q in f)if(!c.hasOwnProperty(q)&&f.hasOwnProperty(q)&&f[q]!=null)if(q==="style"){var A=f[q];for(E in A)A.hasOwnProperty(E)&&(a||(a={}),a[E]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(o.hasOwnProperty(q)?g||(g=[]):(g=g||[]).push(q,null));for(q in c){var N=c[q];if(A=f?.[q],c.hasOwnProperty(q)&&N!==A&&(N!=null||A!=null))if(q==="style")if(A){for(E in A)!A.hasOwnProperty(E)||N&&N.hasOwnProperty(E)||(a||(a={}),a[E]="");for(E in N)N.hasOwnProperty(E)&&A[E]!==N[E]&&(a||(a={}),a[E]=N[E])}else a||(g||(g=[]),g.push(q,a)),a=N;else q==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,A=A?A.__html:void 0,N!=null&&A!==N&&(g=g||[]).push(q,N)):q==="children"?typeof N!="string"&&typeof N!="number"||(g=g||[]).push(q,""+N):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(o.hasOwnProperty(q)?(N!=null&&q==="onScroll"&&Ke("scroll",r),g||A===N||(g=[])):(g=g||[]).push(q,N))}a&&(g=g||[]).push("style",a);var q=g;(i.updateQueue=q)&&(i.flags|=4)}},Ag=function(r,i,a,c){a!==c&&(i.flags|=4)};function $a(r,i){if(!Ze)switch(r.tailMode){case"hidden":i=r.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function Mt(r){var i=r.alternate!==null&&r.alternate.child===r.child,a=0,c=0;if(i)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=c,r.childLanes=a,i}function ZE(r,i,a){var c=i.pendingProps;switch(zh(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(i),null;case 1:return Xt(i.type)&&yu(),Mt(i),null;case 3:return c=i.stateNode,wo(),Qe(Yt),Qe(Lt),ed(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(Tu(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,On!==null&&(Nd(On),On=null))),_d(r,i),Mt(i),null;case 5:Jh(i);var f=ai(Ma.current);if(a=i.type,r!==null&&i.stateNode!=null)Sg(r,i,a,c,f),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(t(166));return Mt(i),null}if(r=ai(Zn.current),Tu(i)){c=i.stateNode,a=i.type;var g=i.memoizedProps;switch(c[Jn]=i,c[Da]=g,r=(i.mode&1)!==0,a){case"dialog":Ke("cancel",c),Ke("close",c);break;case"iframe":case"object":case"embed":Ke("load",c);break;case"video":case"audio":for(f=0;f<Na.length;f++)Ke(Na[f],c);break;case"source":Ke("error",c);break;case"img":case"image":case"link":Ke("error",c),Ke("load",c);break;case"details":Ke("toggle",c);break;case"input":Vi(c,g),Ke("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},Ke("invalid",c);break;case"textarea":Li(c,g),Ke("invalid",c)}ua(a,g),f=null;for(var E in g)if(g.hasOwnProperty(E)){var A=g[E];E==="children"?typeof A=="string"?c.textContent!==A&&(g.suppressHydrationWarning!==!0&&pu(c.textContent,A,r),f=["children",A]):typeof A=="number"&&c.textContent!==""+A&&(g.suppressHydrationWarning!==!0&&pu(c.textContent,A,r),f=["children",""+A]):o.hasOwnProperty(E)&&A!=null&&E==="onScroll"&&Ke("scroll",c)}switch(a){case"input":gr(c),Ul(c,g,!0);break;case"textarea":gr(c),sa(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=mu)}c=f,i.updateQueue=c,c!==null&&(i.flags|=4)}else{E=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=gt(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof c.is=="string"?r=E.createElement(a,{is:c.is}):(r=E.createElement(a),a==="select"&&(E=r,c.multiple?E.multiple=!0:c.size&&(E.size=c.size))):r=E.createElementNS(r,a),r[Jn]=i,r[Da]=c,Ig(r,i,!1,!1),i.stateNode=r;e:{switch(E=ca(a,c),a){case"dialog":Ke("cancel",r),Ke("close",r),f=c;break;case"iframe":case"object":case"embed":Ke("load",r),f=c;break;case"video":case"audio":for(f=0;f<Na.length;f++)Ke(Na[f],r);f=c;break;case"source":Ke("error",r),f=c;break;case"img":case"image":case"link":Ke("error",r),Ke("load",r),f=c;break;case"details":Ke("toggle",r),f=c;break;case"input":Vi(r,c),f=Us(r,c),Ke("invalid",r);break;case"option":f=c;break;case"select":r._wrapperState={wasMultiple:!!c.multiple},f=ue({},c,{value:void 0}),Ke("invalid",r);break;case"textarea":Li(r,c),f=ra(r,c),Ke("invalid",r);break;default:f=c}ua(a,f),A=f;for(g in A)if(A.hasOwnProperty(g)){var N=A[g];g==="style"?aa(r,N):g==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&ia(r,N)):g==="children"?typeof N=="string"?(a!=="textarea"||N!=="")&&Wr(r,N):typeof N=="number"&&Wr(r,""+N):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?N!=null&&g==="onScroll"&&Ke("scroll",r):N!=null&&$(r,g,N,E))}switch(a){case"input":gr(r),Ul(r,c,!1);break;case"textarea":gr(r),sa(r);break;case"option":c.value!=null&&r.setAttribute("value",""+Me(c.value));break;case"select":r.multiple=!!c.multiple,g=c.value,g!=null?vr(r,!!c.multiple,g,!1):c.defaultValue!=null&&vr(r,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=mu)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Mt(i),null;case 6:if(r&&i.stateNode!=null)Ag(r,i,r.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(t(166));if(a=ai(Ma.current),ai(Zn.current),Tu(i)){if(c=i.stateNode,a=i.memoizedProps,c[Jn]=i,(g=c.nodeValue!==a)&&(r=un,r!==null))switch(r.tag){case 3:pu(c.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&pu(c.nodeValue,a,(r.mode&1)!==0)}g&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Jn]=i,i.stateNode=c}return Mt(i),null;case 13:if(Qe(et),c=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ze&&cn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)km(),go(),i.flags|=98560,g=!1;else if(g=Tu(i),c!==null&&c.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[Jn]=i}else go(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Mt(i),g=!1}else On!==null&&(Nd(On),On=null),g=!0;if(!g)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=a,i):(c=c!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(et.current&1)!==0?wt===0&&(wt=3):Dd())),i.updateQueue!==null&&(i.flags|=4),Mt(i),null);case 4:return wo(),_d(r,i),r===null&&Pa(i.stateNode.containerInfo),Mt(i),null;case 10:return Gh(i.type._context),Mt(i),null;case 17:return Xt(i.type)&&yu(),Mt(i),null;case 19:if(Qe(et),g=i.memoizedState,g===null)return Mt(i),null;if(c=(i.flags&128)!==0,E=g.rendering,E===null)if(c)$a(g,!1);else{if(wt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(E=Ru(r),E!==null){for(i.flags|=128,$a(g,!1),c=E.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)g=a,r=c,g.flags&=14680066,E=g.alternate,E===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=E.childLanes,g.lanes=E.lanes,g.child=E.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=E.memoizedProps,g.memoizedState=E.memoizedState,g.updateQueue=E.updateQueue,g.type=E.type,r=E.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return He(et,et.current&1|2),i.child}r=r.sibling}g.tail!==null&&qe()>Io&&(i.flags|=128,c=!0,$a(g,!1),i.lanes=4194304)}else{if(!c)if(r=Ru(E),r!==null){if(i.flags|=128,c=!0,a=r.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),$a(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!Ze)return Mt(i),null}else 2*qe()-g.renderingStartTime>Io&&a!==1073741824&&(i.flags|=128,c=!0,$a(g,!1),i.lanes=4194304);g.isBackwards?(E.sibling=i.child,i.child=E):(a=g.last,a!==null?a.sibling=E:i.child=E,g.last=E)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=qe(),i.sibling=null,a=et.current,He(et,c?a&1|2:a&1),i):(Mt(i),null);case 22:case 23:return bd(),c=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(i.flags|=8192),c&&(i.mode&1)!==0?(hn&1073741824)!==0&&(Mt(i),i.subtreeFlags&6&&(i.flags|=8192)):Mt(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function eT(r,i){switch(zh(i),i.tag){case 1:return Xt(i.type)&&yu(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return wo(),Qe(Yt),Qe(Lt),ed(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return Jh(i),null;case 13:if(Qe(et),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(t(340));go()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return Qe(et),null;case 4:return wo(),null;case 10:return Gh(i.type._context),null;case 22:case 23:return bd(),null;case 24:return null;default:return null}}var ju=!1,Ft=!1,tT=typeof WeakSet=="function"?WeakSet:Set,he=null;function To(r,i){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){st(r,i,c)}else a.current=null}function wd(r,i,a){try{a()}catch(c){st(r,i,c)}}var Cg=!1;function nT(r,i){if(bh=es,r=im(),Ih(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var E=0,A=-1,N=-1,q=0,ee=0,te=r,Z=null;t:for(;;){for(var le;te!==a||f!==0&&te.nodeType!==3||(A=E+f),te!==g||c!==0&&te.nodeType!==3||(N=E+c),te.nodeType===3&&(E+=te.nodeValue.length),(le=te.firstChild)!==null;)Z=te,te=le;for(;;){if(te===r)break t;if(Z===a&&++q===f&&(A=E),Z===g&&++ee===c&&(N=E),(le=te.nextSibling)!==null)break;te=Z,Z=te.parentNode}te=le}a=A===-1||N===-1?null:{start:A,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Dh={focusedElem:r,selectionRange:a},es=!1,he=i;he!==null;)if(i=he,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,he=r;else for(;he!==null;){i=he;try{var de=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var fe=de.memoizedProps,ot=de.memoizedState,U=i.stateNode,V=U.getSnapshotBeforeUpdate(i.elementType===i.type?fe:Ln(i.type,fe),ot);U.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var B=i.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ne){st(i,i.return,ne)}if(r=i.sibling,r!==null){r.return=i.return,he=r;break}he=i.return}return de=Cg,Cg=!1,de}function qa(r,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&wd(i,a,g)}f=f.next}while(f!==c)}}function Mu(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&r)===r){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function Ed(r){var i=r.ref;if(i!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof i=="function"?i(r):i.current=r}}function Rg(r){var i=r.alternate;i!==null&&(r.alternate=null,Rg(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[Jn],delete i[Da],delete i[jh],delete i[ME],delete i[FE])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function kg(r){return r.tag===5||r.tag===3||r.tag===4}function Ng(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||kg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Td(r,i,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(r,i):a.insertBefore(r,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(r,a)):(i=a,i.appendChild(r)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=mu));else if(c!==4&&(r=r.child,r!==null))for(Td(r,i,a),r=r.sibling;r!==null;)Td(r,i,a),r=r.sibling}function xd(r,i,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?a.insertBefore(r,i):a.appendChild(r);else if(c!==4&&(r=r.child,r!==null))for(xd(r,i,a),r=r.sibling;r!==null;)xd(r,i,a),r=r.sibling}var Nt=null,jn=!1;function us(r,i,a){for(a=a.child;a!==null;)Pg(r,i,a),a=a.sibling}function Pg(r,i,a){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(Qs,a)}catch{}switch(a.tag){case 5:Ft||To(a,i);case 6:var c=Nt,f=jn;Nt=null,us(r,i,a),Nt=c,jn=f,Nt!==null&&(jn?(r=Nt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Nt.removeChild(a.stateNode));break;case 18:Nt!==null&&(jn?(r=Nt,a=a.stateNode,r.nodeType===8?Lh(r.parentNode,a):r.nodeType===1&&Lh(r,a),bn(r)):Lh(Nt,a.stateNode));break;case 4:c=Nt,f=jn,Nt=a.stateNode.containerInfo,jn=!0,us(r,i,a),Nt=c,jn=f;break;case 0:case 11:case 14:case 15:if(!Ft&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var g=f,E=g.destroy;g=g.tag,E!==void 0&&((g&2)!==0||(g&4)!==0)&&wd(a,i,E),f=f.next}while(f!==c)}us(r,i,a);break;case 1:if(!Ft&&(To(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(A){st(a,i,A)}us(r,i,a);break;case 21:us(r,i,a);break;case 22:a.mode&1?(Ft=(c=Ft)||a.memoizedState!==null,us(r,i,a),Ft=c):us(r,i,a);break;default:us(r,i,a)}}function bg(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new tT),i.forEach(function(c){var f=hT.bind(null,r,c);a.has(c)||(a.add(c),c.then(f,f))})}}function Mn(r,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];try{var g=r,E=i,A=E;e:for(;A!==null;){switch(A.tag){case 5:Nt=A.stateNode,jn=!1;break e;case 3:Nt=A.stateNode.containerInfo,jn=!0;break e;case 4:Nt=A.stateNode.containerInfo,jn=!0;break e}A=A.return}if(Nt===null)throw Error(t(160));Pg(g,E,f),Nt=null,jn=!1;var N=f.alternate;N!==null&&(N.return=null),f.return=null}catch(q){st(f,i,q)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Dg(i,r),i=i.sibling}function Dg(r,i){var a=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Mn(i,r),tr(r),c&4){try{qa(3,r,r.return),Mu(3,r)}catch(fe){st(r,r.return,fe)}try{qa(5,r,r.return)}catch(fe){st(r,r.return,fe)}}break;case 1:Mn(i,r),tr(r),c&512&&a!==null&&To(a,a.return);break;case 5:if(Mn(i,r),tr(r),c&512&&a!==null&&To(a,a.return),r.flags&32){var f=r.stateNode;try{Wr(f,"")}catch(fe){st(r,r.return,fe)}}if(c&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,E=a!==null?a.memoizedProps:g,A=r.type,N=r.updateQueue;if(r.updateQueue=null,N!==null)try{A==="input"&&g.type==="radio"&&g.name!=null&&ta(f,g),ca(A,E);var q=ca(A,g);for(E=0;E<N.length;E+=2){var ee=N[E],te=N[E+1];ee==="style"?aa(f,te):ee==="dangerouslySetInnerHTML"?ia(f,te):ee==="children"?Wr(f,te):$(f,ee,te,q)}switch(A){case"input":na(f,g);break;case"textarea":ji(f,g);break;case"select":var Z=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var le=g.value;le!=null?vr(f,!!g.multiple,le,!1):Z!==!!g.multiple&&(g.defaultValue!=null?vr(f,!!g.multiple,g.defaultValue,!0):vr(f,!!g.multiple,g.multiple?[]:"",!1))}f[Da]=g}catch(fe){st(r,r.return,fe)}}break;case 6:if(Mn(i,r),tr(r),c&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(fe){st(r,r.return,fe)}}break;case 3:if(Mn(i,r),tr(r),c&4&&a!==null&&a.memoizedState.isDehydrated)try{bn(i.containerInfo)}catch(fe){st(r,r.return,fe)}break;case 4:Mn(i,r),tr(r);break;case 13:Mn(i,r),tr(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(Ad=qe())),c&4&&bg(r);break;case 22:if(ee=a!==null&&a.memoizedState!==null,r.mode&1?(Ft=(q=Ft)||ee,Mn(i,r),Ft=q):Mn(i,r),tr(r),c&8192){if(q=r.memoizedState!==null,(r.stateNode.isHidden=q)&&!ee&&(r.mode&1)!==0)for(he=r,ee=r.child;ee!==null;){for(te=he=ee;he!==null;){switch(Z=he,le=Z.child,Z.tag){case 0:case 11:case 14:case 15:qa(4,Z,Z.return);break;case 1:To(Z,Z.return);var de=Z.stateNode;if(typeof de.componentWillUnmount=="function"){c=Z,a=Z.return;try{i=c,de.props=i.memoizedProps,de.state=i.memoizedState,de.componentWillUnmount()}catch(fe){st(c,a,fe)}}break;case 5:To(Z,Z.return);break;case 22:if(Z.memoizedState!==null){Lg(te);continue}}le!==null?(le.return=Z,he=le):Lg(te)}ee=ee.sibling}e:for(ee=null,te=r;;){if(te.tag===5){if(ee===null){ee=te;try{f=te.stateNode,q?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(A=te.stateNode,N=te.memoizedProps.style,E=N!=null&&N.hasOwnProperty("display")?N.display:null,A.style.display=oa("display",E))}catch(fe){st(r,r.return,fe)}}}else if(te.tag===6){if(ee===null)try{te.stateNode.nodeValue=q?"":te.memoizedProps}catch(fe){st(r,r.return,fe)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===r)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===r)break e;for(;te.sibling===null;){if(te.return===null||te.return===r)break e;ee===te&&(ee=null),te=te.return}ee===te&&(ee=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:Mn(i,r),tr(r),c&4&&bg(r);break;case 21:break;default:Mn(i,r),tr(r)}}function tr(r){var i=r.flags;if(i&2){try{e:{for(var a=r.return;a!==null;){if(kg(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(Wr(f,""),c.flags&=-33);var g=Ng(r);xd(r,g,f);break;case 3:case 4:var E=c.stateNode.containerInfo,A=Ng(r);Td(r,A,E);break;default:throw Error(t(161))}}catch(N){st(r,r.return,N)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function rT(r,i,a){he=r,Vg(r)}function Vg(r,i,a){for(var c=(r.mode&1)!==0;he!==null;){var f=he,g=f.child;if(f.tag===22&&c){var E=f.memoizedState!==null||ju;if(!E){var A=f.alternate,N=A!==null&&A.memoizedState!==null||Ft;A=ju;var q=Ft;if(ju=E,(Ft=N)&&!q)for(he=f;he!==null;)E=he,N=E.child,E.tag===22&&E.memoizedState!==null?jg(f):N!==null?(N.return=E,he=N):jg(f);for(;g!==null;)he=g,Vg(g),g=g.sibling;he=f,ju=A,Ft=q}Og(r)}else(f.subtreeFlags&8772)!==0&&g!==null?(g.return=f,he=g):Og(r)}}function Og(r){for(;he!==null;){var i=he;if((i.flags&8772)!==0){var a=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Ft||Mu(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!Ft)if(a===null)c.componentDidMount();else{var f=i.elementType===i.type?a.memoizedProps:Ln(i.type,a.memoizedProps);c.componentDidUpdate(f,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=i.updateQueue;g!==null&&Lm(i,g,c);break;case 3:var E=i.updateQueue;if(E!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}Lm(i,E,a)}break;case 5:var A=i.stateNode;if(a===null&&i.flags&4){a=A;var N=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&a.focus();break;case"img":N.src&&(a.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var q=i.alternate;if(q!==null){var ee=q.memoizedState;if(ee!==null){var te=ee.dehydrated;te!==null&&bn(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ft||i.flags&512&&Ed(i)}catch(Z){st(i,i.return,Z)}}if(i===r){he=null;break}if(a=i.sibling,a!==null){a.return=i.return,he=a;break}he=i.return}}function Lg(r){for(;he!==null;){var i=he;if(i===r){he=null;break}var a=i.sibling;if(a!==null){a.return=i.return,he=a;break}he=i.return}}function jg(r){for(;he!==null;){var i=he;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{Mu(4,i)}catch(N){st(i,a,N)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var f=i.return;try{c.componentDidMount()}catch(N){st(i,f,N)}}var g=i.return;try{Ed(i)}catch(N){st(i,g,N)}break;case 5:var E=i.return;try{Ed(i)}catch(N){st(i,E,N)}}}catch(N){st(i,i.return,N)}if(i===r){he=null;break}var A=i.sibling;if(A!==null){A.return=i.return,he=A;break}he=i.return}}var sT=Math.ceil,Fu=X.ReactCurrentDispatcher,Id=X.ReactCurrentOwner,Tn=X.ReactCurrentBatchConfig,Oe=0,St=null,ht=null,Pt=0,hn=0,xo=ss(0),wt=0,Ha=null,ui=0,Uu=0,Sd=0,Wa=null,Zt=null,Ad=0,Io=1/0,Dr=null,zu=!1,Cd=null,cs=null,Bu=!1,hs=null,$u=0,Ga=0,Rd=null,qu=-1,Hu=0;function Gt(){return(Oe&6)!==0?qe():qu!==-1?qu:qu=qe()}function ds(r){return(r.mode&1)===0?1:(Oe&2)!==0&&Pt!==0?Pt&-Pt:zE.transition!==null?(Hu===0&&(Hu=Xs()),Hu):(r=Pe,r!==0||(r=window.event,r=r===void 0?16:Ea(r.type)),r)}function Fn(r,i,a,c){if(50<Ga)throw Ga=0,Rd=null,Error(t(185));Yr(r,a,c),((Oe&2)===0||r!==St)&&(r===St&&((Oe&2)===0&&(Uu|=a),wt===4&&fs(r,Pt)),en(r,c),a===1&&Oe===0&&(i.mode&1)===0&&(Io=qe()+500,_u&&os()))}function en(r,i){var a=r.callbackNode;Er(r,i);var c=Ys(r,r===St?Pt:0);if(c===0)a!==null&&ga(a),r.callbackNode=null,r.callbackPriority=0;else if(i=c&-c,r.callbackPriority!==i){if(a!=null&&ga(a),i===1)r.tag===0?UE(Fg.bind(null,r)):Im(Fg.bind(null,r)),LE(function(){(Oe&6)===0&&os()}),a=null;else{switch(Jr(c)){case 1:a=Ks;break;case 4:a=Gr;break;case 16:a=mn;break;case 536870912:a=Hl;break;default:a=mn}a=Gg(a,Mg.bind(null,r))}r.callbackPriority=i,r.callbackNode=a}}function Mg(r,i){if(qu=-1,Hu=0,(Oe&6)!==0)throw Error(t(327));var a=r.callbackNode;if(So()&&r.callbackNode!==a)return null;var c=Ys(r,r===St?Pt:0);if(c===0)return null;if((c&30)!==0||(c&r.expiredLanes)!==0||i)i=Wu(r,c);else{i=c;var f=Oe;Oe|=2;var g=zg();(St!==r||Pt!==i)&&(Dr=null,Io=qe()+500,hi(r,i));do try{aT();break}catch(A){Ug(r,A)}while(!0);Wh(),Fu.current=g,Oe=f,ht!==null?i=0:(St=null,Pt=0,i=wt)}if(i!==0){if(i===2&&(f=on(r),f!==0&&(c=f,i=kd(r,f))),i===1)throw a=Ha,hi(r,0),fs(r,c),en(r,qe()),a;if(i===6)fs(r,c);else{if(f=r.current.alternate,(c&30)===0&&!iT(f)&&(i=Wu(r,c),i===2&&(g=on(r),g!==0&&(c=g,i=kd(r,g))),i===1))throw a=Ha,hi(r,0),fs(r,c),en(r,qe()),a;switch(r.finishedWork=f,r.finishedLanes=c,i){case 0:case 1:throw Error(t(345));case 2:di(r,Zt,Dr);break;case 3:if(fs(r,c),(c&130023424)===c&&(i=Ad+500-qe(),10<i)){if(Ys(r,0)!==0)break;if(f=r.suspendedLanes,(f&c)!==c){Gt(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=Oh(di.bind(null,r,Zt,Dr),i);break}di(r,Zt,Dr);break;case 4:if(fs(r,c),(c&4194240)===c)break;for(i=r.eventTimes,f=-1;0<c;){var E=31-qt(c);g=1<<E,E=i[E],E>f&&(f=E),c&=~g}if(c=f,c=qe()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*sT(c/1960))-c,10<c){r.timeoutHandle=Oh(di.bind(null,r,Zt,Dr),c);break}di(r,Zt,Dr);break;case 5:di(r,Zt,Dr);break;default:throw Error(t(329))}}}return en(r,qe()),r.callbackNode===a?Mg.bind(null,r):null}function kd(r,i){var a=Wa;return r.current.memoizedState.isDehydrated&&(hi(r,i).flags|=256),r=Wu(r,i),r!==2&&(i=Zt,Zt=a,i!==null&&Nd(i)),r}function Nd(r){Zt===null?Zt=r:Zt.push.apply(Zt,r)}function iT(r){for(var i=r;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var f=a[c],g=f.getSnapshot;f=f.value;try{if(!Vn(g(),f))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function fs(r,i){for(i&=~Sd,i&=~Uu,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var a=31-qt(i),c=1<<a;r[a]=-1,i&=~c}}function Fg(r){if((Oe&6)!==0)throw Error(t(327));So();var i=Ys(r,0);if((i&1)===0)return en(r,qe()),null;var a=Wu(r,i);if(r.tag!==0&&a===2){var c=on(r);c!==0&&(i=c,a=kd(r,c))}if(a===1)throw a=Ha,hi(r,0),fs(r,i),en(r,qe()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,di(r,Zt,Dr),en(r,qe()),null}function Pd(r,i){var a=Oe;Oe|=1;try{return r(i)}finally{Oe=a,Oe===0&&(Io=qe()+500,_u&&os())}}function ci(r){hs!==null&&hs.tag===0&&(Oe&6)===0&&So();var i=Oe;Oe|=1;var a=Tn.transition,c=Pe;try{if(Tn.transition=null,Pe=1,r)return r()}finally{Pe=c,Tn.transition=a,Oe=i,(Oe&6)===0&&os()}}function bd(){hn=xo.current,Qe(xo)}function hi(r,i){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,OE(a)),ht!==null)for(a=ht.return;a!==null;){var c=a;switch(zh(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&yu();break;case 3:wo(),Qe(Yt),Qe(Lt),ed();break;case 5:Jh(c);break;case 4:wo();break;case 13:Qe(et);break;case 19:Qe(et);break;case 10:Gh(c.type._context);break;case 22:case 23:bd()}a=a.return}if(St=r,ht=r=ps(r.current,null),Pt=hn=i,wt=0,Ha=null,Sd=Uu=ui=0,Zt=Wa=null,oi!==null){for(i=0;i<oi.length;i++)if(a=oi[i],c=a.interleaved,c!==null){a.interleaved=null;var f=c.next,g=a.pending;if(g!==null){var E=g.next;g.next=f,c.next=E}a.pending=c}oi=null}return r}function Ug(r,i){do{var a=ht;try{if(Wh(),ku.current=Du,Nu){for(var c=tt.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}Nu=!1}if(li=0,It=_t=tt=null,Fa=!1,Ua=0,Id.current=null,a===null||a.return===null){wt=1,Ha=i,ht=null;break}e:{var g=r,E=a.return,A=a,N=i;if(i=Pt,A.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var q=N,ee=A,te=ee.tag;if((ee.mode&1)===0&&(te===0||te===11||te===15)){var Z=ee.alternate;Z?(ee.updateQueue=Z.updateQueue,ee.memoizedState=Z.memoizedState,ee.lanes=Z.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var le=hg(E);if(le!==null){le.flags&=-257,dg(le,E,A,g,i),le.mode&1&&cg(g,q,i),i=le,N=q;var de=i.updateQueue;if(de===null){var fe=new Set;fe.add(N),i.updateQueue=fe}else de.add(N);break e}else{if((i&1)===0){cg(g,q,i),Dd();break e}N=Error(t(426))}}else if(Ze&&A.mode&1){var ot=hg(E);if(ot!==null){(ot.flags&65536)===0&&(ot.flags|=256),dg(ot,E,A,g,i),qh(Eo(N,A));break e}}g=N=Eo(N,A),wt!==4&&(wt=2),Wa===null?Wa=[g]:Wa.push(g),g=E;do{switch(g.tag){case 3:g.flags|=65536,i&=-i,g.lanes|=i;var U=lg(g,N,i);Om(g,U);break e;case 1:A=N;var V=g.type,B=g.stateNode;if((g.flags&128)===0&&(typeof V.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(cs===null||!cs.has(B)))){g.flags|=65536,i&=-i,g.lanes|=i;var ne=ug(g,A,i);Om(g,ne);break e}}g=g.return}while(g!==null)}$g(a)}catch(pe){i=pe,ht===a&&a!==null&&(ht=a=a.return);continue}break}while(!0)}function zg(){var r=Fu.current;return Fu.current=Du,r===null?Du:r}function Dd(){(wt===0||wt===3||wt===2)&&(wt=4),St===null||(ui&268435455)===0&&(Uu&268435455)===0||fs(St,Pt)}function Wu(r,i){var a=Oe;Oe|=2;var c=zg();(St!==r||Pt!==i)&&(Dr=null,hi(r,i));do try{oT();break}catch(f){Ug(r,f)}while(!0);if(Wh(),Oe=a,Fu.current=c,ht!==null)throw Error(t(261));return St=null,Pt=0,wt}function oT(){for(;ht!==null;)Bg(ht)}function aT(){for(;ht!==null&&!$l();)Bg(ht)}function Bg(r){var i=Wg(r.alternate,r,hn);r.memoizedProps=r.pendingProps,i===null?$g(r):ht=i,Id.current=null}function $g(r){var i=r;do{var a=i.alternate;if(r=i.return,(i.flags&32768)===0){if(a=ZE(a,i,hn),a!==null){ht=a;return}}else{if(a=eT(a,i),a!==null){a.flags&=32767,ht=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{wt=6,ht=null;return}}if(i=i.sibling,i!==null){ht=i;return}ht=i=r}while(i!==null);wt===0&&(wt=5)}function di(r,i,a){var c=Pe,f=Tn.transition;try{Tn.transition=null,Pe=1,lT(r,i,a,c)}finally{Tn.transition=f,Pe=c}return null}function lT(r,i,a,c){do So();while(hs!==null);if((Oe&6)!==0)throw Error(t(327));a=r.finishedWork;var f=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(Be(r,g),r===St&&(ht=St=null,Pt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Bu||(Bu=!0,Gg(mn,function(){return So(),null})),g=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||g){g=Tn.transition,Tn.transition=null;var E=Pe;Pe=1;var A=Oe;Oe|=4,Id.current=null,nT(r,a),Dg(a,r),RE(Dh),es=!!bh,Dh=bh=null,r.current=a,rT(a),gh(),Oe=A,Pe=E,Tn.transition=g}else r.current=a;if(Bu&&(Bu=!1,hs=r,$u=f),g=r.pendingLanes,g===0&&(cs=null),Wl(a.stateNode),en(r,qe()),i!==null)for(c=r.onRecoverableError,a=0;a<i.length;a++)f=i[a],c(f.value,{componentStack:f.stack,digest:f.digest});if(zu)throw zu=!1,r=Cd,Cd=null,r;return($u&1)!==0&&r.tag!==0&&So(),g=r.pendingLanes,(g&1)!==0?r===Rd?Ga++:(Ga=0,Rd=r):Ga=0,os(),null}function So(){if(hs!==null){var r=Jr($u),i=Tn.transition,a=Pe;try{if(Tn.transition=null,Pe=16>r?16:r,hs===null)var c=!1;else{if(r=hs,hs=null,$u=0,(Oe&6)!==0)throw Error(t(331));var f=Oe;for(Oe|=4,he=r.current;he!==null;){var g=he,E=g.child;if((he.flags&16)!==0){var A=g.deletions;if(A!==null){for(var N=0;N<A.length;N++){var q=A[N];for(he=q;he!==null;){var ee=he;switch(ee.tag){case 0:case 11:case 15:qa(8,ee,g)}var te=ee.child;if(te!==null)te.return=ee,he=te;else for(;he!==null;){ee=he;var Z=ee.sibling,le=ee.return;if(Rg(ee),ee===q){he=null;break}if(Z!==null){Z.return=le,he=Z;break}he=le}}}var de=g.alternate;if(de!==null){var fe=de.child;if(fe!==null){de.child=null;do{var ot=fe.sibling;fe.sibling=null,fe=ot}while(fe!==null)}}he=g}}if((g.subtreeFlags&2064)!==0&&E!==null)E.return=g,he=E;else e:for(;he!==null;){if(g=he,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:qa(9,g,g.return)}var U=g.sibling;if(U!==null){U.return=g.return,he=U;break e}he=g.return}}var V=r.current;for(he=V;he!==null;){E=he;var B=E.child;if((E.subtreeFlags&2064)!==0&&B!==null)B.return=E,he=B;else e:for(E=V;he!==null;){if(A=he,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:Mu(9,A)}}catch(pe){st(A,A.return,pe)}if(A===E){he=null;break e}var ne=A.sibling;if(ne!==null){ne.return=A.return,he=ne;break e}he=A.return}}if(Oe=f,os(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(Qs,r)}catch{}c=!0}return c}finally{Pe=a,Tn.transition=i}}return!1}function qg(r,i,a){i=Eo(a,i),i=lg(r,i,1),r=ls(r,i,1),i=Gt(),r!==null&&(Yr(r,1,i),en(r,i))}function st(r,i,a){if(r.tag===3)qg(r,r,a);else for(;i!==null;){if(i.tag===3){qg(i,r,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(cs===null||!cs.has(c))){r=Eo(a,r),r=ug(i,r,1),i=ls(i,r,1),r=Gt(),i!==null&&(Yr(i,1,r),en(i,r));break}}i=i.return}}function uT(r,i,a){var c=r.pingCache;c!==null&&c.delete(i),i=Gt(),r.pingedLanes|=r.suspendedLanes&a,St===r&&(Pt&a)===a&&(wt===4||wt===3&&(Pt&130023424)===Pt&&500>qe()-Ad?hi(r,0):Sd|=a),en(r,i)}function Hg(r,i){i===0&&((r.mode&1)===0?i=1:(i=Gi,Gi<<=1,(Gi&130023424)===0&&(Gi=4194304)));var a=Gt();r=Nr(r,i),r!==null&&(Yr(r,i,a),en(r,a))}function cT(r){var i=r.memoizedState,a=0;i!==null&&(a=i.retryLane),Hg(r,a)}function hT(r,i){var a=0;switch(r.tag){case 13:var c=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=r.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(i),Hg(r,a)}var Wg;Wg=function(r,i,a){if(r!==null)if(r.memoizedProps!==i.pendingProps||Yt.current)Jt=!0;else{if((r.lanes&a)===0&&(i.flags&128)===0)return Jt=!1,JE(r,i,a);Jt=(r.flags&131072)!==0}else Jt=!1,Ze&&(i.flags&1048576)!==0&&Sm(i,Eu,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;Lu(r,i),r=i.pendingProps;var f=fo(i,Lt.current);_o(i,a),f=rd(null,i,c,r,f,a);var g=sd();return i.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Xt(c)?(g=!0,vu(i)):g=!1,i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Yh(i),f.updater=Vu,i.stateNode=f,f._reactInternals=i,cd(i,c,r,a),i=pd(null,i,c,!0,g,a)):(i.tag=0,Ze&&g&&Uh(i),Wt(null,i,f,a),i=i.child),i;case 16:c=i.elementType;e:{switch(Lu(r,i),r=i.pendingProps,f=c._init,c=f(c._payload),i.type=c,f=i.tag=fT(c),r=Ln(c,r),f){case 0:i=fd(null,i,c,r,a);break e;case 1:i=vg(null,i,c,r,a);break e;case 11:i=fg(null,i,c,r,a);break e;case 14:i=pg(null,i,c,Ln(c.type,r),a);break e}throw Error(t(306,c,""))}return i;case 0:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Ln(c,f),fd(r,i,c,f,a);case 1:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Ln(c,f),vg(r,i,c,f,a);case 3:e:{if(_g(i),r===null)throw Error(t(387));c=i.pendingProps,g=i.memoizedState,f=g.element,Vm(r,i),Cu(i,c,null,a);var E=i.memoizedState;if(c=E.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){f=Eo(Error(t(423)),i),i=wg(r,i,c,a,f);break e}else if(c!==f){f=Eo(Error(t(424)),i),i=wg(r,i,c,a,f);break e}else for(cn=rs(i.stateNode.containerInfo.firstChild),un=i,Ze=!0,On=null,a=bm(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(go(),c===f){i=br(r,i,a);break e}Wt(r,i,c,a)}i=i.child}return i;case 5:return jm(i),r===null&&$h(i),c=i.type,f=i.pendingProps,g=r!==null?r.memoizedProps:null,E=f.children,Vh(c,f)?E=null:g!==null&&Vh(c,g)&&(i.flags|=32),yg(r,i),Wt(r,i,E,a),i.child;case 6:return r===null&&$h(i),null;case 13:return Eg(r,i,a);case 4:return Xh(i,i.stateNode.containerInfo),c=i.pendingProps,r===null?i.child=yo(i,null,c,a):Wt(r,i,c,a),i.child;case 11:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Ln(c,f),fg(r,i,c,f,a);case 7:return Wt(r,i,i.pendingProps,a),i.child;case 8:return Wt(r,i,i.pendingProps.children,a),i.child;case 12:return Wt(r,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,f=i.pendingProps,g=i.memoizedProps,E=f.value,He(Iu,c._currentValue),c._currentValue=E,g!==null)if(Vn(g.value,E)){if(g.children===f.children&&!Yt.current){i=br(r,i,a);break e}}else for(g=i.child,g!==null&&(g.return=i);g!==null;){var A=g.dependencies;if(A!==null){E=g.child;for(var N=A.firstContext;N!==null;){if(N.context===c){if(g.tag===1){N=Pr(-1,a&-a),N.tag=2;var q=g.updateQueue;if(q!==null){q=q.shared;var ee=q.pending;ee===null?N.next=N:(N.next=ee.next,ee.next=N),q.pending=N}}g.lanes|=a,N=g.alternate,N!==null&&(N.lanes|=a),Kh(g.return,a,i),A.lanes|=a;break}N=N.next}}else if(g.tag===10)E=g.type===i.type?null:g.child;else if(g.tag===18){if(E=g.return,E===null)throw Error(t(341));E.lanes|=a,A=E.alternate,A!==null&&(A.lanes|=a),Kh(E,a,i),E=g.sibling}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===i){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}Wt(r,i,f.children,a),i=i.child}return i;case 9:return f=i.type,c=i.pendingProps.children,_o(i,a),f=wn(f),c=c(f),i.flags|=1,Wt(r,i,c,a),i.child;case 14:return c=i.type,f=Ln(c,i.pendingProps),f=Ln(c.type,f),pg(r,i,c,f,a);case 15:return mg(r,i,i.type,i.pendingProps,a);case 17:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Ln(c,f),Lu(r,i),i.tag=1,Xt(c)?(r=!0,vu(i)):r=!1,_o(i,a),og(i,c,f),cd(i,c,f,a),pd(null,i,c,!0,r,a);case 19:return xg(r,i,a);case 22:return gg(r,i,a)}throw Error(t(156,i.tag))};function Gg(r,i){return Hi(r,i)}function dT(r,i,a,c){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(r,i,a,c){return new dT(r,i,a,c)}function Vd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function fT(r){if(typeof r=="function")return Vd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===j)return 11;if(r===Xe)return 14}return 2}function ps(r,i){var a=r.alternate;return a===null?(a=xn(r.tag,i,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=i,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,i=r.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Gu(r,i,a,c,f,g){var E=2;if(c=r,typeof r=="function")Vd(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case b:return fi(a.children,f,g,i);case S:E=8,f|=8;break;case R:return r=xn(12,a,i,f|2),r.elementType=R,r.lanes=g,r;case C:return r=xn(13,a,i,f),r.elementType=C,r.lanes=g,r;case rt:return r=xn(19,a,i,f),r.elementType=rt,r.lanes=g,r;case ze:return Ku(a,f,g,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case P:E=10;break e;case D:E=9;break e;case j:E=11;break e;case Xe:E=14;break e;case Ot:E=16,c=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return i=xn(E,a,i,f),i.elementType=r,i.type=c,i.lanes=g,i}function fi(r,i,a,c){return r=xn(7,r,c,i),r.lanes=a,r}function Ku(r,i,a,c){return r=xn(22,r,c,i),r.elementType=ze,r.lanes=a,r.stateNode={isHidden:!1},r}function Od(r,i,a){return r=xn(6,r,null,i),r.lanes=a,r}function Ld(r,i,a){return i=xn(4,r.children!==null?r.children:[],r.key,i),i.lanes=a,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function pT(r,i,a,c,f){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qr(0),this.expirationTimes=Qr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qr(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function jd(r,i,a,c,f,g,E,A,N){return r=new pT(r,i,a,A,N),i===1?(i=1,g===!0&&(i|=8)):i=0,g=xn(3,null,null,i),r.current=g,g.stateNode=r,g.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yh(g),r}function mT(r,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ae,key:c==null?null:""+c,children:r,containerInfo:i,implementation:a}}function Kg(r){if(!r)return is;r=r._reactInternals;e:{if(Cn(r)!==r||r.tag!==1)throw Error(t(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Xt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(Xt(a))return Tm(r,a,i)}return i}function Qg(r,i,a,c,f,g,E,A,N){return r=jd(a,c,!0,r,f,g,E,A,N),r.context=Kg(null),a=r.current,c=Gt(),f=ds(a),g=Pr(c,f),g.callback=i??null,ls(a,g,f),r.current.lanes=f,Yr(r,f,c),en(r,c),r}function Qu(r,i,a,c){var f=i.current,g=Gt(),E=ds(f);return a=Kg(a),i.context===null?i.context=a:i.pendingContext=a,i=Pr(g,E),i.payload={element:r},c=c===void 0?null:c,c!==null&&(i.callback=c),r=ls(f,i,E),r!==null&&(Fn(r,f,E,g),Au(r,f,E)),E}function Yu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Yg(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<i?a:i}}function Md(r,i){Yg(r,i),(r=r.alternate)&&Yg(r,i)}function gT(){return null}var Xg=typeof reportError=="function"?reportError:function(r){console.error(r)};function Fd(r){this._internalRoot=r}Xu.prototype.render=Fd.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(t(409));Qu(r,i,null,null)},Xu.prototype.unmount=Fd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;ci(function(){Qu(null,r,null,null)}),i[Ar]=null}};function Xu(r){this._internalRoot=r}Xu.prototype.unstable_scheduleHydration=function(r){if(r){var i=Xl();r={blockedOn:null,target:r,priority:i};for(var a=0;a<Kn.length&&i!==0&&i<Kn[a].priority;a++);Kn.splice(a,0,r),a===0&&eu(r)}};function Ud(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Ju(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Jg(){}function yT(r,i,a,c,f){if(f){if(typeof c=="function"){var g=c;c=function(){var q=Yu(E);g.call(q)}}var E=Qg(i,c,r,0,null,!1,!1,"",Jg);return r._reactRootContainer=E,r[Ar]=E.current,Pa(r.nodeType===8?r.parentNode:r),ci(),E}for(;f=r.lastChild;)r.removeChild(f);if(typeof c=="function"){var A=c;c=function(){var q=Yu(N);A.call(q)}}var N=jd(r,0,!1,null,null,!1,!1,"",Jg);return r._reactRootContainer=N,r[Ar]=N.current,Pa(r.nodeType===8?r.parentNode:r),ci(function(){Qu(i,N,a,c)}),N}function Zu(r,i,a,c,f){var g=a._reactRootContainer;if(g){var E=g;if(typeof f=="function"){var A=f;f=function(){var N=Yu(E);A.call(N)}}Qu(i,E,r,f)}else E=yT(a,i,r,f,c);return Yu(E)}Ql=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var a=Kr(i.pendingLanes);a!==0&&(Xr(i,a|1),en(i,qe()),(Oe&6)===0&&(Io=qe()+500,os()))}break;case 13:ci(function(){var c=Nr(r,1);if(c!==null){var f=Gt();Fn(c,r,1,f)}}),Md(r,1)}},Ki=function(r){if(r.tag===13){var i=Nr(r,134217728);if(i!==null){var a=Gt();Fn(i,r,134217728,a)}Md(r,134217728)}},Yl=function(r){if(r.tag===13){var i=ds(r),a=Nr(r,i);if(a!==null){var c=Gt();Fn(a,r,i,c)}Md(r,i)}},Xl=function(){return Pe},Jl=function(r,i){var a=Pe;try{return Pe=r,i()}finally{Pe=a}},Fi=function(r,i,a){switch(i){case"input":if(na(r,a),i=a.name,a.type==="radio"&&i!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==r&&c.form===r.form){var f=gu(c);if(!f)throw Error(t(90));Di(c),na(c,f)}}}break;case"textarea":ji(r,a);break;case"select":i=a.value,i!=null&&vr(r,!!a.multiple,i,!1)}},qs=Pd,da=ci;var vT={usingClientEntryPoint:!1,Events:[Va,co,gu,Wn,ha,Pd]},Ka={findFiberByHostInstance:ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_T={bundleType:Ka.bundleType,version:Ka.version,rendererPackageName:Ka.rendererPackageName,rendererConfig:Ka.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ma(r),r===null?null:r.stateNode},findFiberByHostInstance:Ka.findFiberByHostInstance||gT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ec.isDisabled&&ec.supportsFiber)try{Qs=ec.inject(_T),sn=ec}catch{}}return tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vT,tn.createPortal=function(r,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ud(i))throw Error(t(200));return mT(r,i,null,a)},tn.createRoot=function(r,i){if(!Ud(r))throw Error(t(299));var a=!1,c="",f=Xg;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(f=i.onRecoverableError)),i=jd(r,1,!1,null,null,a,!1,c,f),r[Ar]=i.current,Pa(r.nodeType===8?r.parentNode:r),new Fd(i)},tn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=ma(i),r=r===null?null:r.stateNode,r},tn.flushSync=function(r){return ci(r)},tn.hydrate=function(r,i,a){if(!Ju(i))throw Error(t(200));return Zu(null,r,i,!0,a)},tn.hydrateRoot=function(r,i,a){if(!Ud(r))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,f=!1,g="",E=Xg;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),i=Qg(i,null,r,1,a??null,f,!1,g,E),r[Ar]=i.current,Pa(r),c)for(r=0;r<c.length;r++)a=c[r],f=a._getVersion,f=f(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,f]:i.mutableSourceEagerHydrationData.push(a,f);return new Xu(i)},tn.render=function(r,i,a){if(!Ju(i))throw Error(t(200));return Zu(null,r,i,!1,a)},tn.unmountComponentAtNode=function(r){if(!Ju(r))throw Error(t(40));return r._reactRootContainer?(ci(function(){Zu(null,null,r,!1,function(){r._reactRootContainer=null,r[Ar]=null})}),!0):!1},tn.unstable_batchedUpdates=Pd,tn.unstable_renderSubtreeIntoContainer=function(r,i,a,c){if(!Ju(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Zu(r,i,a,!1,c)},tn.version="18.3.1-next-f1338f8080-20240426",tn}var oy;function u_(){if(oy)return $d.exports;oy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),$d.exports=RT(),$d.exports}var ay;function kT(){if(ay)return tc;ay=1;var n=u_();return tc.createRoot=n.createRoot,tc.hydrateRoot=n.hydrateRoot,tc}var NT=kT();u_();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ll(){return ll=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},ll.apply(this,arguments)}var Ts;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Ts||(Ts={}));const ly="popstate";function PT(n){n===void 0&&(n={});function e(s,o){let{pathname:l,search:h,hash:d}=s.location;return df("",{pathname:l,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:_c(o)}return DT(e,t,null,n)}function mt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function c_(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bT(){return Math.random().toString(36).substr(2,8)}function uy(n,e){return{usr:n.state,key:n.key,idx:e}}function df(n,e,t,s){return t===void 0&&(t=null),ll({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Wo(e):e,{state:t,key:e&&e.key||s||bT()})}function _c(n){let{pathname:e="/",search:t="",hash:s=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Wo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substr(s),n=n.substr(0,s)),n&&(e.pathname=n)}return e}function DT(n,e,t,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:l=!1}=s,h=o.history,d=Ts.Pop,m=null,v=w();v==null&&(v=0,h.replaceState(ll({},h.state,{idx:v}),""));function w(){return(h.state||{idx:null}).idx}function T(){d=Ts.Pop;let k=w(),J=k==null?null:k-v;v=k,m&&m({action:d,location:L.location,delta:J})}function I(k,J){d=Ts.Push;let W=df(L.location,k,J);v=w()+1;let $=uy(W,v),X=L.createHref(W);try{h.pushState($,"",X)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;o.location.assign(X)}l&&m&&m({action:d,location:L.location,delta:1})}function O(k,J){d=Ts.Replace;let W=df(L.location,k,J);v=w();let $=uy(W,v),X=L.createHref(W);h.replaceState($,"",X),l&&m&&m({action:d,location:L.location,delta:0})}function z(k){let J=o.location.origin!=="null"?o.location.origin:o.location.href,W=typeof k=="string"?k:_c(k);return W=W.replace(/ $/,"%20"),mt(J,"No window.location.(origin|href) available to create URL for href: "+W),new URL(W,J)}let L={get action(){return d},get location(){return n(o,h)},listen(k){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(ly,T),m=k,()=>{o.removeEventListener(ly,T),m=null}},createHref(k){return e(o,k)},createURL:z,encodeLocation(k){let J=z(k);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:I,replace:O,go(k){return h.go(k)}};return L}var cy;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(cy||(cy={}));function VT(n,e,t){return t===void 0&&(t="/"),OT(n,e,t)}function OT(n,e,t,s){let o=typeof e=="string"?Wo(e):e,l=Wf(o.pathname||"/",t);if(l==null)return null;let h=h_(n);LT(h);let d=null;for(let m=0;d==null&&m<h.length;++m){let v=KT(l);d=HT(h[m],v)}return d}function h_(n,e,t,s){e===void 0&&(e=[]),t===void 0&&(t=[]),s===void 0&&(s="");let o=(l,h,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};m.relativePath.startsWith("/")&&(mt(m.relativePath.startsWith(s),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(s.length));let v=Is([s,m.relativePath]),w=t.concat(m);l.children&&l.children.length>0&&(mt(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),h_(l.children,e,w,v)),!(l.path==null&&!l.index)&&e.push({path:v,score:$T(v,l.index),routesMeta:w})};return n.forEach((l,h)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,h);else for(let m of d_(l.path))o(l,h,m)}),e}function d_(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let h=d_(s.join("/")),d=[];return d.push(...h.map(m=>m===""?l:[l,m].join("/"))),o&&d.push(...h),d.map(m=>n.startsWith("/")&&m===""?"/":m)}function LT(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:qT(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}const jT=/^:[\w-]+$/,MT=3,FT=2,UT=1,zT=10,BT=-2,hy=n=>n==="*";function $T(n,e){let t=n.split("/"),s=t.length;return t.some(hy)&&(s+=BT),e&&(s+=FT),t.filter(o=>!hy(o)).reduce((o,l)=>o+(jT.test(l)?MT:l===""?UT:zT),s)}function qT(n,e){return n.length===e.length&&n.slice(0,-1).every((s,o)=>s===e[o])?n[n.length-1]-e[e.length-1]:0}function HT(n,e,t){let{routesMeta:s}=n,o={},l="/",h=[];for(let d=0;d<s.length;++d){let m=s[d],v=d===s.length-1,w=l==="/"?e:e.slice(l.length)||"/",T=WT({path:m.relativePath,caseSensitive:m.caseSensitive,end:v},w),I=m.route;if(!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:Is([l,T.pathname]),pathnameBase:JT(Is([l,T.pathnameBase])),route:I}),T.pathnameBase!=="/"&&(l=Is([l,T.pathnameBase]))}return h}function WT(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=GT(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((v,w,T)=>{let{paramName:I,isOptional:O}=w;if(I==="*"){let L=d[T]||"";h=l.slice(0,l.length-L.length).replace(/(.)\/+$/,"$1")}const z=d[T];return O&&!z?v[I]=void 0:v[I]=(z||"").replace(/%2F/g,"/"),v},{}),pathname:l,pathnameBase:h,pattern:n}}function GT(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),c_(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let s=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function KT(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return c_(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Wf(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function QT(n,e){e===void 0&&(e="/");let{pathname:t,search:s="",hash:o=""}=typeof n=="string"?Wo(n):n;return{pathname:t?t.startsWith("/")?t:YT(t,e):e,search:ZT(s),hash:e1(o)}}function YT(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Wd(n,e,t,s){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function XT(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function f_(n,e){let t=XT(n);return e?t.map((s,o)=>o===t.length-1?s.pathname:s.pathnameBase):t.map(s=>s.pathnameBase)}function p_(n,e,t,s){s===void 0&&(s=!1);let o;typeof n=="string"?o=Wo(n):(o=ll({},n),mt(!o.pathname||!o.pathname.includes("?"),Wd("?","pathname","search",o)),mt(!o.pathname||!o.pathname.includes("#"),Wd("#","pathname","hash",o)),mt(!o.search||!o.search.includes("#"),Wd("#","search","hash",o)));let l=n===""||o.pathname==="",h=l?"/":o.pathname,d;if(h==null)d=t;else{let T=e.length-1;if(!s&&h.startsWith("..")){let I=h.split("/");for(;I[0]==="..";)I.shift(),T-=1;o.pathname=I.join("/")}d=T>=0?e[T]:"/"}let m=QT(o,d),v=h&&h!=="/"&&h.endsWith("/"),w=(l||h===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(v||w)&&(m.pathname+="/"),m}const Is=n=>n.join("/").replace(/\/\/+/g,"/"),JT=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),ZT=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,e1=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function t1(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const m_=["post","put","patch","delete"];new Set(m_);const n1=["get",...m_];new Set(n1);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ul(){return ul=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},ul.apply(this,arguments)}const Gf=Y.createContext(null),r1=Y.createContext(null),Si=Y.createContext(null),qc=Y.createContext(null),Ai=Y.createContext({outlet:null,matches:[],isDataRoute:!1}),g_=Y.createContext(null);function s1(n,e){let{relative:t}=e===void 0?{}:e;Sl()||mt(!1);let{basename:s,navigator:o}=Y.useContext(Si),{hash:l,pathname:h,search:d}=v_(n,{relative:t}),m=h;return s!=="/"&&(m=h==="/"?s:Is([s,h])),o.createHref({pathname:m,search:d,hash:l})}function Sl(){return Y.useContext(qc)!=null}function Al(){return Sl()||mt(!1),Y.useContext(qc).location}function y_(n){Y.useContext(Si).static||Y.useLayoutEffect(n)}function Go(){let{isDataRoute:n}=Y.useContext(Ai);return n?y1():i1()}function i1(){Sl()||mt(!1);let n=Y.useContext(Gf),{basename:e,future:t,navigator:s}=Y.useContext(Si),{matches:o}=Y.useContext(Ai),{pathname:l}=Al(),h=JSON.stringify(f_(o,t.v7_relativeSplatPath)),d=Y.useRef(!1);return y_(()=>{d.current=!0}),Y.useCallback(function(v,w){if(w===void 0&&(w={}),!d.current)return;if(typeof v=="number"){s.go(v);return}let T=p_(v,JSON.parse(h),l,w.relative==="path");n==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:Is([e,T.pathname])),(w.replace?s.replace:s.push)(T,w.state,w)},[e,s,h,l,n])}function v_(n,e){let{relative:t}=e===void 0?{}:e,{future:s}=Y.useContext(Si),{matches:o}=Y.useContext(Ai),{pathname:l}=Al(),h=JSON.stringify(f_(o,s.v7_relativeSplatPath));return Y.useMemo(()=>p_(n,JSON.parse(h),l,t==="path"),[n,h,l,t])}function o1(n,e){return a1(n,e)}function a1(n,e,t,s){Sl()||mt(!1);let{navigator:o}=Y.useContext(Si),{matches:l}=Y.useContext(Ai),h=l[l.length-1],d=h?h.params:{};h&&h.pathname;let m=h?h.pathnameBase:"/";h&&h.route;let v=Al(),w;if(e){var T;let k=typeof e=="string"?Wo(e):e;m==="/"||(T=k.pathname)!=null&&T.startsWith(m)||mt(!1),w=k}else w=v;let I=w.pathname||"/",O=I;if(m!=="/"){let k=m.replace(/^\//,"").split("/");O="/"+I.replace(/^\//,"").split("/").slice(k.length).join("/")}let z=VT(n,{pathname:O}),L=d1(z&&z.map(k=>Object.assign({},k,{params:Object.assign({},d,k.params),pathname:Is([m,o.encodeLocation?o.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?m:Is([m,o.encodeLocation?o.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),l,t,s);return e&&L?Y.createElement(qc.Provider,{value:{location:ul({pathname:"/",search:"",hash:"",state:null,key:"default"},w),navigationType:Ts.Pop}},L):L}function l1(){let n=g1(),e=t1(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},e),t?Y.createElement("pre",{style:o},t):null,null)}const u1=Y.createElement(l1,null);class c1 extends Y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?Y.createElement(Ai.Provider,{value:this.props.routeContext},Y.createElement(g_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function h1(n){let{routeContext:e,match:t,children:s}=n,o=Y.useContext(Gf);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),Y.createElement(Ai.Provider,{value:e},s)}function d1(n,e,t,s){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),s===void 0&&(s=null),n==null){var l;if(!t)return null;if(t.errors)n=t.matches;else if((l=s)!=null&&l.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let h=n,d=(o=t)==null?void 0:o.errors;if(d!=null){let w=h.findIndex(T=>T.route.id&&d?.[T.route.id]!==void 0);w>=0||mt(!1),h=h.slice(0,Math.min(h.length,w+1))}let m=!1,v=-1;if(t&&s&&s.v7_partialHydration)for(let w=0;w<h.length;w++){let T=h[w];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(v=w),T.route.id){let{loaderData:I,errors:O}=t,z=T.route.loader&&I[T.route.id]===void 0&&(!O||O[T.route.id]===void 0);if(T.route.lazy||z){m=!0,v>=0?h=h.slice(0,v+1):h=[h[0]];break}}}return h.reduceRight((w,T,I)=>{let O,z=!1,L=null,k=null;t&&(O=d&&T.route.id?d[T.route.id]:void 0,L=T.route.errorElement||u1,m&&(v<0&&I===0?(v1("route-fallback"),z=!0,k=null):v===I&&(z=!0,k=T.route.hydrateFallbackElement||null)));let J=e.concat(h.slice(0,I+1)),W=()=>{let $;return O?$=L:z?$=k:T.route.Component?$=Y.createElement(T.route.Component,null):T.route.element?$=T.route.element:$=w,Y.createElement(h1,{match:T,routeContext:{outlet:w,matches:J,isDataRoute:t!=null},children:$})};return t&&(T.route.ErrorBoundary||T.route.errorElement||I===0)?Y.createElement(c1,{location:t.location,revalidation:t.revalidation,component:L,error:O,children:W(),routeContext:{outlet:null,matches:J,isDataRoute:!0}}):W()},null)}var __=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(__||{}),w_=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(w_||{});function f1(n){let e=Y.useContext(Gf);return e||mt(!1),e}function p1(n){let e=Y.useContext(r1);return e||mt(!1),e}function m1(n){let e=Y.useContext(Ai);return e||mt(!1),e}function E_(n){let e=m1(),t=e.matches[e.matches.length-1];return t.route.id||mt(!1),t.route.id}function g1(){var n;let e=Y.useContext(g_),t=p1(),s=E_();return e!==void 0?e:(n=t.errors)==null?void 0:n[s]}function y1(){let{router:n}=f1(__.UseNavigateStable),e=E_(w_.UseNavigateStable),t=Y.useRef(!1);return y_(()=>{t.current=!0}),Y.useCallback(function(o,l){l===void 0&&(l={}),t.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,ul({fromRouteId:e},l)))},[n,e])}const dy={};function v1(n,e,t){dy[n]||(dy[n]=!0)}function _1(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath}function ys(n){mt(!1)}function w1(n){let{basename:e="/",children:t=null,location:s,navigationType:o=Ts.Pop,navigator:l,static:h=!1,future:d}=n;Sl()&&mt(!1);let m=e.replace(/^\/*/,"/"),v=Y.useMemo(()=>({basename:m,navigator:l,static:h,future:ul({v7_relativeSplatPath:!1},d)}),[m,d,l,h]);typeof s=="string"&&(s=Wo(s));let{pathname:w="/",search:T="",hash:I="",state:O=null,key:z="default"}=s,L=Y.useMemo(()=>{let k=Wf(w,m);return k==null?null:{location:{pathname:k,search:T,hash:I,state:O,key:z},navigationType:o}},[m,w,T,I,O,z,o]);return L==null?null:Y.createElement(Si.Provider,{value:v},Y.createElement(qc.Provider,{children:t,value:L}))}function E1(n){let{children:e,location:t}=n;return o1(ff(e),t)}new Promise(()=>{});function ff(n,e){e===void 0&&(e=[]);let t=[];return Y.Children.forEach(n,(s,o)=>{if(!Y.isValidElement(s))return;let l=[...e,o];if(s.type===Y.Fragment){t.push.apply(t,ff(s.props.children,l));return}s.type!==ys&&mt(!1),!s.props.index||!s.props.children||mt(!1);let h={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=ff(s.props.children,l)),t.push(h)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pf(){return pf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},pf.apply(this,arguments)}function T1(n,e){if(n==null)return{};var t={},s=Object.keys(n),o,l;for(l=0;l<s.length;l++)o=s[l],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function x1(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function I1(n,e){return n.button===0&&(!e||e==="_self")&&!x1(n)}function mf(n){return n===void 0&&(n=""),new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let s=n[t];return e.concat(Array.isArray(s)?s.map(o=>[t,o]):[[t,s]])},[]))}function S1(n,e){let t=mf(n);return e&&e.forEach((s,o)=>{t.has(o)||e.getAll(o).forEach(l=>{t.append(o,l)})}),t}const A1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],C1="6";try{window.__reactRouterVersion=C1}catch{}const R1="startTransition",fy=ST[R1];function k1(n){let{basename:e,children:t,future:s,window:o}=n,l=Y.useRef();l.current==null&&(l.current=PT({window:o,v5Compat:!0}));let h=l.current,[d,m]=Y.useState({action:h.action,location:h.location}),{v7_startTransition:v}=s||{},w=Y.useCallback(T=>{v&&fy?fy(()=>m(T)):m(T)},[m,v]);return Y.useLayoutEffect(()=>h.listen(w),[h,w]),Y.useEffect(()=>_1(s),[s]),Y.createElement(w1,{basename:e,children:t,location:d.location,navigationType:d.action,navigator:h,future:s})}const N1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",P1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vr=Y.forwardRef(function(e,t){let{onClick:s,relative:o,reloadDocument:l,replace:h,state:d,target:m,to:v,preventScrollReset:w,viewTransition:T}=e,I=T1(e,A1),{basename:O}=Y.useContext(Si),z,L=!1;if(typeof v=="string"&&P1.test(v)&&(z=v,N1))try{let $=new URL(window.location.href),X=v.startsWith("//")?new URL($.protocol+v):new URL(v),oe=Wf(X.pathname,O);X.origin===$.origin&&oe!=null?v=oe+X.search+X.hash:L=!0}catch{}let k=s1(v,{relative:o}),J=b1(v,{replace:h,state:d,target:m,preventScrollReset:w,relative:o,viewTransition:T});function W($){s&&s($),$.defaultPrevented||J($)}return Y.createElement("a",pf({},I,{href:z||k,onClick:L||l?s:W,ref:t,target:m}))});var py;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(py||(py={}));var my;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(my||(my={}));function b1(n,e){let{target:t,replace:s,state:o,preventScrollReset:l,relative:h,viewTransition:d}=e===void 0?{}:e,m=Go(),v=Al(),w=v_(n,{relative:h});return Y.useCallback(T=>{if(I1(T,t)){T.preventDefault();let I=s!==void 0?s:_c(v)===_c(w);m(n,{replace:I,state:o,preventScrollReset:l,relative:h,viewTransition:d})}},[v,m,w,s,o,t,n,l,h,d])}function D1(n){let e=Y.useRef(mf(n)),t=Y.useRef(!1),s=Al(),o=Y.useMemo(()=>S1(s.search,t.current?null:e.current),[s.search]),l=Go(),h=Y.useCallback((d,m)=>{const v=mf(typeof d=="function"?d(o):d);t.current=!0,l("?"+v,m)},[l,o]);return[o,h]}/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),O1=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),gy=n=>{const e=O1(n);return e.charAt(0).toUpperCase()+e.slice(1)},T_=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),L1=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var j1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=Y.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:l,iconNode:h,...d},m)=>Y.createElement("svg",{ref:m,...j1,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:T_("lucide",o),...!l&&!L1(d)&&{"aria-hidden":"true"},...d},[...h.map(([v,w])=>Y.createElement(v,w)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=(n,e)=>{const t=Y.forwardRef(({className:s,...o},l)=>Y.createElement(M1,{ref:l,iconNode:e,className:T_(`lucide-${V1(gy(n))}`,`lucide-${n}`,s),...o}));return t.displayName=gy(n),t};/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],U1=Ge("arrow-left",F1);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],x_=Ge("arrow-right",z1);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],yy=Ge("book-open",B1);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Kf=Ge("calendar",$1);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],H1=Ge("camera",q1);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Qf=Ge("chevron-down",W1);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],wc=Ge("chevron-up",G1);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],I_=Ge("circle-alert",K1);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],vy=Ge("clock",Q1);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],X1=Ge("dollar-sign",Y1);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Z1=Ge("external-link",J1);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],gf=Ge("eye-off",ex);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],cl=Ge("eye",tx);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Mo=Ge("heart",nx);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],yf=Ge("lock",rx);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],hl=Ge("mail",sx);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ox=Ge("map-pin",ix);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],lx=Ge("menu",ax);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],cx=Ge("pen-line",ux);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],dl=Ge("phone",hx);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],fx=Ge("save",dx);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],gi=Ge("search",px);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],gx=Ge("sliders-horizontal",mx);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],vx=Ge("user-plus",yx);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],vi=Ge("user",_x);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ex=Ge("x",wx);function Ns(){const[n,e]=Y.useState(!1),[t,s]=Y.useState(!1),o=Y.useRef(null);return Y.useEffect(()=>{const l=h=>{o.current&&!o.current.contains(h.target)&&s(!1)};return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]),y.jsx("header",{className:"bg-white shadow-sm relative",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[y.jsxs("div",{className:"flex justify-between items-center h-16",children:[y.jsxs(Vr,{to:"/",className:"flex items-center",children:[y.jsx("div",{className:"w-8 h-8 bg-black rounded-full flex items-center justify-center mr-3",children:y.jsx("span",{className:"text-white text-sm font-bold",children:"X"})}),y.jsx("span",{className:"text-xl font-bold text-black",children:"XARIIF"})]}),y.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[y.jsxs(Vr,{to:"/blogs",className:"flex items-center text-gray-700 hover:text-black",children:[y.jsx(yy,{className:"w-4 h-4 mr-1"}),"Blogs"]}),y.jsxs(Vr,{to:"/favourites",className:"flex items-center text-gray-700 hover:text-black",children:[y.jsx(Mo,{className:"w-4 h-4 mr-1"}),"My Favourites"]}),y.jsxs(Vr,{to:"/login",className:"flex items-center text-gray-700 hover:text-black",children:[y.jsx(vi,{className:"w-4 h-4 mr-1"}),"Log in"]})]}),y.jsxs("button",{onClick:()=>e(!n),className:"md:hidden flex items-center text-gray-700 hover:text-black",children:[y.jsx(lx,{className:"w-5 h-5 mr-1"}),"Menu"]})]}),n&&y.jsx("div",{className:"md:hidden border-t border-gray-200 py-4",children:y.jsxs("div",{className:"flex flex-col space-y-4",children:[y.jsxs(Vr,{to:"/blogs",className:"flex items-center text-gray-700 hover:text-black",onClick:()=>e(!1),children:[y.jsx(yy,{className:"w-4 h-4 mr-2"}),"Blogs"]}),y.jsxs(Vr,{to:"/favourites",className:"flex items-center text-gray-700 hover:text-black",onClick:()=>e(!1),children:[y.jsx(Mo,{className:"w-4 h-4 mr-2"}),"My Favourites"]}),y.jsxs(Vr,{to:"/login",className:"flex items-center text-gray-700 hover:text-black",onClick:()=>e(!1),children:[y.jsx(vi,{className:"w-4 h-4 mr-2"}),"Log in"]})]})})]})})}function Tx(){const[n,e]=Y.useState("All Types"),t=Go(),s=(l,h)=>{t(`/search?type=${encodeURIComponent(n)}&keywords=${encodeURIComponent(l)}`)},o=l=>{l.preventDefault()};return y.jsxs("div",{className:"min-h-screen",children:[y.jsx(Ns,{}),y.jsxs("div",{className:"relative min-h-[500px] flex items-center justify-center bg-cover bg-center",style:{backgroundImage:"url(https://scholarshipamerica.org/wp-content/uploads/2025/05/TwoStudentsStudying.jpg)"},children:[y.jsx("div",{className:"absolute inset-0 bg-teal-900 bg-opacity-70"}),y.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto px-4 text-center",children:[y.jsx("h1",{className:"text-white text-4xl md:text-5xl font-bold mb-8",children:"Search for scholarships and funding"}),y.jsx("form",{onSubmit:o,className:"bg-white rounded-lg p-6 shadow-lg",children:y.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[y.jsxs("div",{className:"relative flex-1",children:[y.jsx("label",{className:"block text-sm text-gray-600 mb-2 text-left",children:"Type"}),y.jsxs("div",{className:"relative",children:[y.jsxs("select",{value:n,onChange:l=>e(l.target.value),className:"w-full p-3 border border-gray-300 rounded-md appearance-none bg-white pr-10 focus:ring-2 focus:ring-teal-500 focus:border-teal-500",children:[y.jsx("option",{children:"All Types"}),y.jsx("option",{children:"Scholarships"}),y.jsx("option",{children:"Internships"}),y.jsx("option",{children:"Fellowships"})]}),y.jsx(Qf,{className:"absolute right-3 top-3 w-5 h-5 text-gray-400 pointer-events-none"})]})]}),y.jsxs("div",{className:"flex-2",children:[y.jsx("label",{className:"block text-sm text-gray-600 mb-2 text-left",children:"Keywords"}),y.jsx("input",{type:"text",placeholder:"e.g. Engineering/Medicine/Location",className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-teal-500 focus:border-teal-500"})]}),y.jsx("div",{className:"flex items-end",children:y.jsxs("button",{type:"submit",className:"bg-teal-600 hover:bg-teal-700 text-white px-8 py-3 rounded-md font-medium flex items-center whitespace-nowrap",onClick:l=>{l.preventDefault();const h=document.querySelector('input[placeholder*="Engineering"]');h?.value&&s(h.value)},children:[y.jsx(gi,{className:"w-4 h-4 mr-2"})," Find opportunities"]})})]})})]})]}),y.jsx("div",{className:"bg-gray-50 py-16",children:y.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Find the Perfect Scholarship for You"}),y.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Discover thousands of scholarship opportunities from universities, organizations, and foundations worldwide. Start your journey to funding your education today."})]}),y.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"w-16 h-16 bg-teal-100 rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx(gi,{className:"w-8 h-8 text-teal-600"})}),y.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Easy Search"}),y.jsx("p",{className:"text-gray-600",children:"Find scholarships by funding type, field of study, location, and more with our advanced search filters."})]}),y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"w-16 h-16 bg-teal-100 rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx(Mo,{className:"w-8 h-8 text-teal-600"})}),y.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Save Favourites"}),y.jsx("p",{className:"text-gray-600",children:"Create an account to save your favorite scholarships and track application deadlines."})]}),y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"w-16 h-16 bg-teal-100 rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx("div",{className:"w-8 h-8 text-teal-600 font-bold text-lg",children:"$"})}),y.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Verified Opportunities"}),y.jsx("p",{className:"text-gray-600",children:"All scholarships are verified and regularly updated to ensure accuracy and legitimacy."})]})]})]})})]})}function S_({scholarship:n,onToggleFavorite:e}){const[t,s]=Y.useState(!1),o=l=>new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return y.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:n.title}),y.jsx("p",{className:"text-gray-600 mb-2",children:n.organization}),y.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-2",children:[y.jsx(ox,{className:"w-4 h-4 mr-1"}),n.location]})]}),y.jsx("button",{onClick:()=>e?.(n.id),className:`p-2 rounded-full transition-colors ${n.isFavorited?"text-red-500 hover:text-red-600":"text-gray-400 hover:text-red-500"}`,children:y.jsx(Mo,{className:`w-5 h-5 ${n.isFavorited?"fill-current":""}`})})]}),y.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[y.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${n.fundingType==="Fully Funded"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:n.fundingType}),n.levelOfStudy.map(l=>y.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-800 rounded-full text-xs",children:l},l))]}),y.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-4",children:[y.jsx(Kf,{className:"w-4 h-4 mr-1"}),y.jsx("span",{className:"font-medium",children:"Deadline:"}),y.jsx("span",{className:"ml-1",children:o(n.deadline)})]}),t&&y.jsxs("div",{className:"border-t border-gray-200 pt-4 mt-4 space-y-4",children:[y.jsxs("div",{children:[y.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Subject Areas"}),y.jsx("div",{className:"flex flex-wrap gap-2",children:n.subjectAreas.map(l=>y.jsx("span",{className:"px-2 py-1 bg-teal-50 text-teal-800 rounded text-sm",children:l},l))})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Description"}),y.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:n.description})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Eligibility Criteria"}),y.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:n.eligibility})]}),y.jsxs("div",{children:[y.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center",children:[y.jsx(X1,{className:"w-4 h-4 mr-1"}),"Benefits"]}),y.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:n.benefits})]}),y.jsx("div",{className:"pt-4 border-t border-gray-100",children:y.jsxs("a",{href:n.applicationLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center bg-teal-600 hover:bg-teal-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:[y.jsx(Z1,{className:"w-4 h-4 mr-2"}),"Apply Now"]})})]}),y.jsx("button",{onClick:()=>s(!t),className:"flex items-center text-teal-600 hover:text-teal-700 text-sm font-medium mt-4 transition-colors",children:t?y.jsxs(y.Fragment,{children:[y.jsx(wc,{className:"w-4 h-4 mr-1"}),"Show less"]}):y.jsxs(y.Fragment,{children:[y.jsx(Qf,{className:"w-4 h-4 mr-1"}),"Show more"]})})]})}const _y=[{id:"1",title:"Engineering Excellence Scholarship",organization:"University of Technology",location:"Stockholm, Sweden",deadline:"2025-12-15",fundingType:"Fully Funded",levelOfStudy:["Bachelors","Masters"],subjectAreas:["Engineering","Computer Science"],description:"This scholarship supports outstanding students pursuing engineering degrees with demonstrated academic excellence and leadership potential.",eligibility:"Open to international students with a minimum GPA of 3.5, strong English proficiency, and demonstrated leadership experience.",benefits:"Full tuition coverage, monthly living allowance of €1,200, health insurance, and research opportunities.",applicationLink:"https://university.com/apply",isFavorited:!1,type:"Scholarships"},{id:"2",title:"Global Health Initiative Scholarship",organization:"International Health Foundation",location:"Geneva, Switzerland",deadline:"2025-11-30",fundingType:"Partial Funding",levelOfStudy:["Masters","PhD"],subjectAreas:["Medicine","Public Health"],description:"Supporting future healthcare leaders committed to addressing global health challenges in underserved communities.",eligibility:"Medical or public health background required. Minimum 2 years of relevant work experience. Commitment to work in developing countries.",benefits:"€15,000 annual scholarship, mentorship program, and internship opportunities with WHO.",applicationLink:"https://healthfoundation.org/apply",isFavorited:!0,type:"Scholarships"},{id:"3",title:"Tech Giants Summer Internship Program",organization:"Google",location:"Mountain View, USA",deadline:"2025-02-15",fundingType:"Merit-based",levelOfStudy:["Bachelors","Masters"],subjectAreas:["Computer Science","Engineering"],description:"Competitive summer internship program at Google for computer science and engineering students.",eligibility:"Currently enrolled in CS/Engineering program, strong programming skills, previous internship experience preferred.",benefits:"$8,000 monthly stipend, housing assistance, mentorship, potential full-time offer.",applicationLink:"https://careers.google.com/internships",isFavorited:!1,type:"Internships"},{id:"4",title:"Rhodes Fellowship Program",organization:"Oxford University",location:"Oxford, UK",deadline:"2025-09-30",fundingType:"Fully Funded",levelOfStudy:["Masters","PhD"],subjectAreas:["All Fields"],description:"Prestigious fellowship program offering full funding for graduate study at Oxford University.",eligibility:"Exceptional academic achievement, leadership potential, commitment to service. Age 19-25.",benefits:"Full tuition, living expenses, travel costs, book allowance for 2-3 years.",applicationLink:"https://www.rhodesscholarships.org/apply",isFavorited:!1,type:"Fellowships"},{id:"5",title:"Microsoft Research Fellowship",organization:"Microsoft Research",location:"Seattle, USA",deadline:"2025-03-01",fundingType:"Fully Funded",levelOfStudy:["PhD"],subjectAreas:["Computer Science","Artificial Intelligence"],description:"Research fellowship for PhD students in computer science and AI fields.",eligibility:"PhD student in computer science, AI, or related field. Strong research background required.",benefits:"$42,000 annual stipend, research resources, mentorship, conference funding.",applicationLink:"https://www.microsoft.com/en-us/research/academic-program/phd-fellowship/",isFavorited:!1,type:"Fellowships"}];function xx(){const[n]=D1(),[e,t]=Y.useState(_y),[s,o]=Y.useState(_y),[l,h]=Y.useState(!1),[d,m]=Y.useState("relevance"),[v,w]=Y.useState([]),[T,I]=Y.useState([]),[O,z]=Y.useState([]),L=n.get("type"),J=L==="Scholarships"?{fundingTypes:["Fully Funded","Partial Funding","Merit-based","Need-based"],studyLevels:["Bachelors","Masters","PhD"],subjects:["Engineering","Computer Science","Medicine","Public Health","Environmental Science","Business","All Fields"]}:L==="Internships"?{fundingTypes:["Merit-based","Paid","Unpaid"],studyLevels:["Bachelors","Masters"],subjects:["Computer Science","Engineering","Business","Finance","Economics"]}:L==="Fellowships"?{fundingTypes:["Fully Funded","Research Grant"],studyLevels:["Masters","PhD","Postdoc"],subjects:["Computer Science","Artificial Intelligence","Education","All Fields"]}:{fundingTypes:["Fully Funded","Partial Funding","Merit-based","Need-based","Research Grant","Paid"],studyLevels:["Bachelors","Masters","PhD","MBA","Postdoc"],subjects:["Engineering","Computer Science","Medicine","Public Health","Environmental Science","Business","Entrepreneurship","Finance","Economics","Education","Artificial Intelligence","All Fields"]},{fundingTypes:W,studyLevels:$,subjects:X}=J;Y.useEffect(()=>{let S=e;const R=n.get("type"),P=n.get("keywords");if(R&&R!=="All Types"&&(S=S.filter(D=>D.type===R)),P&&P.trim()){const D=P.toLowerCase().trim();S=S.filter(j=>{const C=[j.title.toLowerCase(),j.organization.toLowerCase(),j.location.toLowerCase(),j.fundingType.toLowerCase(),j.description.toLowerCase(),...j.subjectAreas.map(Xe=>Xe.toLowerCase()),...j.levelOfStudy.map(Xe=>Xe.toLowerCase())].join(" ");return D.split(" ").filter(Xe=>Xe.length>0).some(Xe=>C.includes(Xe))})}v.length>0&&(S=S.filter(D=>v.includes(D.fundingType))),T.length>0&&(S=S.filter(D=>D.levelOfStudy.some(j=>T.includes(j)))),O.length>0&&(S=S.filter(D=>D.subjectAreas.some(j=>O.includes(j)))),d==="deadline"?S.sort((D,j)=>new Date(D.deadline).getTime()-new Date(j.deadline).getTime()):d==="title"&&S.sort((D,j)=>D.title.localeCompare(j.title)),o(S)},[e,v,T,O,n,d]);const oe=(S,R,P)=>{S.includes(P)?R(S.filter(D=>D!==P)):R([...S,P])},ae=S=>{t(R=>R.map(P=>P.id===S?{...P,isFavorited:!P.isFavorited}:P))},b=()=>{w([]),I([]),z([])};return y.jsxs("div",{className:"min-h-screen bg-gray-50",children:[y.jsx(Ns,{}),y.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:y.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[y.jsxs("div",{className:"lg:w-80 bg-white p-6 rounded-lg shadow-sm h-fit",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsxs("h2",{className:"text-lg font-semibold flex items-center",children:[y.jsx(gx,{className:"w-5 h-5 mr-2"}),"Filter"]}),y.jsx("button",{onClick:b,className:"text-sm text-teal-600 hover:text-teal-700",children:"Reset (0)"})]}),y.jsxs("div",{className:"mb-6",children:[y.jsx("h3",{className:"font-medium mb-3",children:L==="Internships"?"Compensation Type":L==="Fellowships"?"Grant Type":"Funding Type"}),y.jsx("div",{className:"space-y-2",children:W.map(S=>y.jsxs("label",{className:"flex items-center",children:[y.jsx("input",{type:"checkbox",checked:v.includes(S),onChange:()=>oe(v,w,S),className:"rounded border-gray-300 text-teal-600 focus:ring-teal-500"}),y.jsx("span",{className:"ml-2 text-sm",children:S})]},S))})]}),y.jsxs("div",{className:"mb-6",children:[y.jsx("h3",{className:"font-medium mb-3",children:"Level of Study"}),y.jsx("div",{className:"space-y-2",children:$.map(S=>y.jsxs("label",{className:"flex items-center",children:[y.jsx("input",{type:"checkbox",checked:T.includes(S),onChange:()=>oe(T,I,S),className:"rounded border-gray-300 text-teal-600 focus:ring-teal-500"}),y.jsx("span",{className:"ml-2 text-sm",children:S})]},S))})]}),y.jsx("button",{onClick:()=>h(!l),className:"flex items-center text-teal-600 hover:text-teal-700 text-sm font-medium mb-4",children:l?y.jsxs(y.Fragment,{children:[y.jsx(wc,{className:"w-4 h-4 mr-1"}),"Show less filters"]}):y.jsxs(y.Fragment,{children:[y.jsx(Qf,{className:"w-4 h-4 mr-1"}),"Show more filters"]})}),l&&y.jsxs("div",{className:"mb-6",children:[y.jsx("h3",{className:"font-medium mb-3",children:"Subject Areas"}),y.jsx("div",{className:"space-y-2",children:X.map(S=>y.jsxs("label",{className:"flex items-center",children:[y.jsx("input",{type:"checkbox",checked:O.includes(S),onChange:()=>oe(O,z,S),className:"rounded border-gray-300 text-teal-600 focus:ring-teal-500"}),y.jsx("span",{className:"ml-2 text-sm",children:S})]},S))})]})]}),y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-xl font-semibold mb-1",children:L&&L!=="All Types"?L:"All Opportunities"}),y.jsxs("p",{className:"text-gray-600 text-sm",children:["Showing ",s.length," results",n.get("keywords")&&` for "${n.get("keywords")}"`]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("label",{className:"text-sm text-gray-600",children:"Sort by:"}),y.jsxs("select",{value:d,onChange:S=>m(S.target.value),className:"border border-gray-300 rounded-md px-3 py-1 text-sm focus:ring-2 focus:ring-teal-500 focus:border-teal-500",children:[y.jsx("option",{value:"relevance",children:"Relevance"}),y.jsx("option",{value:"deadline",children:"Deadline"}),y.jsx("option",{value:"title",children:"Title"})]})]})]}),y.jsx("div",{className:"space-y-6",children:s.length>0?s.map(S=>y.jsx(S_,{scholarship:S,onToggleFavorite:ae},S.id)):y.jsxs("div",{className:"text-center py-12",children:[y.jsx("p",{className:"text-gray-500 text-lg",children:"No scholarships found matching your criteria."}),y.jsx("button",{onClick:b,className:"mt-4 text-teal-600 hover:text-teal-700 font-medium",children:"Clear all filters"})]})})]})]})})]})}const Ix={},wy=n=>{let e;const t=new Set,s=(w,T)=>{const I=typeof w=="function"?w(e):w;if(!Object.is(I,e)){const O=e;e=T??(typeof I!="object"||I===null)?I:Object.assign({},e,I),t.forEach(z=>z(e,O))}},o=()=>e,m={setState:s,getState:o,getInitialState:()=>v,subscribe:w=>(t.add(w),()=>t.delete(w)),destroy:()=>{(Ix?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),t.clear()}},v=e=n(s,o,m);return m},Sx=n=>n?wy(n):wy;var Gd={exports:{}},Kd={},Qd={exports:{}},Yd={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function Ax(){if(Ey)return Yd;Ey=1;var n=Il();function e(T,I){return T===I&&(T!==0||1/T===1/I)||T!==T&&I!==I}var t=typeof Object.is=="function"?Object.is:e,s=n.useState,o=n.useEffect,l=n.useLayoutEffect,h=n.useDebugValue;function d(T,I){var O=I(),z=s({inst:{value:O,getSnapshot:I}}),L=z[0].inst,k=z[1];return l(function(){L.value=O,L.getSnapshot=I,m(L)&&k({inst:L})},[T,O,I]),o(function(){return m(L)&&k({inst:L}),T(function(){m(L)&&k({inst:L})})},[T]),h(O),O}function m(T){var I=T.getSnapshot;T=T.value;try{var O=I();return!t(T,O)}catch{return!0}}function v(T,I){return I()}var w=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?v:d;return Yd.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:w,Yd}var Ty;function Cx(){return Ty||(Ty=1,Qd.exports=Ax()),Qd.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function Rx(){if(xy)return Kd;xy=1;var n=Il(),e=Cx();function t(v,w){return v===w&&(v!==0||1/v===1/w)||v!==v&&w!==w}var s=typeof Object.is=="function"?Object.is:t,o=e.useSyncExternalStore,l=n.useRef,h=n.useEffect,d=n.useMemo,m=n.useDebugValue;return Kd.useSyncExternalStoreWithSelector=function(v,w,T,I,O){var z=l(null);if(z.current===null){var L={hasValue:!1,value:null};z.current=L}else L=z.current;z=d(function(){function J(ae){if(!W){if(W=!0,$=ae,ae=I(ae),O!==void 0&&L.hasValue){var b=L.value;if(O(b,ae))return X=b}return X=ae}if(b=X,s($,ae))return b;var S=I(ae);return O!==void 0&&O(b,S)?($=ae,b):($=ae,X=S)}var W=!1,$,X,oe=T===void 0?null:T;return[function(){return J(w())},oe===null?void 0:function(){return J(oe())}]},[w,T,I,O]);var k=o(v,z[0],z[1]);return h(function(){L.hasValue=!0,L.value=k},[k]),m(k),k},Kd}var Iy;function kx(){return Iy||(Iy=1,Gd.exports=Rx()),Gd.exports}var Nx=kx();const Px=l_(Nx),A_={},{useDebugValue:bx}=Hf,{useSyncExternalStoreWithSelector:Dx}=Px;let Sy=!1;const Vx=n=>n;function Ox(n,e=Vx,t){(A_?"production":void 0)!=="production"&&t&&!Sy&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Sy=!0);const s=Dx(n.subscribe,n.getState,n.getServerState||n.getInitialState,e,t);return bx(s),s}const Lx=n=>{(A_?"production":void 0)!=="production"&&typeof n!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof n=="function"?Sx(n):n,t=(s,o)=>Ox(e,s,o);return Object.assign(t,e),t},jx=n=>Lx,Mx={};function Fx(n,e){let t;try{t=n()}catch{return}return{getItem:o=>{var l;const h=m=>m===null?null:JSON.parse(m,void 0),d=(l=t.getItem(o))!=null?l:null;return d instanceof Promise?d.then(h):h(d)},setItem:(o,l)=>t.setItem(o,JSON.stringify(l,void 0)),removeItem:o=>t.removeItem(o)}}const fl=n=>e=>{try{const t=n(e);return t instanceof Promise?t:{then(s){return fl(s)(t)},catch(s){return this}}}catch(t){return{then(s){return this},catch(s){return fl(s)(t)}}}},Ux=(n,e)=>(t,s,o)=>{let l={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:k=>k,version:0,merge:(k,J)=>({...J,...k}),...e},h=!1;const d=new Set,m=new Set;let v;try{v=l.getStorage()}catch{}if(!v)return n((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),t(...k)},s,o);const w=fl(l.serialize),T=()=>{const k=l.partialize({...s()});let J;const W=w({state:k,version:l.version}).then($=>v.setItem(l.name,$)).catch($=>{J=$});if(J)throw J;return W},I=o.setState;o.setState=(k,J)=>{I(k,J),T()};const O=n((...k)=>{t(...k),T()},s,o);let z;const L=()=>{var k;if(!v)return;h=!1,d.forEach(W=>W(s()));const J=((k=l.onRehydrateStorage)==null?void 0:k.call(l,s()))||void 0;return fl(v.getItem.bind(v))(l.name).then(W=>{if(W)return l.deserialize(W)}).then(W=>{if(W)if(typeof W.version=="number"&&W.version!==l.version){if(l.migrate)return l.migrate(W.state,W.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return W.state}).then(W=>{var $;return z=l.merge(W,($=s())!=null?$:O),t(z,!0),T()}).then(()=>{J?.(z,void 0),h=!0,m.forEach(W=>W(z))}).catch(W=>{J?.(void 0,W)})};return o.persist={setOptions:k=>{l={...l,...k},k.getStorage&&(v=k.getStorage())},clearStorage:()=>{v?.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>L(),hasHydrated:()=>h,onHydrate:k=>(d.add(k),()=>{d.delete(k)}),onFinishHydration:k=>(m.add(k),()=>{m.delete(k)})},L(),z||O},zx=(n,e)=>(t,s,o)=>{let l={storage:Fx(()=>localStorage),partialize:L=>L,version:0,merge:(L,k)=>({...k,...L}),...e},h=!1;const d=new Set,m=new Set;let v=l.storage;if(!v)return n((...L)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),t(...L)},s,o);const w=()=>{const L=l.partialize({...s()});return v.setItem(l.name,{state:L,version:l.version})},T=o.setState;o.setState=(L,k)=>{T(L,k),w()};const I=n((...L)=>{t(...L),w()},s,o);o.getInitialState=()=>I;let O;const z=()=>{var L,k;if(!v)return;h=!1,d.forEach(W=>{var $;return W(($=s())!=null?$:I)});const J=((k=l.onRehydrateStorage)==null?void 0:k.call(l,(L=s())!=null?L:I))||void 0;return fl(v.getItem.bind(v))(l.name).then(W=>{if(W)if(typeof W.version=="number"&&W.version!==l.version){if(l.migrate)return[!0,l.migrate(W.state,W.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,W.state];return[!1,void 0]}).then(W=>{var $;const[X,oe]=W;if(O=l.merge(oe,($=s())!=null?$:I),t(O,!0),X)return w()}).then(()=>{J?.(O,void 0),O=s(),h=!0,m.forEach(W=>W(O))}).catch(W=>{J?.(void 0,W)})};return o.persist={setOptions:L=>{l={...l,...L},L.storage&&(v=L.storage)},clearStorage:()=>{v?.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>z(),hasHydrated:()=>h,onHydrate:L=>(d.add(L),()=>{d.delete(L)}),onFinishHydration:L=>(m.add(L),()=>{m.delete(L)})},l.skipHydration||z(),O||I},Bx=(n,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((Mx?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Ux(n,e)):zx(n,e),$x=Bx,qx=()=>{};var Ay={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},Hx=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const o=n[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],h=n[t++],d=n[t++],m=((o&7)<<18|(l&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],h=n[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},R_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const l=n[o],h=o+1<n.length,d=h?n[o+1]:0,m=o+2<n.length,v=m?n[o+2]:0,w=l>>2,T=(l&3)<<4|d>>4;let I=(d&15)<<2|v>>6,O=v&63;m||(O=64,h||(I=64)),s.push(t[w],t[T],t[I],t[O])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(C_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Hx(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const v=o<n.length?t[n.charAt(o)]:64;++o;const T=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||d==null||v==null||T==null)throw new Wx;const I=l<<2|d>>4;if(s.push(I),v!==64){const O=d<<4&240|v>>2;if(s.push(O),T!==64){const z=v<<6&192|T;s.push(z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Wx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Gx=function(n){const e=C_(n);return R_.encodeByteArray(e,!0)},Ec=function(n){return Gx(n).replace(/\./g,"")},k_=function(n){try{return R_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=()=>Kx().__FIREBASE_DEFAULTS__,Yx=()=>{if(typeof process>"u"||typeof Ay>"u")return;const n=Ay.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Xx=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&k_(n[1]);return e&&JSON.parse(e)},Hc=()=>{try{return qx()||Qx()||Yx()||Xx()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},N_=n=>Hc()?.emulatorHosts?.[n],P_=n=>{const e=N_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},b_=()=>Hc()?.config,D_=n=>Hc()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Yf(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Ec(JSON.stringify(t)),Ec(JSON.stringify(h)),""].join(".")}const nl={};function Zx(){const n={prod:[],emulator:[]};for(const e of Object.keys(nl))nl[e]?n.emulator.push(e):n.prod.push(e);return n}function eI(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Cy=!1;function Xf(n,e){if(typeof window>"u"||typeof document>"u"||!Ci(window.location.host)||nl[n]===e||nl[n]||Cy)return;nl[n]=e;function t(I){return`__firebase__banner__${I}`}const s="__firebase__banner",l=Zx().prod.length>0;function h(){const I=document.getElementById(s);I&&I.remove()}function d(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function m(I,O){I.setAttribute("width","24"),I.setAttribute("id",O),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function v(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{Cy=!0,h()},I}function w(I,O){I.setAttribute("id",O),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function T(){const I=eI(s),O=t("text"),z=document.getElementById(O)||document.createElement("span"),L=t("learnmore"),k=document.getElementById(L)||document.createElement("a"),J=t("preprendIcon"),W=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const $=I.element;d($),w(k,L);const X=v();m(W,J),$.append(W,z,k,X),document.body.appendChild($)}l?(z.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function nI(){const n=Hc()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function iI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oI(){const n=$t();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function aI(){return!nI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lI(){try{return typeof indexedDB=="object"}catch{return!1}}function uI(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI="FirebaseError";class fr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=cI,Object.setPrototypeOf(this,fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cl.prototype.create)}}class Cl{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?hI(l,s):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new fr(o,d,s)}}function hI(n,e){return n.replace(dI,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const dI=/\{\$([^}]+)}/g;function fI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function _i(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=n[o],h=e[o];if(Ry(l)&&Ry(h)){if(!_i(l,h))return!1}else if(l!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Ry(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ya(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Xa(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function pI(n,e){const t=new mI(n,e);return t.subscribe.bind(t)}class mI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");gI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Xd),o.error===void 0&&(o.error=Xd),o.complete===void 0&&(o.complete=Xd);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gI(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Xd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(n){return n&&n._delegate?n._delegate:n}class Ps{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new Jx;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_I(e))try{this.getOrInitializeService({instanceIdentifier:pi})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=pi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pi){return this.instances.has(e)}getOptions(e=pi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&h.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:vI(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=pi){return this.component?this.component.multipleInstances?e:pi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vI(n){return n===pi?void 0:n}function _I(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new yI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Re||(Re={}));const EI={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},TI=Re.INFO,xI={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},II=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),o=xI[e];if(o)console[o](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jf{constructor(e){this.name=e,this._logLevel=TI,this._logHandler=II,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}const SI=(n,e)=>e.some(t=>n instanceof t);let ky,Ny;function AI(){return ky||(ky=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CI(){return Ny||(Ny=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const O_=new WeakMap,vf=new WeakMap,L_=new WeakMap,Jd=new WeakMap,Zf=new WeakMap;function RI(n){const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",h)},l=()=>{t(Ss(n.result)),o()},h=()=>{s(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&O_.set(t,n)}).catch(()=>{}),Zf.set(e,n),e}function kI(n){if(vf.has(n))return;const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",h),n.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",h),n.addEventListener("abort",h)});vf.set(n,e)}let _f={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return vf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||L_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ss(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function NI(n){_f=n(_f)}function PI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(Zd(this),e,...t);return L_.set(s,e.sort?e.sort():[e]),Ss(s)}:CI().includes(n)?function(...e){return n.apply(Zd(this),e),Ss(O_.get(this))}:function(...e){return Ss(n.apply(Zd(this),e))}}function bI(n){return typeof n=="function"?PI(n):(n instanceof IDBTransaction&&kI(n),SI(n,AI())?new Proxy(n,_f):n)}function Ss(n){if(n instanceof IDBRequest)return RI(n);if(Jd.has(n))return Jd.get(n);const e=bI(n);return e!==n&&(Jd.set(n,e),Zf.set(e,n)),e}const Zd=n=>Zf.get(n);function DI(n,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const h=indexedDB.open(n,e),d=Ss(h);return s&&h.addEventListener("upgradeneeded",m=>{s(Ss(h.result),m.oldVersion,m.newVersion,Ss(h.transaction),m)}),t&&h.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),o&&m.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),d}const VI=["get","getKey","getAll","getAllKeys","count"],OI=["put","add","delete","clear"],ef=new Map;function Py(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ef.get(e))return ef.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=OI.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||VI.includes(t)))return;const l=async function(h,...d){const m=this.transaction(h,o?"readwrite":"readonly");let v=m.store;return s&&(v=v.index(d.shift())),(await Promise.all([v[t](...d),o&&m.done]))[0]};return ef.set(e,l),l}NI(n=>({...n,get:(e,t,s)=>Py(e,t)||n.get(e,t,s),has:(e,t)=>!!Py(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(jI(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function jI(n){return n.getComponent()?.type==="VERSION"}const wf="@firebase/app",by="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur=new Jf("@firebase/app"),MI="@firebase/app-compat",FI="@firebase/analytics-compat",UI="@firebase/analytics",zI="@firebase/app-check-compat",BI="@firebase/app-check",$I="@firebase/auth",qI="@firebase/auth-compat",HI="@firebase/database",WI="@firebase/data-connect",GI="@firebase/database-compat",KI="@firebase/functions",QI="@firebase/functions-compat",YI="@firebase/installations",XI="@firebase/installations-compat",JI="@firebase/messaging",ZI="@firebase/messaging-compat",eS="@firebase/performance",tS="@firebase/performance-compat",nS="@firebase/remote-config",rS="@firebase/remote-config-compat",sS="@firebase/storage",iS="@firebase/storage-compat",oS="@firebase/firestore",aS="@firebase/ai",lS="@firebase/firestore-compat",uS="firebase",cS="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef="[DEFAULT]",hS={[wf]:"fire-core",[MI]:"fire-core-compat",[UI]:"fire-analytics",[FI]:"fire-analytics-compat",[BI]:"fire-app-check",[zI]:"fire-app-check-compat",[$I]:"fire-auth",[qI]:"fire-auth-compat",[HI]:"fire-rtdb",[WI]:"fire-data-connect",[GI]:"fire-rtdb-compat",[KI]:"fire-fn",[QI]:"fire-fn-compat",[YI]:"fire-iid",[XI]:"fire-iid-compat",[JI]:"fire-fcm",[ZI]:"fire-fcm-compat",[eS]:"fire-perf",[tS]:"fire-perf-compat",[nS]:"fire-rc",[rS]:"fire-rc-compat",[sS]:"fire-gcs",[iS]:"fire-gcs-compat",[oS]:"fire-fst",[lS]:"fire-fst-compat",[aS]:"fire-vertex","fire-js":"fire-js",[uS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc=new Map,dS=new Map,Tf=new Map;function Dy(n,e){try{n.container.addComponent(e)}catch(t){Ur.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function wi(n){const e=n.name;if(Tf.has(e))return Ur.debug(`There were multiple attempts to register component ${e}.`),!1;Tf.set(e,n);for(const t of Tc.values())Dy(t,n);for(const t of dS.values())Dy(t,n);return!0}function Wc(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function dn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},As=new Cl("app","Firebase",fS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw As.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri=cS;function j_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:Ef,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw As.create("bad-app-name",{appName:String(o)});if(t||(t=b_()),!t)throw As.create("no-options");const l=Tc.get(o);if(l){if(_i(t,l.options)&&_i(s,l.config))return l;throw As.create("duplicate-app",{appName:o})}const h=new wI(o);for(const m of Tf.values())h.addComponent(m);const d=new pS(t,s,h);return Tc.set(o,d),d}function ep(n=Ef){const e=Tc.get(n);if(!e&&n===Ef&&b_())return j_();if(!e)throw As.create("no-app",{appName:n});return e}function rr(n,e,t){let s=hS[n]??n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&h.push("and"),l&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ur.warn(h.join(" "));return}wi(new Ps(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="firebase-heartbeat-database",gS=1,pl="firebase-heartbeat-store";let tf=null;function M_(){return tf||(tf=DI(mS,gS,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(pl)}catch(t){console.warn(t)}}}}).catch(n=>{throw As.create("idb-open",{originalErrorMessage:n.message})})),tf}async function yS(n){try{const t=(await M_()).transaction(pl),s=await t.objectStore(pl).get(F_(n));return await t.done,s}catch(e){if(e instanceof fr)Ur.warn(e.message);else{const t=As.create("idb-get",{originalErrorMessage:e?.message});Ur.warn(t.message)}}}async function Vy(n,e){try{const s=(await M_()).transaction(pl,"readwrite");await s.objectStore(pl).put(e,F_(n)),await s.done}catch(t){if(t instanceof fr)Ur.warn(t.message);else{const s=As.create("idb-set",{originalErrorMessage:t?.message});Ur.warn(s.message)}}}function F_(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=1024,_S=30;class wS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new TS(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Oy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>_S){const o=xS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ur.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Oy(),{heartbeatsToSend:t,unsentEntries:s}=ES(this._heartbeatsCache.heartbeats),o=Ec(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ur.warn(e),""}}}function Oy(){return new Date().toISOString().substring(0,10)}function ES(n,e=vS){const t=[];let s=n.slice();for(const o of n){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),Ly(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Ly(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class TS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lI()?uI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await yS(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Vy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Vy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ly(n){return Ec(JSON.stringify({version:2,heartbeats:n})).length}function xS(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(n){wi(new Ps("platform-logger",e=>new LI(e),"PRIVATE")),wi(new Ps("heartbeat",e=>new wS(e),"PRIVATE")),rr(wf,by,n),rr(wf,by,"esm2020"),rr("fire-js","")}IS("");function U_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SS=U_,z_=new Cl("auth","Firebase",U_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=new Jf("@firebase/auth");function AS(n,...e){xc.logLevel<=Re.WARN&&xc.warn(`Auth (${Ri}): ${n}`,...e)}function uc(n,...e){xc.logLevel<=Re.ERROR&&xc.error(`Auth (${Ri}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(n,...e){throw tp(n,...e)}function sr(n,...e){return tp(n,...e)}function B_(n,e,t){const s={...SS(),[e]:t};return new Cl("auth","Firebase",s).create(e,{appName:n.name})}function jr(n){return B_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tp(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return z_.create(n,...e)}function we(n,e,...t){if(!n)throw tp(e,...t)}function Or(n){const e="INTERNAL ASSERTION FAILED: "+n;throw uc(e),new Error(e)}function zr(n,e){n||Or(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(){return typeof self<"u"&&self.location?.href||""}function CS(){return jy()==="http:"||jy()==="https:"}function jy(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CS()||sI()||"connection"in navigator)?navigator.onLine:!0}function kS(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,t){this.shortDelay=e,this.longDelay=t,zr(t>e,"Short delay should be less than long delay!"),this.isMobile=tI()||iI()}get(){return RS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(n,e){zr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bS=new kl(3e4,6e4);function qr(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function pr(n,e,t,s,o={}){return q_(n,o,async()=>{let l={},h={};s&&(e==="GET"?h=s:l={body:JSON.stringify(s)});const d=Rl({key:n.config.apiKey,...h}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const v={method:e,headers:m,...l};return rI()||(v.referrerPolicy="no-referrer"),n.emulatorConfig&&Ci(n.emulatorConfig.host)&&(v.credentials="include"),$_.fetch()(await H_(n,n.config.apiHost,t,d),v)})}async function q_(n,e,t){n._canInitEmulator=!1;const s={...NS,...e};try{const o=new VS(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw nc(n,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const d=l.ok?h.errorMessage:h.error.message,[m,v]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw nc(n,"credential-already-in-use",h);if(m==="EMAIL_EXISTS")throw nc(n,"email-already-in-use",h);if(m==="USER_DISABLED")throw nc(n,"user-disabled",h);const w=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw B_(n,w,v);$n(n,w)}}catch(o){if(o instanceof fr)throw o;$n(n,"network-request-failed",{message:String(o)})}}async function Nl(n,e,t,s,o={}){const l=await pr(n,e,t,s,o);return"mfaPendingCredential"in l&&$n(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function H_(n,e,t,s){const o=`${e}${t}?${s}`,l=n,h=l.config.emulator?np(n.config,o):`${n.config.apiScheme}://${o}`;return PS.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(h).toString():h}function DS(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class VS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(sr(this.auth,"network-request-failed")),bS.get())})}}function nc(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=sr(n,e,s);return o.customData._tokenResponse=t,o}function My(n){return n!==void 0&&n.enterprise!==void 0}class OS{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return DS(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function LS(n,e){return pr(n,"GET","/v2/recaptchaConfig",qr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jS(n,e){return pr(n,"POST","/v1/accounts:delete",e)}async function Ic(n,e){return pr(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MS(n,e=!1){const t=ut(n),s=await t.getIdToken(e),o=rp(s);we(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l?.sign_in_provider;return{claims:o,token:s,authTime:rl(nf(o.auth_time)),issuedAtTime:rl(nf(o.iat)),expirationTime:rl(nf(o.exp)),signInProvider:h||null,signInSecondFactor:l?.sign_in_second_factor||null}}function nf(n){return Number(n)*1e3}function rp(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return uc("JWT malformed, contained fewer than 3 sections"),null;try{const o=k_(t);return o?JSON.parse(o):(uc("Failed to decode base64 JWT payload"),null)}catch(o){return uc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Fy(n){const e=rp(n);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fo(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof fr&&FS(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function FS({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=rl(this.lastLoginAt),this.creationTime=rl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sc(n){const e=n.auth,t=await n.getIdToken(),s=await Fo(n,Ic(e,{idToken:t}));we(s?.users.length,e,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const l=o.providerUserInfo?.length?W_(o.providerUserInfo):[],h=BS(n.providerData,l),d=n.isAnonymous,m=!(n.email&&o.passwordHash)&&!h?.length,v=d?m:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new If(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(n,w)}async function zS(n){const e=ut(n);await Sc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BS(n,e){return[...n.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function W_(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $S(n,e){const t=await q_(n,{},async()=>{const s=Rl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,h=await H_(n,o,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return n.emulatorConfig&&Ci(n.emulatorConfig.host)&&(m.credentials="include"),$_.fetch()(h,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function qS(n,e){return pr(n,"POST","/v2/accounts:revokeToken",qr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Fy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){we(e.length!==0,"internal-error");const t=Fy(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await $S(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,h=new bo;return s&&(we(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(we(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(we(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bo,this.toJSON())}_performRefresh(){return Or("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(n,e){we(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Un{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new US(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new If(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Fo(this,this.stsTokenManager.getToken(this.auth,e));return we(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return MS(this,e)}reload(){return zS(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Un({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Sc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(dn(this.auth.app))return Promise.reject(jr(this.auth));const e=await this.getIdToken();return await Fo(this,jS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,h=t.photoURL??void 0,d=t.tenantId??void 0,m=t._redirectEventId??void 0,v=t.createdAt??void 0,w=t.lastLoginAt??void 0,{uid:T,emailVerified:I,isAnonymous:O,providerData:z,stsTokenManager:L}=t;we(T&&L,e,"internal-error");const k=bo.fromJSON(this.name,L);we(typeof T=="string",e,"internal-error"),gs(s,e.name),gs(o,e.name),we(typeof I=="boolean",e,"internal-error"),we(typeof O=="boolean",e,"internal-error"),gs(l,e.name),gs(h,e.name),gs(d,e.name),gs(m,e.name),gs(v,e.name),gs(w,e.name);const J=new Un({uid:T,auth:e,email:o,emailVerified:I,displayName:s,isAnonymous:O,photoURL:h,phoneNumber:l,tenantId:d,stsTokenManager:k,createdAt:v,lastLoginAt:w});return z&&Array.isArray(z)&&(J.providerData=z.map(W=>({...W}))),m&&(J._redirectEventId=m),J}static async _fromIdTokenResponse(e,t,s=!1){const o=new bo;o.updateFromServerResponse(t);const l=new Un({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Sc(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];we(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?W_(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!l?.length,d=new bo;d.updateFromIdToken(s);const m=new Un({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new If(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(m,v),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy=new Map;function Lr(n){zr(n instanceof Function,"Expected a class definition");let e=Uy.get(n);return e?(zr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Uy.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}G_.type="NONE";const zy=G_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(n,e,t){return`firebase:${n}:${e}:${t}`}class Do{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=cc(this.userKey,o.apiKey,l),this.fullPersistenceKey=cc("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Ic(this.auth,{idToken:e}).catch(()=>{});return t?Un._fromGetAccountInfoResponse(this.auth,t,e):null}return Un._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Do(Lr(zy),e,s);const o=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let l=o[0]||Lr(zy);const h=cc(s,e.config.apiKey,e.name);let d=null;for(const v of t)try{const w=await v._get(h);if(w){let T;if(typeof w=="string"){const I=await Ic(e,{idToken:w}).catch(()=>{});if(!I)break;T=await Un._fromGetAccountInfoResponse(e,I,w)}else T=Un._fromJSON(e,w);v!==l&&(d=T),l=v;break}}catch{}const m=o.filter(v=>v._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Do(l,e,s):(l=m[0],d&&await l._set(h,d.toJSON()),await Promise.all(t.map(async v=>{if(v!==l)try{await v._remove(h)}catch{}})),new Do(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(X_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(K_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Z_(e))return"Blackberry";if(e0(e))return"Webos";if(Q_(e))return"Safari";if((e.includes("chrome/")||Y_(e))&&!e.includes("edge/"))return"Chrome";if(J_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if(s?.length===2)return s[1]}return"Other"}function K_(n=$t()){return/firefox\//i.test(n)}function Q_(n=$t()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Y_(n=$t()){return/crios\//i.test(n)}function X_(n=$t()){return/iemobile/i.test(n)}function J_(n=$t()){return/android/i.test(n)}function Z_(n=$t()){return/blackberry/i.test(n)}function e0(n=$t()){return/webos/i.test(n)}function sp(n=$t()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function HS(n=$t()){return sp(n)&&!!window.navigator?.standalone}function WS(){return oI()&&document.documentMode===10}function t0(n=$t()){return sp(n)||J_(n)||e0(n)||Z_(n)||/windows phone/i.test(n)||X_(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(n,e=[]){let t;switch(n){case"Browser":t=By($t());break;case"Worker":t=`${By($t())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ri}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((h,d)=>{try{const m=e(l);h(m)}catch(m){d(m)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KS(n,e={}){return pr(n,"GET","/v2/passwordPolicy",qr(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS=6;class YS{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??QS,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $y(this),this.idTokenSubscription=new $y(this),this.beforeStateQueue=new GS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=z_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Lr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Do.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Ic(this,{idToken:e}),s=await Un._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(dn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,h=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===h)&&d?.user&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Sc(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(dn(this.app))return Promise.reject(jr(this));const t=e?ut(e):null;return t&&we(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return dn(this.app)?Promise.reject(jr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return dn(this.app)?Promise.reject(jr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Lr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await KS(this),t=new YS(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Cl("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await qS(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Lr(e)||this._popupRedirectResolver;we(t,this,"argument-error"),this.redirectPersistenceManager=await Do.create(this,[Lr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(d,this,"internal-error"),d.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,s,o);return()=>{h=!0,m()}}else{const m=e.addObserver(t);return()=>{h=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=n0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&AS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ki(n){return ut(n)}class $y{constructor(e){this.auth=e,this.observer=null,this.addObserver=pI(t=>this.observer=t)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JS(n){Gc=n}function r0(n){return Gc.loadJS(n)}function ZS(){return Gc.recaptchaEnterpriseScript}function eA(){return Gc.gapiScript}function tA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class nA{constructor(){this.enterprise=new rA}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class rA{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const sA="recaptcha-enterprise",s0="NO_RECAPTCHA";class iA{constructor(e){this.type=sA,this.auth=ki(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(h,d)=>{LS(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const v=new OS(m);return l.tenantId==null?l._agentRecaptchaConfig=v:l._tenantRecaptchaConfigs[l.tenantId]=v,h(v.siteKey)}}).catch(m=>{d(m)})})}function o(l,h,d){const m=window.grecaptcha;My(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(v=>{h(v)}).catch(()=>{h(s0)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new nA().execute("siteKey",{action:"verify"}):new Promise((l,h)=>{s(this.auth).then(d=>{if(!t&&My(window.grecaptcha))o(d,l,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let m=ZS();m.length!==0&&(m+=d),r0(m).then(()=>{o(d,l,h)}).catch(v=>{h(v)})}}).catch(d=>{h(d)})})}}async function qy(n,e,t,s=!1,o=!1){const l=new iA(n);let h;if(o)h=s0;else try{h=await l.verify(t)}catch{h=await l.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,v=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:v,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Sf(n,e,t,s,o){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await qy(n,e,t,t==="getOobCode");return s(n,l)}else return s(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await qy(n,e,t,t==="getOobCode");return s(n,h)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(n,e){const t=Wc(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(_i(l,e??{}))return o;$n(o,"already-initialized")}return t.initialize({options:e})}function aA(n,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Lr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e?.popupRedirectResolver)}function lA(n,e,t){const s=ki(n);we(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=i0(e),{host:h,port:d}=uA(e),m=d===null?"":`:${d}`,v={url:`${l}//${h}${m}/`},w=Object.freeze({host:h,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){we(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),we(_i(v,s.config.emulator)&&_i(w,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=v,s.emulatorConfig=w,s.settings.appVerificationDisabledForTesting=!0,Ci(h)?(Yf(`${l}//${h}${m}`),Xf("Auth",!0)):cA()}function i0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function uA(n){const e=i0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:Hy(s.substr(l.length+1))}}else{const[l,h]=s.split(":");return{host:l,port:Hy(h)}}}function Hy(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function cA(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Or("not implemented")}_getIdTokenResponse(e){return Or("not implemented")}_linkToIdToken(e,t){return Or("not implemented")}_getReauthenticationResolver(e){return Or("not implemented")}}async function hA(n,e){return pr(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dA(n,e){return Nl(n,"POST","/v1/accounts:signInWithPassword",qr(n,e))}async function fA(n,e){return pr(n,"POST","/v1/accounts:sendOobCode",qr(n,e))}async function pA(n,e){return fA(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mA(n,e){return Nl(n,"POST","/v1/accounts:signInWithEmailLink",qr(n,e))}async function gA(n,e){return Nl(n,"POST","/v1/accounts:signInWithEmailLink",qr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml extends ip{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new ml(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new ml(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sf(e,t,"signInWithPassword",dA);case"emailLink":return mA(e,{email:this._email,oobCode:this._password});default:$n(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sf(e,s,"signUpPassword",hA);case"emailLink":return gA(e,{idToken:t,email:this._email,oobCode:this._password});default:$n(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(n,e){return Nl(n,"POST","/v1/accounts:signInWithIdp",qr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="http://localhost";class Ei extends ip{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ei(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):$n("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...l}=t;if(!s||!o)return null;const h=new Ei(s,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Vo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Vo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Vo(e,t)}buildRequest(){const e={requestUri:yA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Rl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _A(n){const e=Ya(Xa(n)).link,t=e?Ya(Xa(e)).deep_link_id:null,s=Ya(Xa(n)).deep_link_id;return(s?Ya(Xa(s)).link:null)||s||t||e||n}class op{constructor(e){const t=Ya(Xa(e)),s=t.apiKey??null,o=t.oobCode??null,l=vA(t.mode??null);we(s&&o&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=_A(e);try{return new op(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.providerId=Ko.PROVIDER_ID}static credential(e,t){return ml._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=op.parseLink(t);return we(s,"argument-error"),ml._fromEmailAndCode(e,s.code,s.tenantId)}}Ko.PROVIDER_ID="password";Ko.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ko.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl extends o0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends Pl{constructor(){super("facebook.com")}static credential(e){return Ei._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vs.credential(e.oauthAccessToken)}catch{return null}}}vs.FACEBOOK_SIGN_IN_METHOD="facebook.com";vs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends Pl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ei._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return _s.credential(t,s)}catch{return null}}}_s.GOOGLE_SIGN_IN_METHOD="google.com";_s.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends Pl{constructor(){super("github.com")}static credential(e){return Ei._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ws.credential(e.oauthAccessToken)}catch{return null}}}ws.GITHUB_SIGN_IN_METHOD="github.com";ws.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends Pl{constructor(){super("twitter.com")}static credential(e,t){return Ei._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Es.credential(t,s)}catch{return null}}}Es.TWITTER_SIGN_IN_METHOD="twitter.com";Es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wA(n,e){return Nl(n,"POST","/v1/accounts:signUp",qr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await Un._fromIdTokenResponse(e,s,o),h=Wy(s);return new Ti({user:l,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=Wy(s);return new Ti({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function Wy(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac extends fr{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ac.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Ac(e,t,s,o)}}function a0(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Ac._fromErrorAndOperation(n,l,e,s):l})}async function EA(n,e,t=!1){const s=await Fo(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ti._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TA(n,e,t=!1){const{auth:s}=n;if(dn(s.app))return Promise.reject(jr(s));const o="reauthenticate";try{const l=await Fo(n,a0(s,o,e,n),t);we(l.idToken,s,"internal-error");const h=rp(l.idToken);we(h,s,"internal-error");const{sub:d}=h;return we(n.uid===d,s,"user-mismatch"),Ti._forOperation(n,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&$n(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l0(n,e,t=!1){if(dn(n.app))return Promise.reject(jr(n));const s="signIn",o=await a0(n,s,e),l=await Ti._fromIdTokenResponse(n,s,o);return t||await n._updateCurrentUser(l.user),l}async function xA(n,e){return l0(ki(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u0(n){const e=ki(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function IA(n,e,t){if(dn(n.app))return Promise.reject(jr(n));const s=ki(n),h=await Sf(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wA).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&u0(n),m}),d=await Ti._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(d.user),d}function SA(n,e,t){return dn(n.app)?Promise.reject(jr(n)):xA(ut(n),Ko.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&u0(n),s})}async function AA(n,e){const t=ut(n),o={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:l}=await pA(t.auth,o);l!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CA(n,e){return pr(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RA(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=ut(n),l={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},h=await Fo(s,CA(s.auth,l));s.displayName=h.displayName||null,s.photoURL=h.photoUrl||null;const d=s.providerData.find(({providerId:m})=>m==="password");d&&(d.displayName=s.displayName,d.photoURL=s.photoURL),await s._updateTokensIfNecessary(h)}function kA(n,e,t,s){return ut(n).onIdTokenChanged(e,t,s)}function NA(n,e,t){return ut(n).beforeAuthStateChanged(e,t)}function PA(n,e,t,s){return ut(n).onAuthStateChanged(e,t,s)}function bA(n){return ut(n).signOut()}const Cc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Cc,"1"),this.storage.removeItem(Cc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA=1e3,VA=10;class h0 extends c0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=t0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,d,m)=>{this.notifyListeners(h,m)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},l=this.storage.getItem(s);WS()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,VA):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},DA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}h0.type="LOCAL";const OA=h0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0 extends c0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}d0.type="SESSION";const f0=d0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Kc(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(h).map(async v=>v(t.origin,l)),m=await LA(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((d,m)=>{const v=ap("",20);o.port1.start();const w=setTimeout(()=>{m(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const I=T;if(I.data.eventId===v)switch(I.data.status){case"ack":clearTimeout(w),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(I.data.response);break;default:clearTimeout(w),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(){return window}function MA(n){ir().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(){return typeof ir().WorkerGlobalScope<"u"&&typeof ir().importScripts=="function"}async function FA(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UA(){return navigator?.serviceWorker?.controller||null}function zA(){return p0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="firebaseLocalStorageDb",BA=1,Rc="firebaseLocalStorage",g0="fbase_key";class bl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Qc(n,e){return n.transaction([Rc],e?"readwrite":"readonly").objectStore(Rc)}function $A(){const n=indexedDB.deleteDatabase(m0);return new bl(n).toPromise()}function Af(){const n=indexedDB.open(m0,BA);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(Rc,{keyPath:g0})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(Rc)?e(s):(s.close(),await $A(),e(await Af()))})})}async function Gy(n,e,t){const s=Qc(n,!0).put({[g0]:e,value:t});return new bl(s).toPromise()}async function qA(n,e){const t=Qc(n,!1).get(e),s=await new bl(t).toPromise();return s===void 0?null:s.value}function Ky(n,e){const t=Qc(n,!0).delete(e);return new bl(t).toPromise()}const HA=800,WA=3;class y0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Af(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>WA)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return p0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kc._getInstance(zA()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await FA(),!this.activeServiceWorker)return;this.sender=new jA(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||UA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Af();return await Gy(e,Cc,"1"),await Ky(e,Cc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Gy(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>qA(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ky(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Qc(o,!1).getAll();return new bl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}y0.type="LOCAL";const GA=y0;new kl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(n,e){return e?Lr(e):(we(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp extends ip{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Vo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function QA(n){return l0(n.auth,new lp(n),n.bypassAuthState)}function YA(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),TA(t,new lp(n),n.bypassAuthState)}async function XA(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),EA(t,new lp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:h,type:d}=e;if(h){this.reject(h);return}const m={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QA;case"linkViaPopup":case"linkViaRedirect":return XA;case"reauthViaPopup":case"reauthViaRedirect":return YA;default:$n(this.auth,"internal-error")}}resolve(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=new kl(2e3,1e4);class Po extends v0{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,Po.currentPopupAction&&Po.currentPopupAction.cancel(),Po.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){zr(this.filter.length===1,"Popup operations only handle one event");const e=ap();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Po.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,JA.get())};e()}}Po.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA="pendingRedirect",hc=new Map;class eC extends v0{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=hc.get(this.auth._key());if(!e){try{const s=await tC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}hc.set(this.auth._key(),e)}return this.bypassAuthState||hc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tC(n,e){const t=sC(e),s=rC(n);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function nC(n,e){hc.set(n._key(),e)}function rC(n){return Lr(n._redirectPersistence)}function sC(n){return cc(ZA,n.config.apiKey,n.name)}async function iC(n,e,t=!1){if(dn(n.app))return Promise.reject(jr(n));const s=ki(n),o=KA(s,e),h=await new eC(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=600*1e3;class aC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!_0(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(sr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qy(e))}saveEventToCache(e){this.cachedEventUids.add(Qy(e)),this.lastProcessedEventTime=Date.now()}}function Qy(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function _0({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function lC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uC(n,e={}){return pr(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hC=/^https?/;async function dC(n){if(n.config.emulator)return;const{authorizedDomains:e}=await uC(n);for(const t of e)try{if(fC(t))return}catch{}$n(n,"unauthorized-domain")}function fC(n){const e=xf(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const h=new URL(n);return h.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!hC.test(t))return!1;if(cC.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=new kl(3e4,6e4);function Yy(){const n=ir().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function mC(n){return new Promise((e,t)=>{function s(){Yy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Yy(),t(sr(n,"network-request-failed"))},timeout:pC.get()})}if(ir().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ir().gapi?.load)s();else{const o=tA("iframefcb");return ir()[o]=()=>{gapi.load?s():t(sr(n,"network-request-failed"))},r0(`${eA()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw dc=null,e})}let dc=null;function gC(n){return dc=dc||mC(n),dc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=new kl(5e3,15e3),vC="__/auth/iframe",_C="emulator/auth/iframe",wC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TC(n){const e=n.config;we(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?np(e,_C):`https://${n.config.authDomain}/${vC}`,s={apiKey:e.apiKey,appName:n.name,v:Ri},o=EC.get(n.config.apiHost);o&&(s.eid=o);const l=n._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${Rl(s).slice(1)}`}async function xC(n){const e=await gC(n),t=ir().gapi;return we(t,n,"internal-error"),e.open({where:document.body,url:TC(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wC,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const h=sr(n,"network-request-failed"),d=ir().setTimeout(()=>{l(h)},yC.get());function m(){ir().clearTimeout(d),o(s)}s.ping(m).then(m,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SC=500,AC=600,CC="_blank",RC="http://localhost";class Xy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kC(n,e,t,s=SC,o=AC){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m={...IC,width:s.toString(),height:o.toString(),top:l,left:h},v=$t().toLowerCase();t&&(d=Y_(v)?CC:t),K_(v)&&(e=e||RC,m.scrollbars="yes");const w=Object.entries(m).reduce((I,[O,z])=>`${I}${O}=${z},`,"");if(HS(v)&&d!=="_self")return NC(e||"",d),new Xy(null);const T=window.open(e||"",d,w);we(T,n,"popup-blocked");try{T.focus()}catch{}return new Xy(T)}function NC(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC="__/auth/handler",bC="emulator/auth/handler",DC=encodeURIComponent("fac");async function Jy(n,e,t,s,o,l){we(n.config.authDomain,n,"auth-domain-config-required"),we(n.config.apiKey,n,"invalid-api-key");const h={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:Ri,eventId:o};if(e instanceof o0){e.setDefaultLanguage(n.languageCode),h.providerId=e.providerId||"",fI(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,T]of Object.entries({}))h[w]=T}if(e instanceof Pl){const w=e.getScopes().filter(T=>T!=="");w.length>0&&(h.scopes=w.join(","))}n.tenantId&&(h.tid=n.tenantId);const d=h;for(const w of Object.keys(d))d[w]===void 0&&delete d[w];const m=await n._getAppCheckToken(),v=m?`#${DC}=${encodeURIComponent(m)}`:"";return`${VC(n)}?${Rl(d).slice(1)}${v}`}function VC({config:n}){return n.emulator?np(n,bC):`https://${n.authDomain}/${PC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf="webStorageSupport";class OC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=f0,this._completeRedirectFn=iC,this._overrideRedirectResult=nC}async _openPopup(e,t,s,o){zr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Jy(e,t,s,xf(),o);return kC(e,l,ap())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await Jy(e,t,s,xf(),o);return MA(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(zr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await xC(e),s=new aC(e);return t.register("authEvent",o=>(we(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(rf,{type:rf},o=>{const l=o?.[0]?.[rf];l!==void 0&&t(!!l),$n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=dC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return t0()||Q_()||sp()}}const LC=OC;var Zy="@firebase/auth",ev="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FC(n){wi(new Ps("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=s.options;we(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:h,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:n0(n)},v=new XS(s,o,l,m);return aA(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),wi(new Ps("auth-internal",e=>{const t=ki(e.getProvider("auth").getImmediate());return(s=>new jC(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),rr(Zy,ev,MC(n)),rr(Zy,ev,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=300,zC=D_("authIdTokenMaxAge")||UC;let tv=null;const BC=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>zC)return;const o=t?.token;tv!==o&&(tv=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function $C(n=ep()){const e=Wc(n,"auth");if(e.isInitialized())return e.getImmediate();const t=oA(n,{popupRedirectResolver:LC,persistence:[GA,OA,f0]}),s=D_("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const h=BC(l.toString());NA(t,h,()=>h(t.currentUser)),kA(t,d=>h(d))}}const o=N_("auth");return o&&lA(t,`http://${o}`),t}function qC(){return document.getElementsByTagName("head")?.[0]??document}JS({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=o=>{const l=sr("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",qC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FC("Browser");var HC="firebase",WC="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rr(HC,WC,"app");var nv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cs,w0;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,S){function R(){}R.prototype=S.prototype,b.D=S.prototype,b.prototype=new R,b.prototype.constructor=b,b.C=function(P,D,j){for(var C=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)C[rt-2]=arguments[rt];return S.prototype[D].apply(P,C)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(b,S,R){R||(R=0);var P=Array(16);if(typeof S=="string")for(var D=0;16>D;++D)P[D]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(D=0;16>D;++D)P[D]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=b.g[0],R=b.g[1],D=b.g[2];var j=b.g[3],C=S+(j^R&(D^j))+P[0]+3614090360&4294967295;S=R+(C<<7&4294967295|C>>>25),C=j+(D^S&(R^D))+P[1]+3905402710&4294967295,j=S+(C<<12&4294967295|C>>>20),C=D+(R^j&(S^R))+P[2]+606105819&4294967295,D=j+(C<<17&4294967295|C>>>15),C=R+(S^D&(j^S))+P[3]+3250441966&4294967295,R=D+(C<<22&4294967295|C>>>10),C=S+(j^R&(D^j))+P[4]+4118548399&4294967295,S=R+(C<<7&4294967295|C>>>25),C=j+(D^S&(R^D))+P[5]+1200080426&4294967295,j=S+(C<<12&4294967295|C>>>20),C=D+(R^j&(S^R))+P[6]+2821735955&4294967295,D=j+(C<<17&4294967295|C>>>15),C=R+(S^D&(j^S))+P[7]+4249261313&4294967295,R=D+(C<<22&4294967295|C>>>10),C=S+(j^R&(D^j))+P[8]+1770035416&4294967295,S=R+(C<<7&4294967295|C>>>25),C=j+(D^S&(R^D))+P[9]+2336552879&4294967295,j=S+(C<<12&4294967295|C>>>20),C=D+(R^j&(S^R))+P[10]+4294925233&4294967295,D=j+(C<<17&4294967295|C>>>15),C=R+(S^D&(j^S))+P[11]+2304563134&4294967295,R=D+(C<<22&4294967295|C>>>10),C=S+(j^R&(D^j))+P[12]+1804603682&4294967295,S=R+(C<<7&4294967295|C>>>25),C=j+(D^S&(R^D))+P[13]+4254626195&4294967295,j=S+(C<<12&4294967295|C>>>20),C=D+(R^j&(S^R))+P[14]+2792965006&4294967295,D=j+(C<<17&4294967295|C>>>15),C=R+(S^D&(j^S))+P[15]+1236535329&4294967295,R=D+(C<<22&4294967295|C>>>10),C=S+(D^j&(R^D))+P[1]+4129170786&4294967295,S=R+(C<<5&4294967295|C>>>27),C=j+(R^D&(S^R))+P[6]+3225465664&4294967295,j=S+(C<<9&4294967295|C>>>23),C=D+(S^R&(j^S))+P[11]+643717713&4294967295,D=j+(C<<14&4294967295|C>>>18),C=R+(j^S&(D^j))+P[0]+3921069994&4294967295,R=D+(C<<20&4294967295|C>>>12),C=S+(D^j&(R^D))+P[5]+3593408605&4294967295,S=R+(C<<5&4294967295|C>>>27),C=j+(R^D&(S^R))+P[10]+38016083&4294967295,j=S+(C<<9&4294967295|C>>>23),C=D+(S^R&(j^S))+P[15]+3634488961&4294967295,D=j+(C<<14&4294967295|C>>>18),C=R+(j^S&(D^j))+P[4]+3889429448&4294967295,R=D+(C<<20&4294967295|C>>>12),C=S+(D^j&(R^D))+P[9]+568446438&4294967295,S=R+(C<<5&4294967295|C>>>27),C=j+(R^D&(S^R))+P[14]+3275163606&4294967295,j=S+(C<<9&4294967295|C>>>23),C=D+(S^R&(j^S))+P[3]+4107603335&4294967295,D=j+(C<<14&4294967295|C>>>18),C=R+(j^S&(D^j))+P[8]+1163531501&4294967295,R=D+(C<<20&4294967295|C>>>12),C=S+(D^j&(R^D))+P[13]+2850285829&4294967295,S=R+(C<<5&4294967295|C>>>27),C=j+(R^D&(S^R))+P[2]+4243563512&4294967295,j=S+(C<<9&4294967295|C>>>23),C=D+(S^R&(j^S))+P[7]+1735328473&4294967295,D=j+(C<<14&4294967295|C>>>18),C=R+(j^S&(D^j))+P[12]+2368359562&4294967295,R=D+(C<<20&4294967295|C>>>12),C=S+(R^D^j)+P[5]+4294588738&4294967295,S=R+(C<<4&4294967295|C>>>28),C=j+(S^R^D)+P[8]+2272392833&4294967295,j=S+(C<<11&4294967295|C>>>21),C=D+(j^S^R)+P[11]+1839030562&4294967295,D=j+(C<<16&4294967295|C>>>16),C=R+(D^j^S)+P[14]+4259657740&4294967295,R=D+(C<<23&4294967295|C>>>9),C=S+(R^D^j)+P[1]+2763975236&4294967295,S=R+(C<<4&4294967295|C>>>28),C=j+(S^R^D)+P[4]+1272893353&4294967295,j=S+(C<<11&4294967295|C>>>21),C=D+(j^S^R)+P[7]+4139469664&4294967295,D=j+(C<<16&4294967295|C>>>16),C=R+(D^j^S)+P[10]+3200236656&4294967295,R=D+(C<<23&4294967295|C>>>9),C=S+(R^D^j)+P[13]+681279174&4294967295,S=R+(C<<4&4294967295|C>>>28),C=j+(S^R^D)+P[0]+3936430074&4294967295,j=S+(C<<11&4294967295|C>>>21),C=D+(j^S^R)+P[3]+3572445317&4294967295,D=j+(C<<16&4294967295|C>>>16),C=R+(D^j^S)+P[6]+76029189&4294967295,R=D+(C<<23&4294967295|C>>>9),C=S+(R^D^j)+P[9]+3654602809&4294967295,S=R+(C<<4&4294967295|C>>>28),C=j+(S^R^D)+P[12]+3873151461&4294967295,j=S+(C<<11&4294967295|C>>>21),C=D+(j^S^R)+P[15]+530742520&4294967295,D=j+(C<<16&4294967295|C>>>16),C=R+(D^j^S)+P[2]+3299628645&4294967295,R=D+(C<<23&4294967295|C>>>9),C=S+(D^(R|~j))+P[0]+4096336452&4294967295,S=R+(C<<6&4294967295|C>>>26),C=j+(R^(S|~D))+P[7]+1126891415&4294967295,j=S+(C<<10&4294967295|C>>>22),C=D+(S^(j|~R))+P[14]+2878612391&4294967295,D=j+(C<<15&4294967295|C>>>17),C=R+(j^(D|~S))+P[5]+4237533241&4294967295,R=D+(C<<21&4294967295|C>>>11),C=S+(D^(R|~j))+P[12]+1700485571&4294967295,S=R+(C<<6&4294967295|C>>>26),C=j+(R^(S|~D))+P[3]+2399980690&4294967295,j=S+(C<<10&4294967295|C>>>22),C=D+(S^(j|~R))+P[10]+4293915773&4294967295,D=j+(C<<15&4294967295|C>>>17),C=R+(j^(D|~S))+P[1]+2240044497&4294967295,R=D+(C<<21&4294967295|C>>>11),C=S+(D^(R|~j))+P[8]+1873313359&4294967295,S=R+(C<<6&4294967295|C>>>26),C=j+(R^(S|~D))+P[15]+4264355552&4294967295,j=S+(C<<10&4294967295|C>>>22),C=D+(S^(j|~R))+P[6]+2734768916&4294967295,D=j+(C<<15&4294967295|C>>>17),C=R+(j^(D|~S))+P[13]+1309151649&4294967295,R=D+(C<<21&4294967295|C>>>11),C=S+(D^(R|~j))+P[4]+4149444226&4294967295,S=R+(C<<6&4294967295|C>>>26),C=j+(R^(S|~D))+P[11]+3174756917&4294967295,j=S+(C<<10&4294967295|C>>>22),C=D+(S^(j|~R))+P[2]+718787259&4294967295,D=j+(C<<15&4294967295|C>>>17),C=R+(j^(D|~S))+P[9]+3951481745&4294967295,b.g[0]=b.g[0]+S&4294967295,b.g[1]=b.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,b.g[2]=b.g[2]+D&4294967295,b.g[3]=b.g[3]+j&4294967295}s.prototype.u=function(b,S){S===void 0&&(S=b.length);for(var R=S-this.blockSize,P=this.B,D=this.h,j=0;j<S;){if(D==0)for(;j<=R;)o(this,b,j),j+=this.blockSize;if(typeof b=="string"){for(;j<S;)if(P[D++]=b.charCodeAt(j++),D==this.blockSize){o(this,P),D=0;break}}else for(;j<S;)if(P[D++]=b[j++],D==this.blockSize){o(this,P),D=0;break}}this.h=D,this.o+=S},s.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var S=1;S<b.length-8;++S)b[S]=0;var R=8*this.o;for(S=b.length-8;S<b.length;++S)b[S]=R&255,R/=256;for(this.u(b),b=Array(16),S=R=0;4>S;++S)for(var P=0;32>P;P+=8)b[R++]=this.g[S]>>>P&255;return b};function l(b,S){var R=d;return Object.prototype.hasOwnProperty.call(R,b)?R[b]:R[b]=S(b)}function h(b,S){this.h=S;for(var R=[],P=!0,D=b.length-1;0<=D;D--){var j=b[D]|0;P&&j==S||(R[D]=j,P=!1)}this.g=R}var d={};function m(b){return-128<=b&&128>b?l(b,function(S){return new h([S|0],0>S?-1:0)}):new h([b|0],0>b?-1:0)}function v(b){if(isNaN(b)||!isFinite(b))return T;if(0>b)return k(v(-b));for(var S=[],R=1,P=0;b>=R;P++)S[P]=b/R|0,R*=4294967296;return new h(S,0)}function w(b,S){if(b.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(b.charAt(0)=="-")return k(w(b.substring(1),S));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=v(Math.pow(S,8)),P=T,D=0;D<b.length;D+=8){var j=Math.min(8,b.length-D),C=parseInt(b.substring(D,D+j),S);8>j?(j=v(Math.pow(S,j)),P=P.j(j).add(v(C))):(P=P.j(R),P=P.add(v(C)))}return P}var T=m(0),I=m(1),O=m(16777216);n=h.prototype,n.m=function(){if(L(this))return-k(this).m();for(var b=0,S=1,R=0;R<this.g.length;R++){var P=this.i(R);b+=(0<=P?P:4294967296+P)*S,S*=4294967296}return b},n.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(z(this))return"0";if(L(this))return"-"+k(this).toString(b);for(var S=v(Math.pow(b,6)),R=this,P="";;){var D=X(R,S).g;R=J(R,D.j(S));var j=((0<R.g.length?R.g[0]:R.h)>>>0).toString(b);if(R=D,z(R))return j+P;for(;6>j.length;)j="0"+j;P=j+P}},n.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function z(b){if(b.h!=0)return!1;for(var S=0;S<b.g.length;S++)if(b.g[S]!=0)return!1;return!0}function L(b){return b.h==-1}n.l=function(b){return b=J(this,b),L(b)?-1:z(b)?0:1};function k(b){for(var S=b.g.length,R=[],P=0;P<S;P++)R[P]=~b.g[P];return new h(R,~b.h).add(I)}n.abs=function(){return L(this)?k(this):this},n.add=function(b){for(var S=Math.max(this.g.length,b.g.length),R=[],P=0,D=0;D<=S;D++){var j=P+(this.i(D)&65535)+(b.i(D)&65535),C=(j>>>16)+(this.i(D)>>>16)+(b.i(D)>>>16);P=C>>>16,j&=65535,C&=65535,R[D]=C<<16|j}return new h(R,R[R.length-1]&-2147483648?-1:0)};function J(b,S){return b.add(k(S))}n.j=function(b){if(z(this)||z(b))return T;if(L(this))return L(b)?k(this).j(k(b)):k(k(this).j(b));if(L(b))return k(this.j(k(b)));if(0>this.l(O)&&0>b.l(O))return v(this.m()*b.m());for(var S=this.g.length+b.g.length,R=[],P=0;P<2*S;P++)R[P]=0;for(P=0;P<this.g.length;P++)for(var D=0;D<b.g.length;D++){var j=this.i(P)>>>16,C=this.i(P)&65535,rt=b.i(D)>>>16,Xe=b.i(D)&65535;R[2*P+2*D]+=C*Xe,W(R,2*P+2*D),R[2*P+2*D+1]+=j*Xe,W(R,2*P+2*D+1),R[2*P+2*D+1]+=C*rt,W(R,2*P+2*D+1),R[2*P+2*D+2]+=j*rt,W(R,2*P+2*D+2)}for(P=0;P<S;P++)R[P]=R[2*P+1]<<16|R[2*P];for(P=S;P<2*S;P++)R[P]=0;return new h(R,0)};function W(b,S){for(;(b[S]&65535)!=b[S];)b[S+1]+=b[S]>>>16,b[S]&=65535,S++}function $(b,S){this.g=b,this.h=S}function X(b,S){if(z(S))throw Error("division by zero");if(z(b))return new $(T,T);if(L(b))return S=X(k(b),S),new $(k(S.g),k(S.h));if(L(S))return S=X(b,k(S)),new $(k(S.g),S.h);if(30<b.g.length){if(L(b)||L(S))throw Error("slowDivide_ only works with positive integers.");for(var R=I,P=S;0>=P.l(b);)R=oe(R),P=oe(P);var D=ae(R,1),j=ae(P,1);for(P=ae(P,2),R=ae(R,2);!z(P);){var C=j.add(P);0>=C.l(b)&&(D=D.add(R),j=C),P=ae(P,1),R=ae(R,1)}return S=J(b,D.j(S)),new $(D,S)}for(D=T;0<=b.l(S);){for(R=Math.max(1,Math.floor(b.m()/S.m())),P=Math.ceil(Math.log(R)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),j=v(R),C=j.j(S);L(C)||0<C.l(b);)R-=P,j=v(R),C=j.j(S);z(j)&&(j=I),D=D.add(j),b=J(b,C)}return new $(D,b)}n.A=function(b){return X(this,b).h},n.and=function(b){for(var S=Math.max(this.g.length,b.g.length),R=[],P=0;P<S;P++)R[P]=this.i(P)&b.i(P);return new h(R,this.h&b.h)},n.or=function(b){for(var S=Math.max(this.g.length,b.g.length),R=[],P=0;P<S;P++)R[P]=this.i(P)|b.i(P);return new h(R,this.h|b.h)},n.xor=function(b){for(var S=Math.max(this.g.length,b.g.length),R=[],P=0;P<S;P++)R[P]=this.i(P)^b.i(P);return new h(R,this.h^b.h)};function oe(b){for(var S=b.g.length+1,R=[],P=0;P<S;P++)R[P]=b.i(P)<<1|b.i(P-1)>>>31;return new h(R,b.h)}function ae(b,S){var R=S>>5;S%=32;for(var P=b.g.length-R,D=[],j=0;j<P;j++)D[j]=0<S?b.i(j+R)>>>S|b.i(j+R+1)<<32-S:b.i(j+R);return new h(D,b.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,w0=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=w,Cs=h}).apply(typeof nv<"u"?nv:typeof self<"u"?self:typeof window<"u"?window:{});var rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var E0,Ja,T0,fc,Cf,x0,I0,S0;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,_){return u==Array.prototype||u==Object.prototype||(u[p]=_.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof rc=="object"&&rc];for(var p=0;p<u.length;++p){var _=u[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(u,p){if(p)e:{var _=s;u=u.split(".");for(var x=0;x<u.length-1;x++){var F=u[x];if(!(F in _))break e;_=_[F]}u=u[u.length-1],x=_[u],p=p(x),p!=x&&p!=null&&e(_,u,{configurable:!0,writable:!0,value:p})}}function l(u,p){u instanceof String&&(u+="");var _=0,x=!1,F={next:function(){if(!x&&_<u.length){var H=_++;return{value:p(H,u[H]),done:!1}}return x=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(u){return u||function(){return l(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function m(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function v(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function w(u,p,_){return u.call.apply(u.bind,arguments)}function T(u,p,_){if(!u)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,x),u.apply(p,F)}}return function(){return u.apply(p,arguments)}}function I(u,p,_){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:T,I.apply(null,arguments)}function O(u,p){var _=Array.prototype.slice.call(arguments,1);return function(){var x=_.slice();return x.push.apply(x,arguments),u.apply(this,x)}}function z(u,p){function _(){}_.prototype=p.prototype,u.aa=p.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(x,F,H){for(var re=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)re[Ue-2]=arguments[Ue];return p.prototype[F].apply(x,re)}}function L(u){const p=u.length;if(0<p){const _=Array(p);for(let x=0;x<p;x++)_[x]=u[x];return _}return[]}function k(u,p){for(let _=1;_<arguments.length;_++){const x=arguments[_];if(m(x)){const F=u.length||0,H=x.length||0;u.length=F+H;for(let re=0;re<H;re++)u[F+re]=x[re]}else u.push(x)}}class J{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function W(u){return/^[\s\xa0]*$/.test(u)}function $(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function X(u){return X[" "](u),u}X[" "]=function(){};var oe=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function ae(u,p,_){for(const x in u)p.call(_,u[x],x,u)}function b(u,p){for(const _ in u)p.call(void 0,u[_],_,u)}function S(u){const p={};for(const _ in u)p[_]=u[_];return p}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,p){let _,x;for(let F=1;F<arguments.length;F++){x=arguments[F];for(_ in x)u[_]=x[_];for(let H=0;H<R.length;H++)_=R[H],Object.prototype.hasOwnProperty.call(x,_)&&(u[_]=x[_])}}function D(u){var p=1;u=u.split(":");const _=[];for(;0<p&&u.length;)_.push(u.shift()),p--;return u.length&&_.push(u.join(":")),_}function j(u){d.setTimeout(()=>{throw u},0)}function C(){var u=ye;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class rt{constructor(){this.h=this.g=null}add(p,_){const x=Xe.get();x.set(p,_),this.h?this.h.next=x:this.g=x,this.h=x}}var Xe=new J(()=>new Ot,u=>u.reset());class Ot{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ze,se=!1,ye=new rt,ue=()=>{const u=d.Promise.resolve(void 0);ze=()=>{u.then(M)}};var M=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(_){j(_)}var p=Xe;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}se=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Se=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,p),d.removeEventListener("test",_,p)}catch{}return u})();function Ae(u,p){if(me.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,x=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(oe){e:{try{X(p.nodeName);var F=!0;break e}catch{}F=!1}F||(p=null)}}else _=="mouseover"?p=u.fromElement:_=="mouseout"&&(p=u.toElement);this.relatedTarget=p,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:be[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ae.aa.h.call(this)}}z(Ae,me);var be={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var je="closure_listenable_"+(1e6*Math.random()|0),Me=0;function $e(u,p,_,x,F){this.listener=u,this.proxy=null,this.src=p,this.type=_,this.capture=!!x,this.ha=F,this.key=++Me,this.da=this.fa=!1}function Tt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function gr(u){this.src=u,this.g={},this.h=0}gr.prototype.add=function(u,p,_,x,F){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var re=Hr(u,p,x,F);return-1<re?(p=u[re],_||(p.fa=!1)):(p=new $e(p,this.src,H,!!x,F),p.fa=_,u.push(p)),p};function Di(u,p){var _=p.type;if(_ in u.g){var x=u.g[_],F=Array.prototype.indexOf.call(x,p,void 0),H;(H=0<=F)&&Array.prototype.splice.call(x,F,1),H&&(Tt(p),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Hr(u,p,_,x){for(var F=0;F<u.length;++F){var H=u[F];if(!H.da&&H.listener==p&&H.capture==!!_&&H.ha==x)return F}return-1}var Us="closure_lm_"+(1e6*Math.random()|0),Vi={};function ta(u,p,_,x,F){if(Array.isArray(p)){for(var H=0;H<p.length;H++)ta(u,p[H],_,x,F);return null}return _=sa(_),u&&u[je]?u.K(p,_,v(x)?!!x.capture:!1,F):na(u,p,_,!1,x,F)}function na(u,p,_,x,F,H){if(!p)throw Error("Invalid event type");var re=v(F)?!!F.capture:!!F,Ue=Li(u);if(Ue||(u[Us]=Ue=new gr(u)),_=Ue.add(p,_,x,re,H),_.proxy)return _;if(x=Ul(),_.proxy=x,x.src=u,x.listener=_,u.addEventListener)Se||(F=re),F===void 0&&(F=!1),u.addEventListener(p.toString(),x,F);else if(u.attachEvent)u.attachEvent(vr(p.toString()),x);else if(u.addListener&&u.removeListener)u.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ul(){function u(_){return p.call(u.src,u.listener,_)}const p=ra;return u}function Oi(u,p,_,x,F){if(Array.isArray(p))for(var H=0;H<p.length;H++)Oi(u,p[H],_,x,F);else x=v(x)?!!x.capture:!!x,_=sa(_),u&&u[je]?(u=u.i,p=String(p).toString(),p in u.g&&(H=u.g[p],_=Hr(H,_,x,F),-1<_&&(Tt(H[_]),Array.prototype.splice.call(H,_,1),H.length==0&&(delete u.g[p],u.h--)))):u&&(u=Li(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Hr(p,_,x,F)),(_=-1<u?p[u]:null)&&yr(_))}function yr(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[je])Di(p.i,u);else{var _=u.type,x=u.proxy;p.removeEventListener?p.removeEventListener(_,x,u.capture):p.detachEvent?p.detachEvent(vr(_),x):p.addListener&&p.removeListener&&p.removeListener(x),(_=Li(p))?(Di(_,u),_.h==0&&(_.src=null,p[Us]=null)):Tt(u)}}}function vr(u){return u in Vi?Vi[u]:Vi[u]="on"+u}function ra(u,p){if(u.da)u=!0;else{p=new Ae(p,this);var _=u.listener,x=u.ha||u.src;u.fa&&yr(u),u=_.call(x,p)}return u}function Li(u){return u=u[Us],u instanceof gr?u:null}var ji="__closure_events_fn_"+(1e9*Math.random()>>>0);function sa(u){return typeof u=="function"?u:(u[ji]||(u[ji]=function(p){return u.handleEvent(p)}),u[ji])}function gt(){Q.call(this),this.i=new gr(this),this.M=this,this.F=null}z(gt,Q),gt.prototype[je]=!0,gt.prototype.removeEventListener=function(u,p,_,x){Oi(this,u,p,_,x)};function yt(u,p){var _,x=u.F;if(x)for(_=[];x;x=x.F)_.push(x);if(u=u.M,x=p.type||p,typeof p=="string")p=new me(p,u);else if(p instanceof me)p.target=p.target||u;else{var F=p;p=new me(x,u),P(p,F)}if(F=!0,_)for(var H=_.length-1;0<=H;H--){var re=p.g=_[H];F=_r(re,x,!0,p)&&F}if(re=p.g=u,F=_r(re,x,!0,p)&&F,F=_r(re,x,!1,p)&&F,_)for(H=0;H<_.length;H++)re=p.g=_[H],F=_r(re,x,!1,p)&&F}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var _=u.g[p],x=0;x<_.length;x++)Tt(_[x]);delete u.g[p],u.h--}}this.F=null},gt.prototype.K=function(u,p,_,x){return this.i.add(String(u),p,!1,_,x)},gt.prototype.L=function(u,p,_,x){return this.i.add(String(u),p,!0,_,x)};function _r(u,p,_,x){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var F=!0,H=0;H<p.length;++H){var re=p[H];if(re&&!re.da&&re.capture==_){var Ue=re.listener,vt=re.ha||re.src;re.fa&&Di(u.i,re),F=Ue.call(vt,x)!==!1&&F}}return F&&!x.defaultPrevented}function ia(u,p,_){if(typeof u=="function")_&&(u=I(u,_));else if(u&&typeof u.handleEvent=="function")u=I(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:d.setTimeout(u,p||0)}function Wr(u){u.g=ia(()=>{u.g=null,u.i&&(u.i=!1,Wr(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class zs extends Q{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Wr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bs(u){Q.call(this),this.h=u,this.g={}}z(Bs,Q);var oa=[];function aa(u){ae(u.g,function(p,_){this.g.hasOwnProperty(_)&&yr(p)},u),u.g={}}Bs.prototype.N=function(){Bs.aa.N.call(this),aa(this)},Bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var la=d.JSON.stringify,ua=d.JSON.parse,ca=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function $s(){}$s.prototype.h=null;function Mi(u){return u.h||(u.h=u.i())}function Fi(){}var pn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Hn(){me.call(this,"d")}z(Hn,me);function Ui(){me.call(this,"c")}z(Ui,me);var Wn={},ha=null;function qs(){return ha=ha||new gt}Wn.La="serverreachability";function da(u){me.call(this,Wn.La,u)}z(da,me);function wr(u){const p=qs();yt(p,new da(p))}Wn.STAT_EVENT="statevent";function fa(u,p){me.call(this,Wn.STAT_EVENT,u),this.stat=p}z(fa,me);function it(u){const p=qs();yt(p,new fa(p,u))}Wn.Ma="timingevent";function zi(u,p){me.call(this,Wn.Ma,u),this.size=p}z(zi,me);function Sn(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},p)}function Hs(){this.g=!0}Hs.prototype.xa=function(){this.g=!1};function Ws(u,p,_,x,F,H){u.info(function(){if(u.g)if(H)for(var re="",Ue=H.split("&"),vt=0;vt<Ue.length;vt++){var De=Ue[vt].split("=");if(1<De.length){var xt=De[0];De=De[1];var ct=xt.split("_");re=2<=ct.length&&ct[1]=="type"?re+(xt+"="+De+"&"):re+(xt+"=redacted&")}}else re=null;else re=H;return"XMLHTTP REQ ("+x+") [attempt "+F+"]: "+p+`
`+_+`
`+re})}function Bi(u,p,_,x,F,H,re){u.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+F+"]: "+p+`
`+_+`
`+H+" "+re})}function An(u,p,_,x){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+mh(u,_)+(x?" "+x:"")})}function pa(u,p){u.info(function(){return"TIMEOUT: "+p})}Hs.prototype.info=function(){};function mh(u,p){if(!u.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var x=_[u];if(!(2>x.length)){var F=x[1];if(Array.isArray(F)&&!(1>F.length)){var H=F[0];if(H!="noop"&&H!="stop"&&H!="close")for(var re=1;re<F.length;re++)F[re]=""}}}}return la(_)}catch{return p}}var $i={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},zl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Cn;function Gs(){}z(Gs,$s),Gs.prototype.g=function(){return new XMLHttpRequest},Gs.prototype.i=function(){return{}},Cn=new Gs;function Rn(u,p,_,x){this.j=u,this.i=p,this.l=_,this.R=x||1,this.U=new Bs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Bl}function Bl(){this.i=null,this.g="",this.h=!1}var ma={},qi={};function Hi(u,p,_){u.L=1,u.v=Xr(on(p)),u.m=_,u.P=!0,ga(u,null)}function ga(u,p){u.F=Date.now(),qe(u),u.A=on(u.v);var _=u.A,x=u.R;Array.isArray(x)||(x=[String(x)]),Zr(_.i,"t",x),u.C=0,_=u.j.J,u.h=new Bl,u.g=ou(u.j,_?p:null,!u.m),0<u.O&&(u.M=new zs(I(u.Y,u,u.g),u.O)),p=u.U,_=u.g,x=u.ca;var F="readystatechange";Array.isArray(F)||(F&&(oa[0]=F.toString()),F=oa);for(var H=0;H<F.length;H++){var re=ta(_,F[H],x||p.handleEvent,!1,p.h||p);if(!re)break;p.g[re.key]=re}p=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),wr(),Ws(u.i,u.u,u.A,u.l,u.R,u.m)}Rn.prototype.ca=function(u){u=u.target;const p=this.M;p&&Qt(u)==3?p.j():this.Y(u)},Rn.prototype.Y=function(u){try{if(u==this.g)e:{const ct=Qt(this.g);var p=this.g.Ba();const yn=this.g.Z();if(!(3>ct)&&(ct!=3||this.g&&(this.h.h||this.g.oa()||Ta(this.g)))){this.J||ct!=4||p==7||(p==8||0>=yn?wr(3):wr(2)),Ks(this);var _=this.g.Z();this.X=_;t:if($l(this)){var x=Ta(this.g);u="";var F=x.length,H=Qt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mn(this),Gr(this);var re="";break t}this.h.i=new d.TextDecoder}for(p=0;p<F;p++)this.h.h=!0,u+=this.h.i.decode(x[p],{stream:!(H&&p==F-1)});x.length=0,this.h.g+=u,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=_==200,Bi(this.i,this.u,this.A,this.l,this.R,ct,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,vt=this.g;if((Ue=vt.g?vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Ue)){var De=Ue;break t}}De=null}if(_=De)An(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ya(this,_);else{this.o=!1,this.s=3,it(12),mn(this),Gr(this);break e}}if(this.P){_=!0;let ln;for(;!this.J&&this.C<re.length;)if(ln=gh(this,re),ln==qi){ct==4&&(this.s=4,it(14),_=!1),An(this.i,this.l,null,"[Incomplete Response]");break}else if(ln==ma){this.s=4,it(15),An(this.i,this.l,re,"[Invalid Chunk]"),_=!1;break}else An(this.i,this.l,ln,null),ya(this,ln);if($l(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ct!=4||re.length!=0||this.h.h||(this.s=1,it(16),_=!1),this.o=this.o&&_,!_)An(this.i,this.l,re,"[Invalid Chunked Response]"),mn(this),Gr(this);else if(0<re.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),Ia(xt),xt.M=!0,it(11))}}else An(this.i,this.l,re,null),ya(this,re);ct==4&&mn(this),this.o&&!this.J&&(ct==4?no(this.j,this):(this.o=!1,qe(this)))}else Xi(this.g),_==400&&0<re.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),mn(this),Gr(this)}}}catch{}finally{}};function $l(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function gh(u,p){var _=u.C,x=p.indexOf(`
`,_);return x==-1?qi:(_=Number(p.substring(_,x)),isNaN(_)?ma:(x+=1,x+_>p.length?qi:(p=p.slice(x,x+_),u.C=x+_,p)))}Rn.prototype.cancel=function(){this.J=!0,mn(this)};function qe(u){u.S=Date.now()+u.I,ql(u,u.I)}function ql(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Sn(I(u.ba,u),p)}function Ks(u){u.B&&(d.clearTimeout(u.B),u.B=null)}Rn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(pa(this.i,this.A),this.L!=2&&(wr(),it(17)),mn(this),this.s=2,Gr(this)):ql(this,this.S-u)};function Gr(u){u.j.G==0||u.J||no(u.j,u)}function mn(u){Ks(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,aa(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function ya(u,p){try{var _=u.j;if(_.G!=0&&(_.g==u||qt(_.h,u))){if(!u.K&&qt(_.h,u)&&_.G==3){try{var x=_.Da.g.parse(p)}catch{x=null}if(Array.isArray(x)&&x.length==3){var F=x;if(F[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)to(_),Dn(_);else break e;eo(_),it(18)}}else _.za=F[1],0<_.za-_.T&&37500>F[2]&&_.F&&_.v==0&&!_.C&&(_.C=Sn(I(_.Za,_),6e3));if(1>=Wl(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Sr(_,11)}else if((u.K||_.g==u)&&to(_),!W(p))for(F=_.Da.g.parse(p),p=0;p<F.length;p++){let De=F[p];if(_.T=De[0],De=De[1],_.G==2)if(De[0]=="c"){_.K=De[1],_.ia=De[2];const xt=De[3];xt!=null&&(_.la=xt,_.j.info("VER="+_.la));const ct=De[4];ct!=null&&(_.Aa=ct,_.j.info("SVER="+_.Aa));const yn=De[5];yn!=null&&typeof yn=="number"&&0<yn&&(x=1.5*yn,_.L=x,_.j.info("backChannelRequestTimeoutMs_="+x)),x=_;const ln=u.g;if(ln){const ti=ln.g?ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ti){var H=x.h;H.g||ti.indexOf("spdy")==-1&&ti.indexOf("quic")==-1&&ti.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(va(H,H.h),H.h=null))}if(x.D){const so=ln.g?ln.g.getResponseHeader("X-HTTP-Session-Id"):null;so&&(x.ya=so,Be(x.I,x.D,so))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),x=_;var re=u;if(x.qa=iu(x,x.J?x.ia:null,x.W),re.K){Gl(x.h,re);var Ue=re,vt=x.L;vt&&(Ue.I=vt),Ue.B&&(Ks(Ue),qe(Ue)),x.g=re}else ei(x);0<_.i.length&&Yn(_)}else De[0]!="stop"&&De[0]!="close"||Sr(_,7);else _.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?Sr(_,7):kt(_):De[0]!="noop"&&_.l&&_.l.ta(De),_.v=0)}}wr(4)}catch{}}var Hl=class{constructor(u,p){this.g=u,this.map=p}};function Qs(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Wl(u){return u.h?1:u.g?u.g.size:0}function qt(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function va(u,p){u.g?u.g.add(p):u.h=p}function Gl(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Qs.prototype.cancel=function(){if(this.i=Kl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Kl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const _ of u.g.values())p=p.concat(_.D);return p}return L(u.i)}function Wi(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(m(u)){for(var p=[],_=u.length,x=0;x<_;x++)p.push(u[x]);return p}p=[],_=0;for(x in u)p[_++]=u[x];return p}function Gi(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(m(u)||typeof u=="string"){var p=[];u=u.length;for(var _=0;_<u;_++)p.push(_);return p}p=[],_=0;for(const x in u)p[_++]=x;return p}}}function Kr(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(m(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var _=Gi(u),x=Wi(u),F=x.length,H=0;H<F;H++)p.call(void 0,x[H],_&&_[H],u)}var Ys=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yh(u,p){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var x=u[_].indexOf("="),F=null;if(0<=x){var H=u[_].substring(0,x);F=u[_].substring(x+1)}else H=u[_];p(H,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Er(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Er){this.h=u.h,Xs(this,u.j),this.o=u.o,this.g=u.g,Qr(this,u.s),this.l=u.l;var p=u.i,_=new Gn;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),Yr(this,_),this.m=u.m}else u&&(p=String(u).match(Ys))?(this.h=!1,Xs(this,p[1]||"",!0),this.o=Pe(p[2]||""),this.g=Pe(p[3]||"",!0),Qr(this,p[4]),this.l=Pe(p[5]||"",!0),Yr(this,p[6]||"",!0),this.m=Pe(p[7]||"")):(this.h=!1,this.i=new Gn(null,this.h))}Er.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Jr(p,Ki,!0),":");var _=this.g;return(_||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Jr(p,Ki,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Jr(_,_.charAt(0)=="/"?Xl:Yl,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Jr(_,_a)),u.join("")};function on(u){return new Er(u)}function Xs(u,p,_){u.j=_?Pe(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Qr(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function Yr(u,p,_){p instanceof Gn?(u.i=p,Kn(u.i,u.h)):(_||(p=Jr(p,Jl)),u.i=new Gn(p,u.h))}function Be(u,p,_){u.i.set(p,_)}function Xr(u){return Be(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Pe(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Jr(u,p,_){return typeof u=="string"?(u=encodeURI(u).replace(p,Ql),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ql(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ki=/[#\/\?@]/g,Yl=/[#\?:]/g,Xl=/[#\?]/g,Jl=/[#\?@]/g,_a=/#/g;function Gn(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Rt(u){u.g||(u.g=new Map,u.h=0,u.i&&yh(u.i,function(p,_){u.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}n=Gn.prototype,n.add=function(u,p){Rt(this),this.i=null,u=gn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(p),this.h+=1,this};function kn(u,p){Rt(u),p=gn(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Nn(u,p){return Rt(u),p=gn(u,p),u.g.has(p)}n.forEach=function(u,p){Rt(this),this.g.forEach(function(_,x){_.forEach(function(F){u.call(p,F,x,this)},this)},this)},n.na=function(){Rt(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let x=0;x<p.length;x++){const F=u[x];for(let H=0;H<F.length;H++)_.push(p[x])}return _},n.V=function(u){Rt(this);let p=[];if(typeof u=="string")Nn(this,u)&&(p=p.concat(this.g.get(gn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)p=p.concat(u[_])}return p},n.set=function(u,p){return Rt(this),this.i=null,u=gn(this,u),Nn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},n.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function Zr(u,p,_){kn(u,p),0<_.length&&(u.i=null,u.g.set(gn(u,p),L(_)),u.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var x=p[_];const H=encodeURIComponent(String(x)),re=this.V(x);for(x=0;x<re.length;x++){var F=H;re[x]!==""&&(F+="="+encodeURIComponent(String(re[x]))),u.push(F)}}return this.i=u.join("&")};function gn(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function Kn(u,p){p&&!u.j&&(Rt(u),u.i=null,u.g.forEach(function(_,x){var F=x.toLowerCase();x!=F&&(kn(this,x),Zr(this,F,_))},u)),u.j=p}function vh(u,p){const _=new Hs;if(d.Image){const x=new Image;x.onload=O(Kt,_,"TestLoadImage: loaded",!0,p,x),x.onerror=O(Kt,_,"TestLoadImage: error",!1,p,x),x.onabort=O(Kt,_,"TestLoadImage: abort",!1,p,x),x.ontimeout=O(Kt,_,"TestLoadImage: timeout",!1,p,x),d.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=u}else p(!1)}function Zl(u,p){const _=new Hs,x=new AbortController,F=setTimeout(()=>{x.abort(),Kt(_,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:x.signal}).then(H=>{clearTimeout(F),H.ok?Kt(_,"TestPingServer: ok",!0,p):Kt(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(F),Kt(_,"TestPingServer: error",!1,p)})}function Kt(u,p,_,x,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),x(_)}catch{}}function _h(){this.g=new ca}function eu(u,p,_){const x=_||"";try{Kr(u,function(F,H){let re=F;v(F)&&(re=la(F)),p.push(x+H+"="+encodeURIComponent(re))})}catch(F){throw p.push(x+"type="+encodeURIComponent("_badmap")),F}}function Tr(u){this.l=u.Ub||null,this.j=u.eb||!1}z(Tr,$s),Tr.prototype.g=function(){return new Js(this.l,this.j)},Tr.prototype.i=(function(u){return function(){return u}})({});function Js(u,p){gt.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}z(Js,gt),n=Js.prototype,n.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,bn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||d).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pn(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,bn(this)),this.g&&(this.readyState=3,bn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tu(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function tu(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Pn(this):bn(this),this.readyState==3&&tu(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Pn(this))},n.Qa=function(u){this.g&&(this.response=u,Pn(this))},n.ga=function(){this.g&&Pn(this)};function Pn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,bn(u)}n.setRequestHeader=function(u,p){this.u.append(u,p)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=p.next();return u.join(`\r
`)};function bn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Js.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function xr(u){let p="";return ae(u,function(_,x){p+=x,p+=":",p+=_,p+=`\r
`}),p}function es(u,p,_){e:{for(x in _){var x=!1;break e}x=!0}x||(_=xr(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Be(u,p,_))}function Je(u){gt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}z(Je,gt);var wh=/^https?$/i,wa=["POST","PUT"];n=Je.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,p,_,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Cn.g(),this.v=this.o?Mi(this.o):Mi(Cn),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(H){Zs(this,H);return}if(u=_||"",_=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var F in x)_.set(F,x[F]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const H of x.keys())_.set(H,x.get(H));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),F=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(wa,p,void 0))||x||F||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,re]of _)this.g.setRequestHeader(H,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yi(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){Zs(this,H)}};function Zs(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,Qi(u),an(u)}function Qi(u){u.A||(u.A=!0,yt(u,"complete"),yt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,yt(this,"complete"),yt(this,"abort"),an(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),an(this,!0)),Je.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ea(this):this.bb())},n.bb=function(){Ea(this)};function Ea(u){if(u.h&&typeof h<"u"&&(!u.v[1]||Qt(u)!=4||u.Z()!=2)){if(u.u&&Qt(u)==4)ia(u.Ea,0,u);else if(yt(u,"readystatechange"),Qt(u)==4){u.h=!1;try{const re=u.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var _;if(!(_=p)){var x;if(x=re===0){var F=String(u.D).match(Ys)[1]||null;!F&&d.self&&d.self.location&&(F=d.self.location.protocol.slice(0,-1)),x=!wh.test(F?F.toLowerCase():"")}_=x}if(_)yt(u,"complete"),yt(u,"success");else{u.m=6;try{var H=2<Qt(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",Qi(u)}}finally{an(u)}}}}function an(u,p){if(u.g){Yi(u);const _=u.g,x=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||yt(u,"ready");try{_.onreadystatechange=x}catch{}}}function Yi(u){u.I&&(d.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Qt(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Qt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),ua(p)}};function Ta(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Xi(u){const p={};u=(u.g&&2<=Qt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<u.length;x++){if(W(u[x]))continue;var _=D(u[x]);const F=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=p[F]||[];p[F]=H,H.push(_)}b(p,function(x){return x.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qn(u,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||p}function xa(u){this.Aa=0,this.i=[],this.j=new Hs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qn("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qn("baseRetryDelayMs",5e3,u),this.cb=Qn("retryDelaySeedMs",1e4,u),this.Wa=Qn("forwardChannelMaxRetries",2,u),this.wa=Qn("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Qs(u&&u.concurrentRequestLimit),this.Da=new _h,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=xa.prototype,n.la=8,n.G=1,n.connect=function(u,p,_,x){it(0),this.W=u,this.H=p||{},_&&x!==void 0&&(this.H.OSID=_,this.H.OAID=x),this.F=this.X,this.I=iu(this,null,this.W),Yn(this)};function kt(u){if(Ji(u),u.G==3){var p=u.U++,_=on(u.I);if(Be(_,"SID",u.K),Be(_,"RID",p),Be(_,"TYPE","terminate"),Ir(u,_),p=new Rn(u,u.j,p),p.L=2,p.v=Xr(on(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=p.v,_=!0),_||(p.g=ou(p.j,null),p.g.ea(p.v)),p.F=Date.now(),qe(p)}su(u)}function Dn(u){u.g&&(Ia(u),u.g.cancel(),u.g=null)}function Ji(u){Dn(u),u.u&&(d.clearTimeout(u.u),u.u=null),to(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function Yn(u){if(!sn(u.h)&&!u.s){u.s=!0;var p=u.Ga;ze||ue(),se||(ze(),se=!0),ye.add(p,u),u.B=0}}function Eh(u,p){return Wl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Sn(I(u.Ga,u,p),ru(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const F=new Rn(this,this.j,u);let H=this.o;if(this.S&&(H?(H=S(H),P(H,this.S)):H=this.S),this.m!==null||this.O||(F.H=H,H=null),this.P)e:{for(var p=0,_=0;_<this.i.length;_++){t:{var x=this.i[_];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(p+=x,4096<p){p=_;break e}if(p===4096||_===this.i.length-1){p=_+1;break e}}p=1e3}else p=1e3;p=ts(this,F,p),_=on(this.I),Be(_,"RID",u),Be(_,"CVER",22),this.D&&Be(_,"X-HTTP-Session-Id",this.D),Ir(this,_),H&&(this.O?p="headers="+encodeURIComponent(String(xr(H)))+"&"+p:this.m&&es(_,this.m,H)),va(this.h,F),this.Ua&&Be(_,"TYPE","init"),this.P?(Be(_,"$req",p),Be(_,"SID","null"),F.T=!0,Hi(F,_,null)):Hi(F,_,p),this.G=2}}else this.G==3&&(u?Zi(this,u):this.i.length==0||sn(this.h)||Zi(this))};function Zi(u,p){var _;p?_=p.l:_=u.U++;const x=on(u.I);Be(x,"SID",u.K),Be(x,"RID",_),Be(x,"AID",u.T),Ir(u,x),u.m&&u.o&&es(x,u.m,u.o),_=new Rn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),p&&(u.i=p.D.concat(u.i)),p=ts(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),va(u.h,_),Hi(_,x,p)}function Ir(u,p){u.H&&ae(u.H,function(_,x){Be(p,x,_)}),u.l&&Kr({},function(_,x){Be(p,x,_)})}function ts(u,p,_){_=Math.min(u.i.length,_);var x=u.l?I(u.l.Na,u.l,u):null;e:{var F=u.i;let H=-1;for(;;){const re=["count="+_];H==-1?0<_?(H=F[0].g,re.push("ofs="+H)):H=0:re.push("ofs="+H);let Ue=!0;for(let vt=0;vt<_;vt++){let De=F[vt].g;const xt=F[vt].map;if(De-=H,0>De)H=Math.max(0,F[vt].g-100),Ue=!1;else try{eu(xt,re,"req"+De+"_")}catch{x&&x(xt)}}if(Ue){x=re.join("&");break e}}}return u=u.i.splice(0,_),p.D=u,x}function ei(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;ze||ue(),se||(ze(),se=!0),ye.add(p,u),u.v=0}}function eo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Sn(I(u.Fa,u),ru(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,nu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Sn(I(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),Dn(this),nu(this))};function Ia(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function nu(u){u.g=new Rn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=on(u.qa);Be(p,"RID","rpc"),Be(p,"SID",u.K),Be(p,"AID",u.T),Be(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Be(p,"TO",u.ja),Be(p,"TYPE","xmlhttp"),Ir(u,p),u.m&&u.o&&es(p,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Xr(on(p)),_.m=null,_.P=!0,ga(_,u)}n.Za=function(){this.C!=null&&(this.C=null,Dn(this),eo(this),it(19))};function to(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function no(u,p){var _=null;if(u.g==p){to(u),Ia(u),u.g=null;var x=2}else if(qt(u.h,p))_=p.D,Gl(u.h,p),x=1;else return;if(u.G!=0){if(p.o)if(x==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var F=u.B;x=qs(),yt(x,new zi(x,_)),Yn(u)}else ei(u);else if(F=p.s,F==3||F==0&&0<p.X||!(x==1&&Eh(u,p)||x==2&&eo(u)))switch(_&&0<_.length&&(p=u.h,p.i=p.i.concat(_)),F){case 1:Sr(u,5);break;case 4:Sr(u,10);break;case 3:Sr(u,6);break;default:Sr(u,2)}}}function ru(u,p){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*p}function Sr(u,p){if(u.j.info("Error code "+p),p==2){var _=I(u.fb,u),x=u.Xa;const F=!x;x=new Er(x||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Xs(x,"https"),Xr(x),F?vh(x.toString(),_):Zl(x.toString(),_)}else it(2);u.G=0,u.l&&u.l.sa(p),su(u),Ji(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function su(u){if(u.G=0,u.ka=[],u.l){const p=Kl(u.h);(p.length!=0||u.i.length!=0)&&(k(u.ka,p),k(u.ka,u.i),u.h.i.length=0,L(u.i),u.i.length=0),u.l.ra()}}function iu(u,p,_){var x=_ instanceof Er?on(_):new Er(_);if(x.g!="")p&&(x.g=p+"."+x.g),Qr(x,x.s);else{var F=d.location;x=F.protocol,p=p?p+"."+F.hostname:F.hostname,F=+F.port;var H=new Er(null);x&&Xs(H,x),p&&(H.g=p),F&&Qr(H,F),_&&(H.l=_),x=H}return _=u.D,p=u.ya,_&&p&&Be(x,_,p),Be(x,"VER",u.la),Ir(u,x),x}function ou(u,p,_){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new Je(new Tr({eb:_})):new Je(u.pa),p.Ha(u.J),p}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sa(){}n=Sa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ro(){}ro.prototype.g=function(u,p){return new Ht(u,p)};function Ht(u,p){gt.call(this),this.g=new xa(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!W(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!W(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Xn(this)}z(Ht,gt),Ht.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ht.prototype.close=function(){kt(this.g)},Ht.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=la(u),u=_);p.i.push(new Hl(p.Ya++,u)),p.G==3&&Yn(p)},Ht.prototype.N=function(){this.g.l=null,delete this.j,kt(this.g),delete this.g,Ht.aa.N.call(this)};function au(u){Hn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const _ in p){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}z(au,Hn);function lu(){Ui.call(this),this.status=1}z(lu,Ui);function Xn(u){this.g=u}z(Xn,Sa),Xn.prototype.ua=function(){yt(this.g,"a")},Xn.prototype.ta=function(u){yt(this.g,new au(u))},Xn.prototype.sa=function(u){yt(this.g,new lu)},Xn.prototype.ra=function(){yt(this.g,"b")},ro.prototype.createWebChannel=ro.prototype.g,Ht.prototype.send=Ht.prototype.o,Ht.prototype.open=Ht.prototype.m,Ht.prototype.close=Ht.prototype.close,S0=function(){return new ro},I0=function(){return qs()},x0=Wn,Cf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$i.NO_ERROR=0,$i.TIMEOUT=8,$i.HTTP_ERROR=6,fc=$i,zl.COMPLETE="complete",T0=zl,Fi.EventType=pn,pn.OPEN="a",pn.CLOSE="b",pn.ERROR="c",pn.MESSAGE="d",gt.prototype.listen=gt.prototype.K,Ja=Fi,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,E0=Je}).apply(typeof rc<"u"?rc:typeof self<"u"?self:typeof window<"u"?window:{});const rv="@firebase/firestore",sv="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new Jf("@firebase/firestore");function Co(){return xi.logLevel}function ce(n,...e){if(xi.logLevel<=Re.DEBUG){const t=e.map(up);xi.debug(`Firestore (${Qo}): ${n}`,...t)}}function Br(n,...e){if(xi.logLevel<=Re.ERROR){const t=e.map(up);xi.error(`Firestore (${Qo}): ${n}`,...t)}}function Uo(n,...e){if(xi.logLevel<=Re.WARN){const t=e.map(up);xi.warn(`Firestore (${Qo}): ${n}`,...t)}}function up(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,A0(n,s,t)}function A0(n,e,t){let s=`FIRESTORE (${Qo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Br(s),new Error(s)}function Fe(n,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,n||A0(e,o,s)}function Ie(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends fr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(zt.UNAUTHENTICATED)))}shutdown(){}}class KC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class QC{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Fe(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,t(m)):Promise.resolve();let l=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Mr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},d=m=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Mr)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new C0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new zt(e)}}class YC{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class XC{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new YC(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class iv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JC{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,dn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Fe(this.o===void 0,3512);const s=l=>{l.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.m;return this.m=l.token,ce("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const o=l=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new iv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Fe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new iv(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=ZC(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%62))}return s}}function ke(n,e){return n<e?-1:n>e?1:0}function Rf(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const o=n.charAt(s),l=e.charAt(s);if(o!==l)return sf(o)===sf(l)?ke(o,l):sf(o)?1:-1}return ke(n.length,e.length)}const eR=55296,tR=57343;function sf(n){const e=n.charCodeAt(0);return e>=eR&&e<=tR}function zo(n,e,t){return n.length===e.length&&n.every(((s,o)=>t(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="__name__";class nr{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ee(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ee(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return nr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof nr?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=nr.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return ke(e.length,t.length)}static compareSegments(e,t){const s=nr.isNumericId(e),o=nr.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?nr.extractNumericId(e).compare(nr.extractNumericId(t)):Rf(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Cs.fromString(e.substring(4,e.length-2))}}class We extends nr{construct(e,t,s){return new We(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ie(G.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new We(t)}static emptyPath(){return new We([])}}const nR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dt extends nr{construct(e,t,s){return new Dt(e,t,s)}static isValidIdentifier(e){return nR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ov}static keyField(){return new Dt([ov])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new ie(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new ie(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ie(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(s+=d,o++):(l(),o++)}if(l(),h)throw new ie(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dt(t)}static emptyPath(){return new Dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(We.fromString(e))}static fromName(e){return new ge(We.fromString(e).popFirst(5))}static empty(){return new ge(We.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&We.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return We.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new We(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(n,e,t){if(!t)throw new ie(G.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function rR(n,e,t,s){if(e===!0&&s===!0)throw new ie(G.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function av(n){if(!ge.isDocumentKey(n))throw new ie(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function lv(n){if(ge.isDocumentKey(n))throw new ie(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function k0(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Yc(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ee(12329,{type:typeof n})}function cr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ie(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Yc(n);throw new ie(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(n,e){const t={typeString:n};return e&&(t.value=e),t}function Dl(n,e){if(!k0(n))throw new ie(G.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const h=n[s];if(o&&typeof h!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(l!==void 0&&h!==l.value){t=`Expected '${s}' field to equal '${l.value}'`;break}}if(t)throw new ie(G.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv=-62135596800,cv=1e6;class Ye{static now(){return Ye.fromMillis(Date.now())}static fromDate(e){return Ye.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*cv);return new Ye(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ie(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ie(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<uv)throw new ie(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cv}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ye._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Dl(e,Ye._jsonSchema))return new Ye(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-uv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ye._jsonSchemaVersion="firestore/timestamp/1.0",Ye._jsonSchema={type:pt("string",Ye._jsonSchemaVersion),seconds:pt("number"),nanoseconds:pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new Ye(0,0))}static max(){return new xe(new Ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl=-1;function sR(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=xe.fromTimestamp(s===1e9?new Ye(t+1,0):new Ye(t,s));return new bs(o,ge.empty(),e)}function iR(n){return new bs(n.readTime,n.key,gl)}class bs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new bs(xe.min(),ge.empty(),gl)}static max(){return new bs(xe.max(),ge.empty(),gl)}}function oR(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ge.comparator(n.documentKey,e.documentKey),t!==0?t:ke(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(n){if(n.code!==G.FAILED_PRECONDITION||n.message!==aR)throw n;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new K(((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof K?t:K.resolve(t)}catch(t){return K.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):K.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):K.reject(t)}static resolve(e){return new K(((t,s)=>{t(e)}))}static reject(e){return new K(((t,s)=>{s(e)}))}static waitFor(e){return new K(((t,s)=>{let o=0,l=0,h=!1;e.forEach((d=>{++o,d.next((()=>{++l,h&&l===o&&t()}),(m=>s(m)))})),h=!0,l===o&&t()}))}static or(e){let t=K.resolve(!1);for(const s of e)t=t.next((o=>o?K.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,l)=>{s.push(t.call(this,o,l))})),this.waitFor(s)}static mapArray(e,t){return new K(((s,o)=>{const l=e.length,h=new Array(l);let d=0;for(let m=0;m<l;m++){const v=m;t(e[v]).next((w=>{h[v]=w,++d,d===l&&s(h)}),(w=>o(w)))}}))}static doWhile(e,t){return new K(((s,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):s()};l()}))}}function uR(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Xo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Xc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp=-1;function Jc(n){return n==null}function kc(n){return n===0&&1/n==-1/0}function cR(n){return typeof n=="number"&&Number.isInteger(n)&&!kc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="";function hR(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=hv(e)),e=dR(n.get(t),e);return hv(e)}function dR(n,e){let t=e;const s=n.length;for(let o=0;o<s;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case N0:t+="";break;default:t+=l}}return t}function hv(n){return n+N0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ms(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function P0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,t){this.comparator=e,this.root=t||bt.EMPTY}insert(e,t){return new nt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,bt.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sc(this.root,e,this.comparator,!1)}getReverseIterator(){return new sc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sc(this.root,e,this.comparator,!0)}}class sc{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bt{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??bt.RED,this.left=o??bt.EMPTY,this.right=l??bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new bt(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return bt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}bt.EMPTY=null,bt.RED=!0,bt.BLACK=!1;bt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,t,s,o,l){return this}insert(e,t,s){return new bt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new fv(this.data.getIterator())}getIteratorFrom(e){return new fv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Et(this.comparator);return t.data=e,t}}class fv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.fields=e,e.sort(Dt.comparator)}static empty(){return new fn([])}unionWith(e){let t=new Et(Dt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new fn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zo(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new b0("Invalid base64 string: "+l):l}})(e);return new Vt(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l})(e);return new Vt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const fR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ds(n){if(Fe(!!n,39018),typeof n=="string"){let e=0;const t=fR.exec(n);if(Fe(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:at(n.seconds),nanos:at(n.nanos)}}function at(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Vs(n){return typeof n=="string"?Vt.fromBase64String(n):Vt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="server_timestamp",V0="__type__",O0="__previous_value__",L0="__local_write_time__";function dp(n){return(n?.mapValue?.fields||{})[V0]?.stringValue===D0}function Zc(n){const e=n.mapValue.fields[O0];return dp(e)?Zc(e):e}function yl(n){const e=Ds(n.mapValue.fields[L0].timestampValue);return new Ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e,t,s,o,l,h,d,m,v,w){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=v,this.isUsingEmulator=w}}const Nc="(default)";class vl{constructor(e,t){this.projectId=e,this.database=t||Nc}static empty(){return new vl("","")}get isDefaultDatabase(){return this.database===Nc}isEqual(e){return e instanceof vl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="__type__",mR="__max__",ic={mapValue:{}},M0="__vector__",Pc="value";function Os(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?dp(n)?4:yR(n)?9007199254740991:gR(n)?10:11:Ee(28295,{value:n})}function hr(n,e){if(n===e)return!0;const t=Os(n);if(t!==Os(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return yl(n).isEqual(yl(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=Ds(o.timestampValue),d=Ds(l.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,l){return Vs(o.bytesValue).isEqual(Vs(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,l){return at(o.geoPointValue.latitude)===at(l.geoPointValue.latitude)&&at(o.geoPointValue.longitude)===at(l.geoPointValue.longitude)})(n,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return at(o.integerValue)===at(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=at(o.doubleValue),d=at(l.doubleValue);return h===d?kc(h)===kc(d):isNaN(h)&&isNaN(d)}return!1})(n,e);case 9:return zo(n.arrayValue.values||[],e.arrayValue.values||[],hr);case 10:case 11:return(function(o,l){const h=o.mapValue.fields||{},d=l.mapValue.fields||{};if(dv(h)!==dv(d))return!1;for(const m in h)if(h.hasOwnProperty(m)&&(d[m]===void 0||!hr(h[m],d[m])))return!1;return!0})(n,e);default:return Ee(52216,{left:n})}}function _l(n,e){return(n.values||[]).find((t=>hr(t,e)))!==void 0}function Bo(n,e){if(n===e)return 0;const t=Os(n),s=Os(e);if(t!==s)return ke(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return ke(n.booleanValue,e.booleanValue);case 2:return(function(l,h){const d=at(l.integerValue||l.doubleValue),m=at(h.integerValue||h.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(n,e);case 3:return pv(n.timestampValue,e.timestampValue);case 4:return pv(yl(n),yl(e));case 5:return Rf(n.stringValue,e.stringValue);case 6:return(function(l,h){const d=Vs(l),m=Vs(h);return d.compareTo(m)})(n.bytesValue,e.bytesValue);case 7:return(function(l,h){const d=l.split("/"),m=h.split("/");for(let v=0;v<d.length&&v<m.length;v++){const w=ke(d[v],m[v]);if(w!==0)return w}return ke(d.length,m.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,h){const d=ke(at(l.latitude),at(h.latitude));return d!==0?d:ke(at(l.longitude),at(h.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return mv(n.arrayValue,e.arrayValue);case 10:return(function(l,h){const d=l.fields||{},m=h.fields||{},v=d[Pc]?.arrayValue,w=m[Pc]?.arrayValue,T=ke(v?.values?.length||0,w?.values?.length||0);return T!==0?T:mv(v,w)})(n.mapValue,e.mapValue);case 11:return(function(l,h){if(l===ic.mapValue&&h===ic.mapValue)return 0;if(l===ic.mapValue)return 1;if(h===ic.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),v=h.fields||{},w=Object.keys(v);m.sort(),w.sort();for(let T=0;T<m.length&&T<w.length;++T){const I=Rf(m[T],w[T]);if(I!==0)return I;const O=Bo(d[m[T]],v[w[T]]);if(O!==0)return O}return ke(m.length,w.length)})(n.mapValue,e.mapValue);default:throw Ee(23264,{he:t})}}function pv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ke(n,e);const t=Ds(n),s=Ds(e),o=ke(t.seconds,s.seconds);return o!==0?o:ke(t.nanos,s.nanos)}function mv(n,e){const t=n.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=Bo(t[o],s[o]);if(l)return l}return ke(t.length,s.length)}function $o(n){return kf(n)}function kf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const s=Ds(t);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Vs(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ge.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=kf(l);return s+"]"})(n.arrayValue):"mapValue"in n?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of s)l?l=!1:o+=",",o+=`${h}:${kf(t.fields[h])}`;return o+"}"})(n.mapValue):Ee(61005,{value:n})}function pc(n){switch(Os(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zc(n);return e?16+pc(e):16;case 5:return 2*n.stringValue.length;case 6:return Vs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,l)=>o+pc(l)),0)})(n.arrayValue);case 10:case 11:return(function(s){let o=0;return Ms(s.fields,((l,h)=>{o+=l.length+pc(h)})),o})(n.mapValue);default:throw Ee(13486,{value:n})}}function gv(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Nf(n){return!!n&&"integerValue"in n}function fp(n){return!!n&&"arrayValue"in n}function yv(n){return!!n&&"nullValue"in n}function vv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function mc(n){return!!n&&"mapValue"in n}function gR(n){return(n?.mapValue?.fields||{})[j0]?.stringValue===M0}function sl(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Ms(n.mapValue.fields,((t,s)=>e.mapValue.fields[t]=sl(s))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=sl(n.arrayValue.values[t]);return e}return{...n}}function yR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===mR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.value=e}static empty(){return new rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!mc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=sl(t)}setAll(e){let t=Dt.emptyPath(),s={},o=[];e.forEach(((h,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,s,o),s={},o=[],t=d.popLast()}h?s[d.lastSegment()]=sl(h):o.push(d.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());mc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return hr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];mc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Ms(t,((o,l)=>e[o]=l));for(const o of s)delete e[o]}clone(){return new rn(sl(this.value))}}function F0(n){const e=[];return Ms(n.fields,((t,s)=>{const o=new Dt([t]);if(mc(s)){const l=F0(s.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)})),new fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,t,s,o,l,h,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=h,this.documentState=d}static newInvalidDocument(e){return new Bt(e,0,xe.min(),xe.min(),xe.min(),rn.empty(),0)}static newFoundDocument(e,t,s,o){return new Bt(e,1,t,xe.min(),s,o,0)}static newNoDocument(e,t){return new Bt(e,2,t,xe.min(),xe.min(),rn.empty(),0)}static newUnknownDocument(e,t){return new Bt(e,3,t,xe.min(),xe.min(),rn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,t){this.position=e,this.inclusive=t}}function _v(n,e,t){let s=0;for(let o=0;o<n.position.length;o++){const l=e[o],h=n.position[o];if(l.field.isKeyField()?s=ge.comparator(ge.fromName(h.referenceValue),t.key):s=Bo(h,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function wv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!hr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,t="asc"){this.field=e,this.dir=t}}function vR(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{}class ft extends U0{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new wR(e,t,s):t==="array-contains"?new xR(e,s):t==="in"?new IR(e,s):t==="not-in"?new SR(e,s):t==="array-contains-any"?new AR(e,s):new ft(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new ER(e,s):new TR(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Bo(t,this.value)):t!==null&&Os(this.value)===Os(t)&&this.matchesComparison(Bo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qn extends U0{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new qn(e,t)}matches(e){return z0(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function z0(n){return n.op==="and"}function B0(n){return _R(n)&&z0(n)}function _R(n){for(const e of n.filters)if(e instanceof qn)return!1;return!0}function Pf(n){if(n instanceof ft)return n.field.canonicalString()+n.op.toString()+$o(n.value);if(B0(n))return n.filters.map((e=>Pf(e))).join(",");{const e=n.filters.map((t=>Pf(t))).join(",");return`${n.op}(${e})`}}function $0(n,e){return n instanceof ft?(function(s,o){return o instanceof ft&&s.op===o.op&&s.field.isEqual(o.field)&&hr(s.value,o.value)})(n,e):n instanceof qn?(function(s,o){return o instanceof qn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((l,h,d)=>l&&$0(h,o.filters[d])),!0):!1})(n,e):void Ee(19439)}function q0(n){return n instanceof ft?(function(t){return`${t.field.canonicalString()} ${t.op} ${$o(t.value)}`})(n):n instanceof qn?(function(t){return t.op.toString()+" {"+t.getFilters().map(q0).join(" ,")+"}"})(n):"Filter"}class wR extends ft{constructor(e,t,s){super(e,t,s),this.key=ge.fromName(s.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class ER extends ft{constructor(e,t){super(e,"in",t),this.keys=H0("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class TR extends ft{constructor(e,t){super(e,"not-in",t),this.keys=H0("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function H0(n,e){return(e.arrayValue?.values||[]).map((t=>ge.fromName(t.referenceValue)))}class xR extends ft{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return fp(t)&&_l(t.arrayValue,this.value)}}class IR extends ft{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&_l(this.value.arrayValue,t)}}class SR extends ft{constructor(e,t){super(e,"not-in",t)}matches(e){if(_l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!_l(this.value.arrayValue,t)}}class AR extends ft{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!fp(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>_l(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,t=null,s=[],o=[],l=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=h,this.endAt=d,this.Te=null}}function Ev(n,e=null,t=[],s=[],o=null,l=null,h=null){return new CR(n,e,t,s,o,l,h)}function pp(n){const e=Ie(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>Pf(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Jc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>$o(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>$o(s))).join(",")),e.Te=t}return e.Te}function mp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!vR(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!$0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!wv(n.startAt,e.startAt)&&wv(n.endAt,e.endAt)}function bf(n){return ge.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,t=null,s=[],o=[],l=null,h="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=h,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function RR(n,e,t,s,o,l,h,d){return new Jo(n,e,t,s,o,l,h,d)}function gp(n){return new Jo(n)}function Tv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function W0(n){return n.collectionGroup!==null}function il(n){const e=Ie(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Et(Dt.comparator);return h.filters.forEach((m=>{m.getFlattenedFilters().forEach((v=>{v.isInequality()&&(d=d.add(v.field))}))})),d})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new wl(l,s))})),t.has(Dt.keyField().canonicalString())||e.Ie.push(new wl(Dt.keyField(),s))}return e.Ie}function or(n){const e=Ie(n);return e.Ee||(e.Ee=kR(e,il(n))),e.Ee}function kR(n,e){if(n.limitType==="F")return Ev(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new wl(o.field,l)}));const t=n.endAt?new bc(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new bc(n.startAt.position,n.startAt.inclusive):null;return Ev(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function Df(n,e){const t=n.filters.concat([e]);return new Jo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Vf(n,e,t){return new Jo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function eh(n,e){return mp(or(n),or(e))&&n.limitType===e.limitType}function G0(n){return`${pp(or(n))}|lt:${n.limitType}`}function Ro(n){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>q0(o))).join(", ")}]`),Jc(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>$o(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>$o(o))).join(",")),`Target(${s})`})(or(n))}; limitType=${n.limitType})`}function th(n,e){return e.isFoundDocument()&&(function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ge.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(n,e)&&(function(s,o){for(const l of il(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0})(n,e)&&(function(s,o){return!(s.startAt&&!(function(h,d,m){const v=_v(h,d,m);return h.inclusive?v<=0:v<0})(s.startAt,il(s),o)||s.endAt&&!(function(h,d,m){const v=_v(h,d,m);return h.inclusive?v>=0:v>0})(s.endAt,il(s),o))})(n,e)}function NR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function K0(n){return(e,t)=>{let s=!1;for(const o of il(n)){const l=PR(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function PR(n,e,t){const s=n.field.isKeyField()?ge.comparator(e.key,t.key):(function(l,h,d){const m=h.data.field(l),v=d.data.field(l);return m!==null&&v!==null?Bo(m,v):Ee(42886)})(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ms(this.inner,((t,s)=>{for(const[o,l]of s)e(o,l)}))}isEmpty(){return P0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=new nt(ge.comparator);function $r(){return bR}const Q0=new nt(ge.comparator);function Za(...n){let e=Q0;for(const t of n)e=e.insert(t.key,t);return e}function Y0(n){let e=Q0;return n.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function mi(){return ol()}function X0(){return ol()}function ol(){return new Ni((n=>n.toString()),((n,e)=>n.isEqual(e)))}const DR=new nt(ge.comparator),VR=new Et(ge.comparator);function Ne(...n){let e=VR;for(const t of n)e=e.add(t);return e}const OR=new Et(ke);function LR(){return OR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kc(e)?"-0":e}}function J0(n){return{integerValue:""+n}}function Z0(n,e){return cR(e)?J0(e):yp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(){this._=void 0}}function jR(n,e,t){return n instanceof Dc?(function(o,l){const h={fields:{[V0]:{stringValue:D0},[L0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&dp(l)&&(l=Zc(l)),l&&(h.fields[O0]=l),{mapValue:h}})(t,e):n instanceof El?tw(n,e):n instanceof Tl?nw(n,e):(function(o,l){const h=ew(o,l),d=xv(h)+xv(o.Ae);return Nf(h)&&Nf(o.Ae)?J0(d):yp(o.serializer,d)})(n,e)}function MR(n,e,t){return n instanceof El?tw(n,e):n instanceof Tl?nw(n,e):t}function ew(n,e){return n instanceof xl?(function(s){return Nf(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Dc extends nh{}class El extends nh{constructor(e){super(),this.elements=e}}function tw(n,e){const t=rw(e);for(const s of n.elements)t.some((o=>hr(o,s)))||t.push(s);return{arrayValue:{values:t}}}class Tl extends nh{constructor(e){super(),this.elements=e}}function nw(n,e){let t=rw(e);for(const s of n.elements)t=t.filter((o=>!hr(o,s)));return{arrayValue:{values:t}}}class xl extends nh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function xv(n){return at(n.integerValue||n.doubleValue)}function rw(n){return fp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,t){this.field=e,this.transform=t}}function UR(n,e){return n.field.isEqual(e.field)&&(function(s,o){return s instanceof El&&o instanceof El||s instanceof Tl&&o instanceof Tl?zo(s.elements,o.elements,hr):s instanceof xl&&o instanceof xl?hr(s.Ae,o.Ae):s instanceof Dc&&o instanceof Dc})(n.transform,e.transform)}class zR{constructor(e,t){this.version=e,this.transformResults=t}}class Bn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class rh{}function sw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ow(n.key,Bn.none()):new Vl(n.key,n.data,Bn.none());{const t=n.data,s=rn.empty();let o=new Et(Dt.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?s.delete(l):s.set(l,h),o=o.add(l)}return new Fs(n.key,s,new fn(o.toArray()),Bn.none())}}function BR(n,e,t){n instanceof Vl?(function(o,l,h){const d=o.value.clone(),m=Sv(o.fieldTransforms,l,h.transformResults);d.setAll(m),l.convertToFoundDocument(h.version,d).setHasCommittedMutations()})(n,e,t):n instanceof Fs?(function(o,l,h){if(!gc(o.precondition,l))return void l.convertToUnknownDocument(h.version);const d=Sv(o.fieldTransforms,l,h.transformResults),m=l.data;m.setAll(iw(o)),m.setAll(d),l.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(n,e,t):(function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function al(n,e,t,s){return n instanceof Vl?(function(l,h,d,m){if(!gc(l.precondition,h))return d;const v=l.value.clone(),w=Av(l.fieldTransforms,m,h);return v.setAll(w),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null})(n,e,t,s):n instanceof Fs?(function(l,h,d,m){if(!gc(l.precondition,h))return d;const v=Av(l.fieldTransforms,m,h),w=h.data;return w.setAll(iw(l)),w.setAll(v),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(n,e,t,s):(function(l,h,d){return gc(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d})(n,e,t)}function $R(n,e){let t=null;for(const s of n.fieldTransforms){const o=e.data.field(s.field),l=ew(s.transform,o||null);l!=null&&(t===null&&(t=rn.empty()),t.set(s.field,l))}return t||null}function Iv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&zo(s,o,((l,h)=>UR(l,h)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Vl extends rh{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Fs extends rh{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function iw(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}})),e}function Sv(n,e,t){const s=new Map;Fe(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const l=n[o],h=l.transform,d=e.data.field(l.field);s.set(l.field,MR(h,d,t[o]))}return s}function Av(n,e,t){const s=new Map;for(const o of n){const l=o.transform,h=t.data.field(o.field);s.set(o.field,jR(l,h,e))}return s}class ow extends rh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qR extends rh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&BR(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=al(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=al(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=X0();return this.mutations.forEach((o=>{const l=e.get(o.key),h=l.overlayedDocument;let d=this.applyToLocalView(h,l.mutatedFields);d=t.has(o.key)?null:d;const m=sw(h,d);m!==null&&s.set(o.key,m),h.isValidDocument()||h.convertToNoDocument(xe.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ne())}isEqual(e){return this.batchId===e.batchId&&zo(this.mutations,e.mutations,((t,s)=>Iv(t,s)))&&zo(this.baseMutations,e.baseMutations,((t,s)=>Iv(t,s)))}}class vp{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return DR})();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,s[h].version);return new vp(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,Ve;function KR(n){switch(n){case G.OK:return Ee(64938);case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0;default:return Ee(15467,{code:n})}}function aw(n){if(n===void 0)return Br("GRPC error has no .code"),G.UNKNOWN;switch(n){case dt.OK:return G.OK;case dt.CANCELLED:return G.CANCELLED;case dt.UNKNOWN:return G.UNKNOWN;case dt.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case dt.INTERNAL:return G.INTERNAL;case dt.UNAVAILABLE:return G.UNAVAILABLE;case dt.UNAUTHENTICATED:return G.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case dt.NOT_FOUND:return G.NOT_FOUND;case dt.ALREADY_EXISTS:return G.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return G.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case dt.ABORTED:return G.ABORTED;case dt.OUT_OF_RANGE:return G.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return G.UNIMPLEMENTED;case dt.DATA_LOSS:return G.DATA_LOSS;default:return Ee(39323,{code:n})}}(Ve=dt||(dt={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=new Cs([4294967295,4294967295],0);function Cv(n){const e=QR().encode(n),t=new w0;return t.update(e),new Uint8Array(t.digest())}function Rv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Cs([t,s],0),new Cs([o,l],0)]}class _p{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new el(`Invalid padding: ${t}`);if(s<0)throw new el(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new el(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new el(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Cs.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(Cs.fromNumber(s)));return o.compare(YR)===1&&(o=new Cs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Cv(e),[s,o]=Rv(t);for(let l=0;l<this.hashCount;l++){const h=this.ye(s,o,l);if(!this.we(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new _p(l,o,t);return s.forEach((d=>h.insert(d))),h}insert(e){if(this.ge===0)return;const t=Cv(e),[s,o]=Rv(t);for(let l=0;l<this.hashCount;l++){const h=this.ye(s,o,l);this.Se(h)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class el extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Ol.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new sh(xe.min(),o,new nt(ke),$r(),Ne())}}class Ol{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Ol(s,t,Ne(),Ne(),Ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class lw{constructor(e,t){this.targetId=e,this.Ce=t}}class uw{constructor(e,t,s=Vt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class kv{constructor(){this.ve=0,this.Fe=Nv(),this.Me=Vt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ne(),t=Ne(),s=Ne();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:l})}})),new Ol(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=Nv()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class XR{constructor(e){this.Ge=e,this.ze=new Map,this.je=$r(),this.Je=oc(),this.He=oc(),this.Ye=new nt(ke)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(bf(l))if(s===0){const h=new ge(l.path);this.et(t,h,Bt.newNoDocument(h,xe.min()))}else Fe(s===1,20013,{expectedCount:s});else{const h=this._t(t);if(h!==s){const d=this.ut(e),m=d?this.ct(d,e,h):1;if(m!==0){this.it(t);const v=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,v)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let h,d;try{h=Vs(s).toUint8Array()}catch(m){if(m instanceof b0)return Uo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new _p(h,o,l)}catch(m){return Uo(m instanceof el?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((l=>{const h=this.Ge.ht(),d=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((l,h)=>{const d=this.ot(h);if(d){if(l.current&&bf(d.target)){const m=new ge(d.target.path);this.It(m).has(h)||this.Et(h,m)||this.et(h,m,Bt.newNoDocument(m,e))}l.Be&&(t.set(h,l.ke()),l.qe())}}));let s=Ne();this.He.forEach(((l,h)=>{let d=!0;h.forEachWhile((m=>{const v=this.ot(m);return!v||v.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,h)=>h.setReadTime(e)));const o=new sh(e,t,this.Ye,this.je,s);return this.je=$r(),this.Je=oc(),this.He=oc(),this.Ye=new nt(ke),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new kv,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Et(ke),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Et(ke),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new kv),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function oc(){return new nt(ge.comparator)}function Nv(){return new nt(ge.comparator)}const JR={asc:"ASCENDING",desc:"DESCENDING"},ZR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ek={and:"AND",or:"OR"};class tk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Of(n,e){return n.useProto3Json||Jc(e)?e:{value:e}}function Vc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function nk(n,e){return Vc(n,e.toTimestamp())}function ar(n){return Fe(!!n,49232),xe.fromTimestamp((function(t){const s=Ds(t);return new Ye(s.seconds,s.nanos)})(n))}function wp(n,e){return Lf(n,e).canonicalString()}function Lf(n,e){const t=(function(o){return new We(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function hw(n){const e=We.fromString(n);return Fe(gw(e),10190,{key:e.toString()}),e}function jf(n,e){return wp(n.databaseId,e.path)}function of(n,e){const t=hw(e);if(t.get(1)!==n.databaseId.projectId)throw new ie(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ie(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ge(fw(t))}function dw(n,e){return wp(n.databaseId,e)}function rk(n){const e=hw(n);return e.length===4?We.emptyPath():fw(e)}function Mf(n){return new We(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function fw(n){return Fe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Pv(n,e,t){return{name:jf(n,e),fields:t.value.mapValue.fields}}function sk(n,e){let t;if("targetChange"in e){e.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Ee(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(v,w){return v.useProto3Json?(Fe(w===void 0||typeof w=="string",58123),Vt.fromBase64String(w||"")):(Fe(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Vt.fromUint8Array(w||new Uint8Array))})(n,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&(function(v){const w=v.code===void 0?G.UNKNOWN:aw(v.code);return new ie(w,v.message||"")})(h);t=new uw(s,o,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=of(n,s.document.name),l=ar(s.document.updateTime),h=s.document.createTime?ar(s.document.createTime):xe.min(),d=new rn({mapValue:{fields:s.document.fields}}),m=Bt.newFoundDocument(o,l,h,d),v=s.targetIds||[],w=s.removedTargetIds||[];t=new yc(v,w,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=of(n,s.document),l=s.readTime?ar(s.readTime):xe.min(),h=Bt.newNoDocument(o,l),d=s.removedTargetIds||[];t=new yc([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=of(n,s.document),l=s.removedTargetIds||[];t=new yc([],l,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,h=new GR(o,l),d=s.targetId;t=new lw(d,h)}}return t}function ik(n,e){let t;if(e instanceof Vl)t={update:Pv(n,e.key,e.value)};else if(e instanceof ow)t={delete:jf(n,e.key)};else if(e instanceof Fs)t={update:Pv(n,e.key,e.data),updateMask:pk(e.fieldMask)};else{if(!(e instanceof qR))return Ee(16599,{Vt:e.type});t={verify:jf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(l,h){const d=h.transform;if(d instanceof Dc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof El)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Tl)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof xl)return{fieldPath:h.field.canonicalString(),increment:d.Ae};throw Ee(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:nk(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ee(27497)})(n,e.precondition)),t}function ok(n,e){return n&&n.length>0?(Fe(e!==void 0,14353),n.map((t=>(function(o,l){let h=o.updateTime?ar(o.updateTime):ar(l);return h.isEqual(xe.min())&&(h=ar(l)),new zR(h,o.transformResults||[])})(t,e)))):[]}function ak(n,e){return{documents:[dw(n,e.path)]}}function lk(n,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=dw(n,o);const l=(function(v){if(v.length!==0)return mw(qn.create(v,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const h=(function(v){if(v.length!==0)return v.map((w=>(function(I){return{field:ko(I.field),direction:hk(I.dir)}})(w)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=Of(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:t,parent:o}}function uk(n){let e=rk(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let l=[];t.where&&(l=(function(T){const I=pw(T);return I instanceof qn&&B0(I)?I.getFilters():[I]})(t.where));let h=[];t.orderBy&&(h=(function(T){return T.map((I=>(function(z){return new wl(No(z.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(z.direction))})(I)))})(t.orderBy));let d=null;t.limit&&(d=(function(T){let I;return I=typeof T=="object"?T.value:T,Jc(I)?null:I})(t.limit));let m=null;t.startAt&&(m=(function(T){const I=!!T.before,O=T.values||[];return new bc(O,I)})(t.startAt));let v=null;return t.endAt&&(v=(function(T){const I=!T.before,O=T.values||[];return new bc(O,I)})(t.endAt)),RR(e,o,h,l,d,"F",m,v)}function ck(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function pw(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=No(t.unaryFilter.field);return ft.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=No(t.unaryFilter.field);return ft.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=No(t.unaryFilter.field);return ft.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=No(t.unaryFilter.field);return ft.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(n):n.fieldFilter!==void 0?(function(t){return ft.create(No(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return qn.create(t.compositeFilter.filters.map((s=>pw(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(t.compositeFilter.op))})(n):Ee(30097,{filter:n})}function hk(n){return JR[n]}function dk(n){return ZR[n]}function fk(n){return ek[n]}function ko(n){return{fieldPath:n.canonicalString()}}function No(n){return Dt.fromServerFormat(n.fieldPath)}function mw(n){return n instanceof ft?(function(t){if(t.op==="=="){if(vv(t.value))return{unaryFilter:{field:ko(t.field),op:"IS_NAN"}};if(yv(t.value))return{unaryFilter:{field:ko(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(vv(t.value))return{unaryFilter:{field:ko(t.field),op:"IS_NOT_NAN"}};if(yv(t.value))return{unaryFilter:{field:ko(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ko(t.field),op:dk(t.op),value:t.value}}})(n):n instanceof qn?(function(t){const s=t.getFilters().map((o=>mw(o)));return s.length===1?s[0]:{compositeFilter:{op:fk(t.op),filters:s}}})(n):Ee(54877,{filter:n})}function pk(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function gw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,t,s,o,l=xe.min(),h=xe.min(),d=Vt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new xs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e){this.yt=e}}function gk(n){const e=uk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Vf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(){this.Cn=new vk}addToCollectionParentIndex(e,t){return this.Cn.add(t),K.resolve()}getCollectionParents(e,t){return K.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return K.resolve()}deleteFieldIndex(e,t){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,t){return K.resolve()}getDocumentsMatchingTarget(e,t){return K.resolve(null)}getIndexType(e,t){return K.resolve(0)}getFieldIndexes(e,t){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,t){return K.resolve(bs.min())}getMinOffsetFromCollectionGroup(e,t){return K.resolve(bs.min())}updateCollectionGroup(e,t,s){return K.resolve()}updateIndexEntries(e,t){return K.resolve()}}class vk{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Et(We.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Et(We.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yw=41943040;class nn{static withCacheSize(e){return new nn(e,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(yw,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new qo(0)}static cr(){return new qo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="LruGarbageCollector",_k=1048576;function Vv([n,e],[t,s]){const o=ke(n,t);return o===0?ke(e,s):o}class wk{constructor(e){this.Ir=e,this.buffer=new Et(Vv),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Vv(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ek{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(Dv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Xo(t)?ce(Dv,"Ignoring IndexedDB error during garbage collection: ",t):await Yo(t)}await this.Vr(3e5)}))}}class Tk{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return K.resolve(Xc.ce);const s=new wk(t);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(bv)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bv):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,l,h,d,m,v;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,d=Date.now(),this.removeTargets(e,s,t)))).next((T=>(l=T,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(v=Date.now(),Co()<=Re.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-w}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${T} documents in `+(v-m)+`ms
Total Duration: ${v-w}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T}))))}}function xk(n,e){return new Tk(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(){this.changes=new Ni((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?K.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&al(s.mutation,o,fn.empty(),Ye.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,Ne()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=Ne()){const o=mi();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((l=>{let h=Za();return l.forEach(((d,m)=>{h=h.insert(d,m.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const s=mi();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,Ne())))}populateOverlays(e,t,s){const o=[];return s.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((h,d)=>{t.set(h,d)}))}))}computeViews(e,t,s,o){let l=$r();const h=ol(),d=(function(){return ol()})();return t.forEach(((m,v)=>{const w=s.get(v.key);o.has(v.key)&&(w===void 0||w.mutation instanceof Fs)?l=l.insert(v.key,v):w!==void 0?(h.set(v.key,w.mutation.getFieldMask()),al(w.mutation,v,w.mutation.getFieldMask(),Ye.now())):h.set(v.key,fn.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((v,w)=>h.set(v,w))),t.forEach(((v,w)=>d.set(v,new Sk(w,h.get(v)??null)))),d)))}recalculateAndSaveOverlays(e,t){const s=ol();let o=new nt(((h,d)=>h-d)),l=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const d of h)d.keys().forEach((m=>{const v=t.get(m);if(v===null)return;let w=s.get(m)||fn.empty();w=d.applyToLocalView(v,w),s.set(m,w);const T=(o.get(d.batchId)||Ne()).add(m);o=o.insert(d.batchId,T)}))})).next((()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),v=m.key,w=m.value,T=X0();w.forEach((I=>{if(!l.has(I)){const O=sw(t.get(I),s.get(I));O!==null&&T.set(I,O),l=l.add(I)}})),h.push(this.documentOverlayCache.saveOverlays(e,v,T))}return K.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(h){return ge.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):W0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):K.resolve(mi());let d=gl,m=l;return h.next((v=>K.forEach(v,((w,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(w)?K.resolve():this.remoteDocumentCache.getEntry(e,w).next((I=>{m=m.insert(w,I)}))))).next((()=>this.populateOverlays(e,v,l))).next((()=>this.computeViews(e,m,v,Ne()))).next((w=>({batchId:d,changes:Y0(w)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next((s=>{let o=Za();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let h=Za();return this.indexManager.getCollectionParents(e,l).next((d=>K.forEach(d,(m=>{const v=(function(T,I){return new Jo(I,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next((w=>{w.forEach(((T,I)=>{h=h.insert(T,I)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o)))).next((h=>{l.forEach(((m,v)=>{const w=v.getKey();h.get(w)===null&&(h=h.insert(w,Bt.newInvalidDocument(w)))}));let d=Za();return h.forEach(((m,v)=>{const w=l.get(m);w!==void 0&&al(w.mutation,v,fn.empty(),Ye.now()),th(t,v)&&(d=d.insert(m,v))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return K.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:ar(o.createTime)}})(t)),K.resolve()}getNamedQuery(e,t){return K.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:gk(o.bundledQuery),readTime:ar(o.readTime)}})(t)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(){this.overlays=new nt(ge.comparator),this.qr=new Map}getOverlay(e,t){return K.resolve(this.overlays.get(t))}getOverlays(e,t){const s=mi();return K.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&s.set(o,l)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,l)=>{this.St(e,t,l)})),K.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),K.resolve()}getOverlaysForCollection(e,t,s){const o=mi(),l=t.length+1,h=new ge(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const m=d.getNext().value,v=m.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===l&&m.largestBatchId>s&&o.set(m.getKey(),m)}return K.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new nt(((v,w)=>v-w));const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>s){let w=l.get(v.largestBatchId);w===null&&(w=mi(),l=l.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const d=mi(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((v,w)=>d.set(v,w))),!(d.size()>=o)););return K.resolve(d)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new WR(t,s));let l=this.qr.get(t);l===void 0&&(l=Ne(),this.qr.set(t,l)),this.qr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(){this.Qr=new Et(Ct.$r),this.Ur=new Et(Ct.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Ct(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new Ct(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new ge(new We([])),s=new Ct(t,e),o=new Ct(t,e+1),l=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),l.push(h.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ge(new We([])),s=new Ct(t,e),o=new Ct(t,e+1);let l=Ne();return this.Ur.forEachInRange([s,o],(h=>{l=l.add(h.key)})),l}containsKey(e){const t=new Ct(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Ct{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ge.comparator(e.key,t.key)||ke(e.Yr,t.Yr)}static Kr(e,t){return ke(e.Yr,t.Yr)||ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Et(Ct.$r)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new HR(l,t,s,o);this.mutationQueue.push(h);for(const d of o)this.Zr=this.Zr.add(new Ct(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return K.resolve(h)}lookupMutationBatch(e,t){return K.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),l=o<0?0:o;return K.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?hp:this.tr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Ct(t,0),o=new Ct(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,o],(h=>{const d=this.Xr(h.Yr);l.push(d)})),K.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Et(ke);return t.forEach((o=>{const l=new Ct(o,0),h=new Ct(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,h],(d=>{s=s.add(d.Yr)}))})),K.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;ge.isDocumentKey(l)||(l=l.child(""));const h=new Ct(new ge(l),0);let d=new Et(ke);return this.Zr.forEachWhile((m=>{const v=m.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(d=d.add(m.Yr)),!0)}),h),K.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Fe(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return K.forEach(t.mutations,(o=>{const l=new Ct(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new Ct(t,0),o=this.Zr.firstAfterOrEqual(s);return K.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e){this.ri=e,this.docs=(function(){return new nt(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,h=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return K.resolve(s?s.document.mutableCopy():Bt.newInvalidDocument(t))}getEntries(e,t){let s=$r();return t.forEach((o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():Bt.newInvalidDocument(o))})),K.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=$r();const h=t.path,d=new ge(h.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:v,value:{document:w}}=m.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||oR(iR(w),s)<=0||(o.has(w.key)||th(t,w))&&(l=l.insert(w.key,w.mutableCopy()))}return K.resolve(l)}getAllFromCollectionGroup(e,t,s,o){Ee(9500)}ii(e,t){return K.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new bk(this)}getSize(e){return K.resolve(this.size)}}class bk extends Ik{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),K.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e){this.persistence=e,this.si=new Ni((t=>pp(t)),mp),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new Ep,this.targetCount=0,this.ai=qo.ur()}forEachTarget(e,t){return this.si.forEach(((s,o)=>t(o))),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),K.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new qo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,K.resolve()}updateTargetData(e,t){return this.Pr(t),K.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.si.forEach(((h,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.si.delete(h),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)})),K.waitFor(l).next((()=>o))}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return K.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),K.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((h=>{l.push(o.markPotentiallyOrphaned(e,h))})),K.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),K.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return K.resolve(s)}containsKey(e,t){return K.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,t){this.ui={},this.overlays={},this.ci=new Xc(0),this.li=!1,this.li=!0,this.hi=new kk,this.referenceDelegate=e(this),this.Pi=new Dk(this),this.indexManager=new yk,this.remoteDocumentCache=(function(o){return new Pk(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new mk(t),this.Ii=new Ck(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Rk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new Nk(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){ce("MemoryPersistence","Starting transaction:",e);const o=new Vk(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,t){return K.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class Vk extends lR{constructor(e){super(),this.currentSequenceNumber=e}}class Tp{constructor(e){this.persistence=e,this.Ri=new Ep,this.Vi=null}static mi(e){return new Tp(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),K.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),K.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),K.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.fi,(s=>{const o=ge.fromPath(s);return this.gi(e,o).next((l=>{l||t.removeEntry(o,xe.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return K.or([()=>K.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Oc{constructor(e,t){this.persistence=e,this.pi=new Ni((s=>hR(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=xk(this,t)}static mi(e,t){return new Oc(e,t)}Ei(){}di(e){return K.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return K.forEach(this.pi,((s,o)=>this.br(e,s,o).next((l=>l?K.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,t).next((d=>{d||(s++,l.removeEntry(h,xe.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),K.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),K.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),K.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=pc(e.data.value)),t}br(e,t,s){return K.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return K.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=Ne(),o=Ne();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new xp(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return aI()?8:uR($t())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.ys(e,t).next((h=>{l.result=h})).next((()=>{if(!l.result)return this.ws(e,t,o,s).next((h=>{l.result=h}))})).next((()=>{if(l.result)return;const h=new Ok;return this.Ss(e,t,h).next((d=>{if(l.result=d,this.Vs)return this.bs(e,t,h,d.size)}))})).next((()=>l.result))}bs(e,t,s,o){return s.documentReadCount<this.fs?(Co()<=Re.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Ro(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),K.resolve()):(Co()<=Re.DEBUG&&ce("QueryEngine","Query:",Ro(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Co()<=Re.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Ro(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,or(t))):K.resolve())}ys(e,t){if(Tv(t))return K.resolve(null);let s=or(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Vf(t,null,"F"),s=or(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const h=Ne(...l);return this.ps.getDocuments(e,h).next((d=>this.indexManager.getMinOffset(e,s).next((m=>{const v=this.Ds(t,d);return this.Cs(t,v,h,m.readTime)?this.ys(e,Vf(t,null,"F")):this.vs(e,v,t,m)}))))})))))}ws(e,t,s,o){return Tv(t)||o.isEqual(xe.min())?K.resolve(null):this.ps.getDocuments(e,s).next((l=>{const h=this.Ds(t,l);return this.Cs(t,h,s,o)?K.resolve(null):(Co()<=Re.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ro(t)),this.vs(e,h,t,sR(o,gl)).next((d=>d)))}))}Ds(e,t){let s=new Et(K0(e));return t.forEach(((o,l)=>{th(e,l)&&(s=s.add(l))})),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,s){return Co()<=Re.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Ro(t)),this.ps.getDocumentsMatchingQuery(e,t,bs.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((l=>(t.forEach((h=>{l=l.insert(h.key,h)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip="LocalStore",jk=3e8;class Mk{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new nt(ke),this.xs=new Ni((l=>pp(l)),mp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ak(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function Fk(n,e,t,s){return new Mk(n,e,t,s)}async function _w(n,e){const t=Ie(n);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((l=>{const h=[],d=[];let m=Ne();for(const v of o){h.push(v.batchId);for(const w of v.mutations)m=m.add(w.key)}for(const v of l){d.push(v.batchId);for(const w of v.mutations)m=m.add(w.key)}return t.localDocuments.getDocuments(s,m).next((v=>({Ls:v,removedBatchIds:h,addedBatchIds:d})))}))}))}function Uk(n,e){const t=Ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,v,w){const T=v.batch,I=T.keys();let O=K.resolve();return I.forEach((z=>{O=O.next((()=>w.getEntry(m,z))).next((L=>{const k=v.docVersions.get(z);Fe(k!==null,48541),L.version.compareTo(k)<0&&(T.applyToRemoteDocument(L,v),L.isValidDocument()&&(L.setReadTime(v.commitVersion),w.addEntry(L)))}))})),O.next((()=>d.mutationQueue.removeMutationBatch(m,T)))})(t,s,e,l).next((()=>l.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let m=Ne();for(let v=0;v<d.mutationResults.length;++v)d.mutationResults[v].transformResults.length>0&&(m=m.add(d.batch.mutations[v].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function ww(n){const e=Ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function zk(n,e){const t=Ie(n),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const h=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const d=[];e.targetChanges.forEach(((w,T)=>{const I=o.get(T);if(!I)return;d.push(t.Pi.removeMatchingKeys(l,w.removedDocuments,T).next((()=>t.Pi.addMatchingKeys(l,w.addedDocuments,T))));let O=I.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?O=O.withResumeToken(Vt.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):w.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(w.resumeToken,s)),o=o.insert(T,O),(function(L,k,J){return L.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=jk?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0})(I,O,w)&&d.push(t.Pi.updateTargetData(l,O))}));let m=$r(),v=Ne();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,w))})),d.push(Bk(l,h,e.documentUpdates).next((w=>{m=w.ks,v=w.qs}))),!s.isEqual(xe.min())){const w=t.Pi.getLastRemoteSnapshotVersion(l).next((T=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(w)}return K.waitFor(d).next((()=>h.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,m,v))).next((()=>m))})).then((l=>(t.Ms=o,l)))}function Bk(n,e,t){let s=Ne(),o=Ne();return t.forEach((l=>s=s.add(l))),e.getEntries(n,s).next((l=>{let h=$r();return t.forEach(((d,m)=>{const v=l.get(d);m.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(d)),m.isNoDocument()&&m.version.isEqual(xe.min())?(e.removeEntry(d,m.readTime),h=h.insert(d,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||m.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(m),h=h.insert(d,m)):ce(Ip,"Ignoring outdated watch update for ",d,". Current version:",v.version," Watch version:",m.version)})),{ks:h,qs:o}}))}function $k(n,e){const t=Ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=hp),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function qk(n,e){const t=Ie(n);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Pi.getTargetData(s,e).next((l=>l?(o=l,K.resolve(o)):t.Pi.allocateTargetId(s).next((h=>(o=new xs(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function Ff(n,e,t){const s=Ie(n),o=s.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Xo(h))throw h;ce(Ip,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function Ov(n,e,t){const s=Ie(n);let o=xe.min(),l=Ne();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(m,v,w){const T=Ie(m),I=T.xs.get(w);return I!==void 0?K.resolve(T.Ms.get(I)):T.Pi.getTargetData(v,w)})(s,h,or(e)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,d.targetId).next((m=>{l=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,t?o:xe.min(),t?l:Ne()))).next((d=>(Hk(s,NR(e),d),{documents:d,Qs:l})))))}function Hk(n,e,t){let s=n.Os.get(e)||xe.min();t.forEach(((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),n.Os.set(e,s)}class Lv{constructor(){this.activeTargetIds=LR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Wk{constructor(){this.Mo=new Lv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Lv,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="ConnectivityMonitor";class Mv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(jv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(jv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ac=null;function Uf(){return ac===null?ac=(function(){return 268435456+Math.round(2147483648*Math.random())})():ac++,"0x"+ac.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af="RestConnection",Kk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Qk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Nc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,l){const h=Uf(),d=this.zo(e,t.toUriEncodedString());ce(af,`Sending RPC '${e}' ${h}:`,d,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,o,l);const{host:v}=new URL(d),w=Ci(v);return this.Jo(e,d,m,s,w).then((T=>(ce(af,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw Uo(af,`RPC '${e}' ${h} failed with error: `,T,"url: ",d,"request:",s),T}))}Ho(e,t,s,o,l,h){return this.Go(e,t,s,o,l)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Qo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),s&&s.headers.forEach(((o,l)=>e[l]=o))}zo(e,t){const s=Kk[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ut="WebChannelConnection";class Xk extends Qk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,l){const h=Uf();return new Promise(((d,m)=>{const v=new E0;v.setWithCredentials(!0),v.listenOnce(T0.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case fc.NO_ERROR:const T=v.getResponseJson();ce(Ut,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),d(T);break;case fc.TIMEOUT:ce(Ut,`RPC '${e}' ${h} timed out`),m(new ie(G.DEADLINE_EXCEEDED,"Request time out"));break;case fc.HTTP_ERROR:const I=v.getStatus();if(ce(Ut,`RPC '${e}' ${h} failed with status:`,I,"response text:",v.getResponseText()),I>0){let O=v.getResponseJson();Array.isArray(O)&&(O=O[0]);const z=O?.error;if(z&&z.status&&z.message){const L=(function(J){const W=J.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(W)>=0?W:G.UNKNOWN})(z.status);m(new ie(L,z.message))}else m(new ie(G.UNKNOWN,"Server responded with status "+v.getStatus()))}else m(new ie(G.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:h,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{ce(Ut,`RPC '${e}' ${h} completed.`)}}));const w=JSON.stringify(o);ce(Ut,`RPC '${e}' ${h} sending request:`,o),v.send(t,"POST",w,s,15)}))}T_(e,t,s){const o=Uf(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=S0(),d=I0(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(m.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,t,s),m.encodeInitMessageHeaders=!0;const w=l.join("");ce(Ut,`Creating RPC '${e}' stream ${o}: ${w}`,m);const T=h.createWebChannel(w,m);this.I_(T);let I=!1,O=!1;const z=new Yk({Yo:k=>{O?ce(Ut,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(I||(ce(Ut,`Opening RPC '${e}' stream ${o} transport.`),T.open(),I=!0),ce(Ut,`RPC '${e}' stream ${o} sending:`,k),T.send(k))},Zo:()=>T.close()}),L=(k,J,W)=>{k.listen(J,($=>{try{W($)}catch(X){setTimeout((()=>{throw X}),0)}}))};return L(T,Ja.EventType.OPEN,(()=>{O||(ce(Ut,`RPC '${e}' stream ${o} transport opened.`),z.o_())})),L(T,Ja.EventType.CLOSE,(()=>{O||(O=!0,ce(Ut,`RPC '${e}' stream ${o} transport closed`),z.a_(),this.E_(T))})),L(T,Ja.EventType.ERROR,(k=>{O||(O=!0,Uo(Ut,`RPC '${e}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),z.a_(new ie(G.UNAVAILABLE,"The operation could not be completed")))})),L(T,Ja.EventType.MESSAGE,(k=>{if(!O){const J=k.data[0];Fe(!!J,16349);const W=J,$=W?.error||W[0]?.error;if($){ce(Ut,`RPC '${e}' stream ${o} received error:`,$);const X=$.status;let oe=(function(S){const R=dt[S];if(R!==void 0)return aw(R)})(X),ae=$.message;oe===void 0&&(oe=G.INTERNAL,ae="Unknown error status: "+X+" with message "+$.message),O=!0,z.a_(new ie(oe,ae)),T.close()}else ce(Ut,`RPC '${e}' stream ${o} received:`,J),z.u_(J)}})),L(d,x0.STAT_EVENT,(k=>{k.stat===Cf.PROXY?ce(Ut,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===Cf.NOPROXY&&ce(Ut,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{z.__()}),0),z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function lf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(n){return new tk(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,t,s=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="PersistentStream";class Tw{constructor(e,t,s,o,l,h,d,m){this.Mi=e,this.S_=s,this.b_=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ew(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===G.RESOURCE_EXHAUSTED?(Br(t.toString()),Br("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new ie(G.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(Fv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ce(Fv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Jk extends Tw{constructor(e,t,s,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=sk(this.serializer,e),s=(function(l){if(!("targetChange"in l))return xe.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?xe.min():h.readTime?ar(h.readTime):xe.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=Mf(this.serializer),t.addTarget=(function(l,h){let d;const m=h.target;if(d=bf(m)?{documents:ak(l,m)}:{query:lk(l,m).ft},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=cw(l,h.resumeToken);const v=Of(l,h.expectedCount);v!==null&&(d.expectedCount=v)}else if(h.snapshotVersion.compareTo(xe.min())>0){d.readTime=Vc(l,h.snapshotVersion.toTimestamp());const v=Of(l,h.expectedCount);v!==null&&(d.expectedCount=v)}return d})(this.serializer,e);const s=ck(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=Mf(this.serializer),t.removeTarget=e,this.q_(t)}}class Zk extends Tw{constructor(e,t,s,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=ok(e.writeResults,e.commitTime),s=ar(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Mf(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>ik(this.serializer,s)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{}class tN extends eN{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ie(G.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,h])=>this.connection.Go(e,Lf(t,s),o,l,h))).catch((l=>{throw l.name==="FirebaseError"?(l.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ie(G.UNKNOWN,l.toString())}))}Ho(e,t,s,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Ho(e,Lf(t,s),o,h,d,l))).catch((h=>{throw h.name==="FirebaseError"?(h.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ie(G.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class nN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Br(t),this.aa=!1):ce("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii="RemoteStore";class rN{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{Pi(this)&&(ce(Ii,"Restarting streams for network reachability change."),await(async function(m){const v=Ie(m);v.Ea.add(4),await Ll(v),v.Ra.set("Unknown"),v.Ea.delete(4),await oh(v)})(this))}))})),this.Ra=new nN(s,o)}}async function oh(n){if(Pi(n))for(const e of n.da)await e(!0)}async function Ll(n){for(const e of n.da)await e(!1)}function xw(n,e){const t=Ie(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Rp(t)?Cp(t):Zo(t).O_()&&Ap(t,e))}function Sp(n,e){const t=Ie(n),s=Zo(t);t.Ia.delete(e),s.O_()&&Iw(t,e),t.Ia.size===0&&(s.O_()?s.L_():Pi(t)&&t.Ra.set("Unknown"))}function Ap(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Zo(n).Y_(e)}function Iw(n,e){n.Va.Ue(e),Zo(n).Z_(e)}function Cp(n){n.Va=new XR({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Zo(n).start(),n.Ra.ua()}function Rp(n){return Pi(n)&&!Zo(n).x_()&&n.Ia.size>0}function Pi(n){return Ie(n).Ea.size===0}function Sw(n){n.Va=void 0}async function sN(n){n.Ra.set("Online")}async function iN(n){n.Ia.forEach(((e,t)=>{Ap(n,e)}))}async function oN(n,e){Sw(n),Rp(n)?(n.Ra.ha(e),Cp(n)):n.Ra.set("Unknown")}async function aN(n,e,t){if(n.Ra.set("Online"),e instanceof uw&&e.state===2&&e.cause)try{await(async function(o,l){const h=l.cause;for(const d of l.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.Ia.delete(d),o.Va.removeTarget(d))})(n,e)}catch(s){ce(Ii,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Lc(n,s)}else if(e instanceof yc?n.Va.Ze(e):e instanceof lw?n.Va.st(e):n.Va.tt(e),!t.isEqual(xe.min()))try{const s=await ww(n.localStore);t.compareTo(s)>=0&&await(function(l,h){const d=l.Va.Tt(h);return d.targetChanges.forEach(((m,v)=>{if(m.resumeToken.approximateByteSize()>0){const w=l.Ia.get(v);w&&l.Ia.set(v,w.withResumeToken(m.resumeToken,h))}})),d.targetMismatches.forEach(((m,v)=>{const w=l.Ia.get(m);if(!w)return;l.Ia.set(m,w.withResumeToken(Vt.EMPTY_BYTE_STRING,w.snapshotVersion)),Iw(l,m);const T=new xs(w.target,m,v,w.sequenceNumber);Ap(l,T)})),l.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(s){ce(Ii,"Failed to raise snapshot:",s),await Lc(n,s)}}async function Lc(n,e,t){if(!Xo(e))throw e;n.Ea.add(1),await Ll(n),n.Ra.set("Offline"),t||(t=()=>ww(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ce(Ii,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await oh(n)}))}function Aw(n,e){return e().catch((t=>Lc(n,t,e)))}async function ah(n){const e=Ie(n),t=Ls(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:hp;for(;lN(e);)try{const o=await $k(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,uN(e,o)}catch(o){await Lc(e,o)}Cw(e)&&Rw(e)}function lN(n){return Pi(n)&&n.Ta.length<10}function uN(n,e){n.Ta.push(e);const t=Ls(n);t.O_()&&t.X_&&t.ea(e.mutations)}function Cw(n){return Pi(n)&&!Ls(n).x_()&&n.Ta.length>0}function Rw(n){Ls(n).start()}async function cN(n){Ls(n).ra()}async function hN(n){const e=Ls(n);for(const t of n.Ta)e.ea(t.mutations)}async function dN(n,e,t){const s=n.Ta.shift(),o=vp.from(s,e,t);await Aw(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await ah(n)}async function fN(n,e){e&&Ls(n).X_&&await(async function(s,o){if((function(h){return KR(h)&&h!==G.ABORTED})(o.code)){const l=s.Ta.shift();Ls(s).B_(),await Aw(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o))),await ah(s)}})(n,e),Cw(n)&&Rw(n)}async function Uv(n,e){const t=Ie(n);t.asyncQueue.verifyOperationInProgress(),ce(Ii,"RemoteStore received new credentials");const s=Pi(t);t.Ea.add(3),await Ll(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await oh(t)}async function pN(n,e){const t=Ie(n);e?(t.Ea.delete(2),await oh(t)):e||(t.Ea.add(2),await Ll(t),t.Ra.set("Unknown"))}function Zo(n){return n.ma||(n.ma=(function(t,s,o){const l=Ie(t);return l.sa(),new Jk(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Xo:sN.bind(null,n),t_:iN.bind(null,n),r_:oN.bind(null,n),H_:aN.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Rp(n)?Cp(n):n.Ra.set("Unknown")):(await n.ma.stop(),Sw(n))}))),n.ma}function Ls(n){return n.fa||(n.fa=(function(t,s,o){const l=Ie(t);return l.sa(),new Zk(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:cN.bind(null,n),r_:fN.bind(null,n),ta:hN.bind(null,n),na:dN.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await ah(n)):(await n.fa.stop(),n.Ta.length>0&&(ce(Ii,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const h=Date.now()+s,d=new kp(e,t,h,o,l);return d.start(s),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Np(n,e){if(Br("AsyncQueue",`${e}: ${n}`),Xo(n))return new ie(G.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{static emptySet(e){return new Oo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ge.comparator(t.key,s.key):(t,s)=>ge.comparator(t.key,s.key),this.keyedMap=Za(),this.sortedSet=new nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Oo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Oo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(){this.ga=new nt(ge.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class Ho{constructor(e,t,s,o,l,h,d,m,v){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=v}static fromInitialDocuments(e,t,s,o,l){const h=[];return t.forEach((d=>{h.push({type:0,doc:d})})),new Ho(e,t,Oo.emptySet(t),h,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&eh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class gN{constructor(){this.queries=Bv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Ie(t),l=o.queries;o.queries=Bv(),l.forEach(((h,d)=>{for(const m of d.Sa)m.onError(s)}))})(this,new ie(G.ABORTED,"Firestore shutting down"))}}function Bv(){return new Ni((n=>G0(n)),eh)}async function kw(n,e){const t=Ie(n);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(s=2):(l=new mN,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=Np(h,`Initialization of query '${Ro(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Pp(t)}async function Nw(n,e){const t=Ie(n),s=e.query;let o=3;const l=t.queries.get(s);if(l){const h=l.Sa.indexOf(e);h>=0&&(l.Sa.splice(h,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function yN(n,e){const t=Ie(n);let s=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const d of h.Sa)d.Fa(o)&&(s=!0);h.wa=o}}s&&Pp(t)}function vN(n,e,t){const s=Ie(n),o=s.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);s.queries.delete(e)}function Pp(n){n.Ca.forEach((e=>{e.next()}))}var zf,$v;($v=zf||(zf={})).Ma="default",$v.Cache="cache";class Pw{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ho(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Ho.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==zf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e){this.key=e}}class Dw{constructor(e){this.key=e}}class _N{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ne(),this.mutatedKeys=Ne(),this.eu=K0(e),this.tu=new Oo(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new zv,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,T)=>{const I=o.get(w),O=th(this.query,T)?T:null,z=!!I&&this.mutatedKeys.has(I.key),L=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let k=!1;I&&O?I.data.isEqual(O.data)?z!==L&&(s.track({type:3,doc:O}),k=!0):this.su(I,O)||(s.track({type:2,doc:O}),k=!0,(m&&this.eu(O,m)>0||v&&this.eu(O,v)<0)&&(d=!0)):!I&&O?(s.track({type:0,doc:O}),k=!0):I&&!O&&(s.track({type:1,doc:I}),k=!0,(m||v)&&(d=!0)),k&&(O?(h=h.add(O),l=L?l.add(w):l.delete(w)):(h=h.delete(w),l=l.delete(w)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),l=l.delete(w.key),s.track({type:1,doc:w})}return{tu:h,iu:s,Cs:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((w,T)=>(function(O,z){const L=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:k})}};return L(O)-L(z)})(w.type,T.type)||this.eu(w.doc,T.doc))),this.ou(s),o=o??!1;const d=t&&!o?this._u():[],m=this.Xa.size===0&&this.current&&!o?1:0,v=m!==this.Za;return this.Za=m,h.length!==0||v?{snapshot:new Ho(this.query,e.tu,l,h,e.mutatedKeys,m===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new zv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ne(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new Dw(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new bw(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=Ne();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ho.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const bp="SyncEngine";class wN{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class EN{constructor(e){this.key=e,this.hu=!1}}class TN{constructor(e,t,s,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Ni((d=>G0(d)),eh),this.Iu=new Map,this.Eu=new Set,this.du=new nt(ge.comparator),this.Au=new Map,this.Ru=new Ep,this.Vu={},this.mu=new Map,this.fu=qo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function xN(n,e,t=!0){const s=Fw(n);let o;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await Vw(s,e,t,!0),o}async function IN(n,e){const t=Fw(n);await Vw(t,e,!0,!1)}async function Vw(n,e,t,s){const o=await qk(n.localStore,or(e)),l=o.targetId,h=n.sharedClientState.addLocalQueryTarget(l,t);let d;return s&&(d=await SN(n,e,l,h==="current",o.resumeToken)),n.isPrimaryClient&&t&&xw(n.remoteStore,o),d}async function SN(n,e,t,s,o){n.pu=(T,I,O)=>(async function(L,k,J,W){let $=k.view.ru(J);$.Cs&&($=await Ov(L.localStore,k.query,!1).then((({documents:b})=>k.view.ru(b,$))));const X=W&&W.targetChanges.get(k.targetId),oe=W&&W.targetMismatches.get(k.targetId)!=null,ae=k.view.applyChanges($,L.isPrimaryClient,X,oe);return Hv(L,k.targetId,ae.au),ae.snapshot})(n,T,I,O);const l=await Ov(n.localStore,e,!0),h=new _N(e,l.Qs),d=h.ru(l.documents),m=Ol.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",o),v=h.applyChanges(d,n.isPrimaryClient,m);Hv(n,t,v.au);const w=new wN(e,t,h);return n.Tu.set(e,w),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),v.snapshot}async function AN(n,e,t){const s=Ie(n),o=s.Tu.get(e),l=s.Iu.get(o.targetId);if(l.length>1)return s.Iu.set(o.targetId,l.filter((h=>!eh(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ff(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Sp(s.remoteStore,o.targetId),Bf(s,o.targetId)})).catch(Yo)):(Bf(s,o.targetId),await Ff(s.localStore,o.targetId,!0))}async function CN(n,e){const t=Ie(n),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Sp(t.remoteStore,s.targetId))}async function RN(n,e,t){const s=ON(n);try{const o=await(function(h,d){const m=Ie(h),v=Ye.now(),w=d.reduce(((O,z)=>O.add(z.key)),Ne());let T,I;return m.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let z=$r(),L=Ne();return m.Ns.getEntries(O,w).next((k=>{z=k,z.forEach(((J,W)=>{W.isValidDocument()||(L=L.add(J))}))})).next((()=>m.localDocuments.getOverlayedDocuments(O,z))).next((k=>{T=k;const J=[];for(const W of d){const $=$R(W,T.get(W.key).overlayedDocument);$!=null&&J.push(new Fs(W.key,$,F0($.value.mapValue),Bn.exists(!0)))}return m.mutationQueue.addMutationBatch(O,v,J,d)})).next((k=>{I=k;const J=k.applyToLocalDocumentSet(T,L);return m.documentOverlayCache.saveOverlays(O,k.batchId,J)}))})).then((()=>({batchId:I.batchId,changes:Y0(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,d,m){let v=h.Vu[h.currentUser.toKey()];v||(v=new nt(ke)),v=v.insert(d,m),h.Vu[h.currentUser.toKey()]=v})(s,o.batchId,t),await jl(s,o.changes),await ah(s.remoteStore)}catch(o){const l=Np(o,"Failed to persist write");t.reject(l)}}async function Ow(n,e){const t=Ie(n);try{const s=await zk(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const h=t.Au.get(l);h&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Fe(h.hu,14607):o.removedDocuments.size>0&&(Fe(h.hu,42227),h.hu=!1))})),await jl(t,s,e)}catch(s){await Yo(s)}}function qv(n,e,t){const s=Ie(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((l,h)=>{const d=h.view.va(e);d.snapshot&&o.push(d.snapshot)})),(function(h,d){const m=Ie(h);m.onlineState=d;let v=!1;m.queries.forEach(((w,T)=>{for(const I of T.Sa)I.va(d)&&(v=!0)})),v&&Pp(m)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function kN(n,e,t){const s=Ie(n);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),l=o&&o.key;if(l){let h=new nt(ge.comparator);h=h.insert(l,Bt.newNoDocument(l,xe.min()));const d=Ne().add(l),m=new sh(xe.min(),new Map,new nt(ke),h,d);await Ow(s,m),s.du=s.du.remove(l),s.Au.delete(e),Dp(s)}else await Ff(s.localStore,e,!1).then((()=>Bf(s,e,t))).catch(Yo)}async function NN(n,e){const t=Ie(n),s=e.batch.batchId;try{const o=await Uk(t.localStore,e);jw(t,s,null),Lw(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await jl(t,o)}catch(o){await Yo(o)}}async function PN(n,e,t){const s=Ie(n);try{const o=await(function(h,d){const m=Ie(h);return m.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let w;return m.mutationQueue.lookupMutationBatch(v,d).next((T=>(Fe(T!==null,37113),w=T.keys(),m.mutationQueue.removeMutationBatch(v,T)))).next((()=>m.mutationQueue.performConsistencyCheck(v))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(v,w,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w))).next((()=>m.localDocuments.getDocuments(v,w)))}))})(s.localStore,e);jw(s,e,t),Lw(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await jl(s,o)}catch(o){await Yo(o)}}function Lw(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function jw(n,e,t){const s=Ie(n);let o=s.Vu[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Bf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((s=>{n.Ru.containsKey(s)||Mw(n,s)}))}function Mw(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Sp(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Dp(n))}function Hv(n,e,t){for(const s of t)s instanceof bw?(n.Ru.addReference(s.key,e),bN(n,s)):s instanceof Dw?(ce(bp,"Document no longer in limbo: "+s.key),n.Ru.removeReference(s.key,e),n.Ru.containsKey(s.key)||Mw(n,s.key)):Ee(19791,{wu:s})}function bN(n,e){const t=e.key,s=t.path.canonicalString();n.du.get(t)||n.Eu.has(s)||(ce(bp,"New document in limbo: "+t),n.Eu.add(s),Dp(n))}function Dp(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ge(We.fromString(e)),s=n.fu.next();n.Au.set(s,new EN(t)),n.du=n.du.insert(t,s),xw(n.remoteStore,new xs(or(gp(t.path)),s,"TargetPurposeLimboResolution",Xc.ce))}}async function jl(n,e,t){const s=Ie(n),o=[],l=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,m)=>{h.push(s.pu(m,e,t).then((v=>{if((v||t)&&s.isPrimaryClient){const w=v?!v.fromCache:t?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,w?"current":"not-current")}if(v){o.push(v);const w=xp.As(m.targetId,v);l.push(w)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(m,v){const w=Ie(m);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>K.forEach(v,(I=>K.forEach(I.Es,(O=>w.persistence.referenceDelegate.addReference(T,I.targetId,O))).next((()=>K.forEach(I.ds,(O=>w.persistence.referenceDelegate.removeReference(T,I.targetId,O)))))))))}catch(T){if(!Xo(T))throw T;ce(Ip,"Failed to update sequence numbers: "+T)}for(const T of v){const I=T.targetId;if(!T.fromCache){const O=w.Ms.get(I),z=O.snapshotVersion,L=O.withLastLimboFreeSnapshotVersion(z);w.Ms=w.Ms.insert(I,L)}}})(s.localStore,l))}async function DN(n,e){const t=Ie(n);if(!t.currentUser.isEqual(e)){ce(bp,"User change. New user:",e.toKey());const s=await _w(t.localStore,e);t.currentUser=e,(function(l,h){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new ie(G.CANCELLED,h))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await jl(t,s.Ls)}}function VN(n,e){const t=Ie(n),s=t.Au.get(e);if(s&&s.hu)return Ne().add(s.key);{let o=Ne();const l=t.Iu.get(e);if(!l)return o;for(const h of l){const d=t.Tu.get(h);o=o.unionWith(d.view.nu)}return o}}function Fw(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ow.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kN.bind(null,e),e.Pu.H_=yN.bind(null,e.eventManager),e.Pu.yu=vN.bind(null,e.eventManager),e}function ON(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=NN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PN.bind(null,e),e}class jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ih(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Fk(this.persistence,new Lk,e.initialUser,this.serializer)}Cu(e){return new vw(Tp.mi,this.serializer)}Du(e){return new Wk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jc.provider={build:()=>new jc};class LN extends jc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Fe(this.persistence.referenceDelegate instanceof Oc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Ek(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new vw((s=>Oc.mi(s,t)),this.serializer)}}class $f{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>qv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=DN.bind(null,this.syncEngine),await pN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new gN})()}createDatastore(e){const t=ih(e.databaseInfo.databaseId),s=(function(l){return new Xk(l)})(e.databaseInfo);return(function(l,h,d,m){return new tN(l,h,d,m)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,l,h,d){return new rN(s,o,l,h,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>qv(this.syncEngine,t,0)),(function(){return Mv.v()?new Mv:new Gk})())}createSyncEngine(e,t){return(function(o,l,h,d,m,v,w){const T=new TN(o,l,h,d,m,v);return w&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=Ie(t);ce(Ii,"RemoteStore shutting down."),s.Ea.add(5),await Ll(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}$f.provider={build:()=>new $f};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Br("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js="FirestoreClient";class jN{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=zt.UNAUTHENTICATED,this.clientId=cp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async h=>{ce(js,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(ce(js,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Np(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function uf(n,e){n.asyncQueue.verifyOperationInProgress(),ce(js,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener((async o=>{s.isEqual(o)||(await _w(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Wv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await MN(n);ce(js,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((s=>Uv(e.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,o)=>Uv(e.remoteStore,o))),n._onlineComponents=e}async function MN(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ce(js,"Using user provided OfflineComponentProvider");try{await uf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===G.FAILED_PRECONDITION||o.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Uo("Error using user provided cache. Falling back to memory cache: "+t),await uf(n,new jc)}}else ce(js,"Using default OfflineComponentProvider"),await uf(n,new LN(void 0));return n._offlineComponents}async function zw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ce(js,"Using user provided OnlineComponentProvider"),await Wv(n,n._uninitializedComponentsProvider._online)):(ce(js,"Using default OnlineComponentProvider"),await Wv(n,new $f))),n._onlineComponents}function FN(n){return zw(n).then((e=>e.syncEngine))}async function Bw(n){const e=await zw(n),t=e.eventManager;return t.onListen=xN.bind(null,e.syncEngine),t.onUnlisten=AN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=IN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=CN.bind(null,e.syncEngine),t}function UN(n,e,t={}){const s=new Mr;return n.asyncQueue.enqueueAndForget((async()=>(function(l,h,d,m,v){const w=new Uw({next:I=>{w.Nu(),h.enqueueAndForget((()=>Nw(l,T)));const O=I.docs.has(d);!O&&I.fromCache?v.reject(new ie(G.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&I.fromCache&&m&&m.source==="server"?v.reject(new ie(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(I)},error:I=>v.reject(I)}),T=new Pw(gp(d.path),w,{includeMetadataChanges:!0,qa:!0});return kw(l,T)})(await Bw(n),n.asyncQueue,e,t,s))),s.promise}function zN(n,e,t={}){const s=new Mr;return n.asyncQueue.enqueueAndForget((async()=>(function(l,h,d,m,v){const w=new Uw({next:I=>{w.Nu(),h.enqueueAndForget((()=>Nw(l,T))),I.fromCache&&m.source==="server"?v.reject(new ie(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(I)},error:I=>v.reject(I)}),T=new Pw(d,w,{includeMetadataChanges:!0,qa:!0});return kw(l,T)})(await Bw(n),n.asyncQueue,e,t,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="firestore.googleapis.com",Kv=!0;class Qv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ie(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qw,this.ssl=Kv}else this.host=e.host,this.ssl=e.ssl??Kv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_k)throw new ie(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$w(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ie(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ie(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ie(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lh{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new GC;switch(s.type){case"firstParty":return new XC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ie(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=Gv.get(t);s&&(ce("ComponentProvider","Removing Datastore"),Gv.delete(t),s.terminate())})(this),Promise.resolve()}}function BN(n,e,t,s={}){n=cr(n,lh);const o=Ci(e),l=n._getSettings(),h={...l,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;o&&(Yf(`https://${d}`),Xf("Firestore",!0)),l.host!==qw&&l.host!==d&&Uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:o,emulatorOptions:s};if(!_i(m,h)&&(n._setSettings(m),s.mockUserToken)){let v,w;if(typeof s.mockUserToken=="string")v=s.mockUserToken,w=zt.MOCK_USER;else{v=V_(s.mockUserToken,n._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ie(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new zt(T)}n._authCredentials=new KC(new C0(v,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new bi(this.firestore,e,this._query)}}class lt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lt(this.firestore,e,this._key)}toJSON(){return{type:lt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Dl(t,lt._jsonSchema))return new lt(e,s||null,new ge(We.fromString(t.referencePath)))}}lt._jsonSchemaVersion="firestore/documentReference/1.0",lt._jsonSchema={type:pt("string",lt._jsonSchemaVersion),referencePath:pt("string")};class Rs extends bi{constructor(e,t,s){super(e,t,gp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lt(this.firestore,null,new ge(e))}withConverter(e){return new Rs(this.firestore,e,this._path)}}function Hw(n,e,...t){if(n=ut(n),R0("collection","path",e),n instanceof lh){const s=We.fromString(e,...t);return lv(s),new Rs(n,null,s)}{if(!(n instanceof lt||n instanceof Rs))throw new ie(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(We.fromString(e,...t));return lv(s),new Rs(n.firestore,null,s)}}function Fr(n,e,...t){if(n=ut(n),arguments.length===1&&(e=cp.newId()),R0("doc","path",e),n instanceof lh){const s=We.fromString(e,...t);return av(s),new lt(n,null,new ge(s))}{if(!(n instanceof lt||n instanceof Rs))throw new ie(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(We.fromString(e,...t));return av(s),new lt(n.firestore,n instanceof Rs?n.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="AsyncQueue";class Xv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ew(this,"async_queue_retry"),this._c=()=>{const s=lf();s&&ce(Yv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=lf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=lf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Mr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Xo(e))throw e;ce(Yv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Br("INTERNAL UNHANDLED ERROR: ",Jv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=kp.createAndSchedule(this,e,t,s,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:Jv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Jv(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class ea extends lh{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new Xv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Xv(e),this._firestoreClient=void 0,await e}}}function $N(n,e){const t=typeof n=="object"?n:ep(),s=typeof n=="string"?n:Nc,o=Wc(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=P_("firestore");l&&BN(o,...l)}return o}function Vp(n){if(n._terminated)throw new ie(G.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||qN(n),n._firestoreClient}function qN(n){const e=n._freezeSettings(),t=(function(o,l,h,d){return new pR(o,l,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,$w(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new jN(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this._byteString=e}static fromBase64String(e){try{return new In(Vt.fromBase64String(e))}catch(t){throw new ie(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new In(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:In._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Dl(e,In._jsonSchema))return In.fromBase64String(e.bytes)}}In._jsonSchemaVersion="firestore/bytes/1.0",In._jsonSchema={type:pt("string",In._jsonSchemaVersion),bytes:pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ie(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ie(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ie(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:lr._jsonSchemaVersion}}static fromJSON(e){if(Dl(e,lr._jsonSchema))return new lr(e.latitude,e.longitude)}}lr._jsonSchemaVersion="firestore/geoPoint/1.0",lr._jsonSchema={type:pt("string",lr._jsonSchemaVersion),latitude:pt("number"),longitude:pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ur._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Dl(e,ur._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ur(e.vectorValues);throw new ie(G.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ur._jsonSchemaVersion="firestore/vectorValue/1.0",ur._jsonSchema={type:pt("string",ur._jsonSchemaVersion),vectorValues:pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=/^__.*__$/;class WN{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Fs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Vl(e,this.data,t,this.fieldTransforms)}}class Ww{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Fs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Gw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:n})}}class Op{constructor(e,t,s,o,l,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Op({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Mc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Gw(this.Ac)&&HN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class GN{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||ih(e)}Cc(e,t,s,o=!1){return new Op({Ac:e,methodName:t,Dc:s,path:Dt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hh(n){const e=n._freezeSettings(),t=ih(n._databaseId);return new GN(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Kw(n,e,t,s,o,l={}){const h=n.Cc(l.merge||l.mergeFields?2:0,e,t,o);jp("Data must be an object, but it was:",h,s);const d=Qw(s,h);let m,v;if(l.merge)m=new fn(h.fieldMask),v=h.fieldTransforms;else if(l.mergeFields){const w=[];for(const T of l.mergeFields){const I=qf(e,T,t);if(!h.contains(I))throw new ie(G.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);Xw(w,I)||w.push(I)}m=new fn(w),v=h.fieldTransforms.filter((T=>m.covers(T.field)))}else m=null,v=h.fieldTransforms;return new WN(new rn(d),m,v)}class dh extends ch{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dh}}class Lp extends ch{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new xl(e.serializer,Z0(e.serializer,this.Fc));return new FR(e.path,t)}isEqual(e){return e instanceof Lp&&this.Fc===e.Fc}}function KN(n,e,t,s){const o=n.Cc(1,e,t);jp("Data must be an object, but it was:",o,s);const l=[],h=rn.empty();Ms(s,((m,v)=>{const w=Mp(e,m,t);v=ut(v);const T=o.yc(w);if(v instanceof dh)l.push(w);else{const I=Ml(v,T);I!=null&&(l.push(w),h.set(w,I))}}));const d=new fn(l);return new Ww(h,d,o.fieldTransforms)}function QN(n,e,t,s,o,l){const h=n.Cc(1,e,t),d=[qf(e,s,t)],m=[o];if(l.length%2!=0)throw new ie(G.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<l.length;I+=2)d.push(qf(e,l[I])),m.push(l[I+1]);const v=[],w=rn.empty();for(let I=d.length-1;I>=0;--I)if(!Xw(v,d[I])){const O=d[I];let z=m[I];z=ut(z);const L=h.yc(O);if(z instanceof dh)v.push(O);else{const k=Ml(z,L);k!=null&&(v.push(O),w.set(O,k))}}const T=new fn(v);return new Ww(w,T,h.fieldTransforms)}function YN(n,e,t,s=!1){return Ml(t,n.Cc(s?4:3,e))}function Ml(n,e){if(Yw(n=ut(n)))return jp("Unsupported field value:",e,n),Qw(n,e);if(n instanceof ch)return(function(s,o){if(!Gw(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const l=[];let h=0;for(const d of s){let m=Ml(d,o.wc(h));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),h++}return{arrayValue:{values:l}}})(n,e)}return(function(s,o){if((s=ut(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Z0(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Ye.fromDate(s);return{timestampValue:Vc(o.serializer,l)}}if(s instanceof Ye){const l=new Ye(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Vc(o.serializer,l)}}if(s instanceof lr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof In)return{bytesValue:cw(o.serializer,s._byteString)};if(s instanceof lt){const l=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(l))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:wp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ur)return(function(h,d){return{mapValue:{fields:{[j0]:{stringValue:M0},[Pc]:{arrayValue:{values:h.toArray().map((v=>{if(typeof v!="number")throw d.Sc("VectorValues must only contain numeric values.");return yp(d.serializer,v)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Yc(s)}`)})(n,e)}function Qw(n,e){const t={};return P0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ms(n,((s,o)=>{const l=Ml(o,e.mc(s));l!=null&&(t[s]=l)})),{mapValue:{fields:t}}}function Yw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ye||n instanceof lr||n instanceof In||n instanceof lt||n instanceof ch||n instanceof ur)}function jp(n,e,t){if(!Yw(t)||!k0(t)){const s=Yc(t);throw s==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+s)}}function qf(n,e,t){if((e=ut(e))instanceof uh)return e._internalPath;if(typeof e=="string")return Mp(n,e);throw Mc("Field path arguments must be of type string or ",n,!1,void 0,t)}const XN=new RegExp("[~\\*/\\[\\]]");function Mp(n,e,t){if(e.search(XN)>=0)throw Mc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new uh(...e.split("."))._internalPath}catch{throw Mc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Mc(n,e,t,s,o){const l=s&&!s.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||h)&&(m+=" (found",l&&(m+=` in field ${s}`),h&&(m+=` in document ${o}`),m+=")"),new ie(G.INVALID_ARGUMENT,d+n+m)}function Xw(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new JN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(fh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class JN extends Jw{data(){return super.data()}}function fh(n,e){return typeof e=="string"?Mp(n,e):e instanceof uh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ie(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fp{}class Zw extends Fp{}function eE(n,e,...t){let s=[];e instanceof Fp&&s.push(e),s=s.concat(t),(function(l){const h=l.filter((m=>m instanceof Up)).length,d=l.filter((m=>m instanceof ph)).length;if(h>1||h>0&&d>0)throw new ie(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)n=o._apply(n);return n}class ph extends Zw{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new ph(e,t,s)}_apply(e){const t=this._parse(e);return nE(e._query,t),new bi(e.firestore,e.converter,Df(e._query,t))}_parse(e){const t=hh(e.firestore);return(function(l,h,d,m,v,w,T){let I;if(v.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new ie(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){e_(T,w);const z=[];for(const L of T)z.push(Zv(m,l,L));I={arrayValue:{values:z}}}else I=Zv(m,l,T)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||e_(T,w),I=YN(d,h,T,w==="in"||w==="not-in");return ft.create(v,w,I)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function tE(n,e,t){const s=e,o=fh("where",n);return ph._create(o,s,t)}class Up extends Fp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Up(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:qn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,l){let h=o;const d=l.getFlattenedFilters();for(const m of d)nE(h,m),h=Df(h,m)})(e._query,t),new bi(e.firestore,e.converter,Df(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class zp extends Zw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new zp(e,t)}_apply(e){const t=(function(o,l,h){if(o.startAt!==null)throw new ie(G.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ie(G.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wl(l,h)})(e._query,this._field,this._direction);return new bi(e.firestore,e.converter,(function(o,l){const h=o.explicitOrderBy.concat([l]);return new Jo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function eP(n,e="asc"){const t=e,s=fh("orderBy",n);return zp._create(s,t)}function Zv(n,e,t){if(typeof(t=ut(t))=="string"){if(t==="")throw new ie(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!W0(e)&&t.indexOf("/")!==-1)throw new ie(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(We.fromString(t));if(!ge.isDocumentKey(s))throw new ie(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return gv(n,new ge(s))}if(t instanceof lt)return gv(n,t._key);throw new ie(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yc(t)}.`)}function e_(n,e){if(!Array.isArray(n)||n.length===0)throw new ie(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nE(n,e){const t=(function(o,l){for(const h of o)for(const d of h.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ie(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ie(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class tP{convertValue(e,t="none"){switch(Os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Ms(e,((o,l)=>{s[o]=this.convertValue(l,t)})),s}convertVectorValue(e){const t=e.fields?.[Pc].arrayValue?.values?.map((s=>at(s.doubleValue)));return new ur(t)}convertGeoPoint(e){return new lr(at(e.latitude),at(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Zc(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(yl(e));default:return null}}convertTimestamp(e){const t=Ds(e);return new Ye(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=We.fromString(e);Fe(gw(s),9688,{name:e});const o=new vl(s.get(1),s.get(3)),l=new ge(s.popFirst(5));return o.isEqual(t)||Br(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(n,e,t){let s;return s=n?n.toFirestore(e):e,s}class tl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yi extends Jw{constructor(e,t,s,o,l,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new vc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(fh("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ie(G.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=yi._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}yi._jsonSchemaVersion="firestore/documentSnapshot/1.0",yi._jsonSchema={type:pt("string",yi._jsonSchemaVersion),bundleSource:pt("string","DocumentSnapshot"),bundleName:pt("string"),bundle:pt("string")};class vc extends yi{data(e={}){return super.data(e)}}class Lo{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new tl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new vc(this._firestore,this._userDataWriter,s.key,s,new tl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ie(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((d=>{const m=new vc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new tl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new vc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new tl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,w=-1;return d.type!==0&&(v=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),w=h.indexOf(d.doc.key)),{type:nP(d.type),doc:m,oldIndex:v,newIndex:w}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ie(G.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Lo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=cp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function nP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(n){n=cr(n,lt);const e=cr(n.firestore,ea);return UN(Vp(e),n._key).then((t=>iP(e,n,t)))}Lo._jsonSchemaVersion="firestore/querySnapshot/1.0",Lo._jsonSchema={type:pt("string",Lo._jsonSchemaVersion),bundleSource:pt("string","QuerySnapshot"),bundleName:pt("string"),bundle:pt("string")};class sE extends tP{constructor(e){super(),this.firestore=e}convertBytes(e){return new In(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new lt(this.firestore,null,t)}}function iE(n){n=cr(n,bi);const e=cr(n.firestore,ea),t=Vp(e),s=new sE(e);return ZN(n._query),zN(t,n._query).then((o=>new Lo(e,s,n,o)))}function sP(n,e,t){n=cr(n,lt);const s=cr(n.firestore,ea),o=rE(n.converter,e);return Bp(s,[Kw(hh(s),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Bn.none())])}function jo(n,e,t,...s){n=cr(n,lt);const o=cr(n.firestore,ea),l=hh(o);let h;return h=typeof(e=ut(e))=="string"||e instanceof uh?QN(l,"updateDoc",n._key,e,t,s):KN(l,"updateDoc",n._key,e),Bp(o,[h.toMutation(n._key,Bn.exists(!0))])}function oE(n,e){const t=cr(n.firestore,ea),s=Fr(n),o=rE(n.converter,e);return Bp(t,[Kw(hh(n.firestore),"addDoc",s._key,o,n.converter!==null,{}).toMutation(s._key,Bn.exists(!1))]).then((()=>s))}function Bp(n,e){return(function(s,o){const l=new Mr;return s.asyncQueue.enqueueAndForget((async()=>RN(await FN(s),o,l))),l.promise})(Vp(n),e)}function iP(n,e,t){const s=t.docs.get(e._key),o=new sE(n);return new yi(n,o,e._key,s,new tl(t.hasPendingWrites,t.fromCache),e.converter)}function Fc(n){return new Lp("increment",n)}(function(e,t=!0){(function(o){Qo=o})(Ri),wi(new Ps("firestore",((s,{instanceIdentifier:o,options:l})=>{const h=s.getProvider("app").getImmediate(),d=new ea(new QC(s.getProvider("auth-internal")),new JC(h,s.getProvider("app-check-internal")),(function(v,w){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ie(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vl(v.options.projectId,w)})(h,o),h);return l={useFetchStreams:t,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),rr(rv,sv,e),rr(rv,sv,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="firebasestorage.googleapis.com",oP="storageBucket",aP=120*1e3,lP=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends fr{constructor(e,t,s=0){super(cf(e),`Firebase Storage: ${t} (${cf(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return cf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var dr;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(dr||(dr={}));function cf(n){return"storage/"+n}function uP(){const n="An unknown error occurred, please check the error payload for server response.";return new mr(dr.UNKNOWN,n)}function cP(){return new mr(dr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function hP(){return new mr(dr.CANCELED,"User canceled the upload/download.")}function dP(n){return new mr(dr.INVALID_URL,"Invalid URL '"+n+"'.")}function fP(n){return new mr(dr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function t_(n){return new mr(dr.INVALID_ARGUMENT,n)}function lE(){return new mr(dr.APP_DELETED,"The Firebase app was deleted.")}function pP(n){return new mr(dr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=zn.makeFromUrl(e,t)}catch{return new zn(e,"")}if(s.path==="")return s;throw fP(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function l(X){X.path.charAt(X.path.length-1)==="/"&&(X.path_=X.path_.slice(0,-1))}const h="(/(.*))?$",d=new RegExp("^gs://"+o+h,"i"),m={bucket:1,path:3};function v(X){X.path_=decodeURIComponent(X.path)}const w="v[A-Za-z0-9_]+",T=t.replace(/[.]/g,"\\."),I="(/([^?#]*).*)?$",O=new RegExp(`^https?://${T}/${w}/b/${o}/o${I}`,"i"),z={bucket:1,path:3},L=t===aE?"(?:storage.googleapis.com|storage.cloud.google.com)":t,k="([^?#]*)",J=new RegExp(`^https?://${L}/${o}/${k}`,"i"),$=[{regex:d,indices:m,postModify:l},{regex:O,indices:z,postModify:v},{regex:J,indices:{bucket:1,path:2},postModify:v}];for(let X=0;X<$.length;X++){const oe=$[X],ae=oe.regex.exec(e);if(ae){const b=ae[oe.indices.bucket];let S=ae[oe.indices.path];S||(S=""),s=new zn(b,S),oe.postModify(s);break}}if(s==null)throw dP(e);return s}}class mP{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(n,e,t){let s=1,o=null,l=null,h=!1,d=0;function m(){return d===2}let v=!1;function w(...k){v||(v=!0,e.apply(null,k))}function T(k){o=setTimeout(()=>{o=null,n(O,m())},k)}function I(){l&&clearTimeout(l)}function O(k,...J){if(v){I();return}if(k){I(),w.call(null,k,...J);return}if(m()||h){I(),w.call(null,k,...J);return}s<64&&(s*=2);let $;d===1?(d=2,$=0):$=(s+Math.random())*1e3,T($)}let z=!1;function L(k){z||(z=!0,I(),!v&&(o!==null?(k||(d=2),clearTimeout(o),T(0)):k||(d=1)))}return T(0),l=setTimeout(()=>{h=!0,L(!0)},t),L}function yP(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(n){return n!==void 0}function n_(n,e,t,s){if(s<e)throw t_(`Invalid value for '${n}'. Expected ${e} or greater.`);if(s>t)throw t_(`Invalid value for '${n}'. Expected ${t} or less.`)}function _P(n){const e=encodeURIComponent;let t="?";for(const s in n)if(n.hasOwnProperty(s)){const o=e(s)+"="+e(n[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var Uc;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Uc||(Uc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wP(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e,t,s,o,l,h,d,m,v,w,T,I=!0,O=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=h,this.callback_=d,this.errorCallback_=m,this.timeout_=v,this.progressCallback_=w,this.connectionFactory_=T,this.retry=I,this.isUsingEmulator=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((z,L)=>{this.resolve_=z,this.reject_=L,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new lc(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const h=d=>{const m=d.loaded,v=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,v)};this.progressCallback_!==null&&l.addUploadProgressListener(h),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(h),this.pendingConnection_=null;const d=l.getErrorCode()===Uc.NO_ERROR,m=l.getStatus();if(!d||wP(m,this.additionalRetryCodes_)&&this.retry){const w=l.getErrorCode()===Uc.ABORT;s(!1,new lc(!1,null,w));return}const v=this.successCodes_.indexOf(m)!==-1;s(!0,new lc(v,l))})},t=(s,o)=>{const l=this.resolve_,h=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const m=this.callback_(d,d.getResponse());vP(m)?l(m):l()}catch(m){h(m)}else if(d!==null){const m=uP();m.serverResponse=d.getErrorText(),this.errorCallback_?h(this.errorCallback_(d,m)):h(m)}else if(o.canceled){const m=this.appDelete_?lE():hP();h(m)}else{const m=cP();h(m)}};this.canceled_?t(!1,new lc(!1,null,!0)):this.backoffId_=gP(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&yP(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class lc{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function TP(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function xP(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function IP(n,e){e&&(n["X-Firebase-GMPID"]=e)}function SP(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function AP(n,e,t,s,o,l,h=!0,d=!1){const m=_P(n.urlParams),v=n.url+m,w=Object.assign({},n.headers);return IP(w,e),TP(w,t),xP(w,l),SP(w,s),new EP(v,n.method,w,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,h,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function RP(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,t){this._service=e,t instanceof zn?this._location=t:this._location=zn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new zc(e,t)}get root(){const e=new zn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return RP(this._location.path)}get storage(){return this._service}get parent(){const e=CP(this._location.path);if(e===null)return null;const t=new zn(this._location.bucket,e);return new zc(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw pP(e)}}function r_(n,e){const t=e?.[oP];return t==null?null:zn.makeFromBucketSpec(t,n)}function kP(n,e,t,s={}){n.host=`${e}:${t}`;const o=Ci(e);o&&(Yf(`https://${n.host}/b`),Xf("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:l}=s;l&&(n._overrideAuthToken=typeof l=="string"?l:V_(l,n.app.options.projectId))}class NP{constructor(e,t,s,o,l,h=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=l,this._isUsingEmulator=h,this._bucket=null,this._host=aE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=aP,this._maxUploadRetryTime=lP,this._requests=new Set,o!=null?this._bucket=zn.makeFromBucketSpec(o,this._host):this._bucket=r_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=zn.makeFromBucketSpec(this._url,e):this._bucket=r_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){n_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){n_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new zc(this,e)}_makeRequest(e,t,s,o,l=!0){if(this._deleted)return new mP(lE());{const h=AP(e,this._appId,s,o,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const s_="@firebase/storage",i_="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="storage";function PP(n=ep(),e){n=ut(n);const s=Wc(n,uE).getImmediate({identifier:e}),o=P_("storage");return o&&bP(s,...o),s}function bP(n,e,t,s={}){kP(n,e,t,s)}function DP(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),s=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new NP(t,s,o,e,Ri)}function VP(){wi(new Ps(uE,DP,"PUBLIC").setMultipleInstances(!0)),rr(s_,i_,""),rr(s_,i_,"esm2020")}VP();const cE={apiKey:"AIzaSyDDE4qxLPW5pNm9JvQcqQqnelS61KDGDBE",authDomain:"xariif-scholar.firebaseapp.com",projectId:"xariif-scholar",storageBucket:"xariif-scholar.firebasestorage.app",messagingSenderId:"762411694895",appId:"1:762411694895:web:eb1665de57da8edca63fda"},OP=()=>{const e=["apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId"].filter(t=>!cE[t]);if(e.length>0)throw console.error("Missing Firebase configuration fields:",e),console.error("Please check your .env file and ensure all Firebase fields are provided"),new Error(`Missing Firebase configuration: ${e.join(", ")}`)};let Ao=null,Bc=null,$c=null,o_=null;const $p=()=>{try{return Ao||(OP(),Ao=j_(cE),Bc=$C(Ao),$c=$N(Ao),o_=PP(Ao)),{app:Ao,auth:Bc,db:$c,storage:o_}}catch(n){throw console.error("Firebase initialization error:",n),n}},hE=()=>(Bc||$p(),Bc),dE=()=>($c||$p(),$c),qp=hE(),fE=dE(),pE=async n=>{if(!n)return null;try{const e=Fr(fE,"users",n.uid),t=await rP(e);if(t.exists()){const s=t.data();return{id:n.uid,firstName:s.firstName||"",lastName:s.lastName||"",email:n.email||void 0,phone:n.phoneNumber||void 0,dateJoined:s.dateJoined||new Date().toISOString(),avatar:s.avatar||n.photoURL||void 0,emailVerified:n.emailVerified,phoneVerified:s.phoneVerified||!1}}return null}catch(e){return console.error("Error converting Firebase user:",e),null}},LP=async(n,e,t,s)=>{try{const l=(await IA(qp,n,e)).user;await RA(l,{displayName:`${t} ${s}`});const h={firstName:t,lastName:s,email:n,dateJoined:new Date().toISOString(),emailVerified:!1,phoneVerified:!1};return await sP(Fr(fE,"users",l.uid),h),await AA(l),{user:{id:l.uid,firstName:t,lastName:s,email:n,dateJoined:h.dateJoined,emailVerified:!1,phoneVerified:!1}}}catch(o){const l={code:o.code||"auth/unknown-error",message:o.message||"An unknown error occurred during sign up"};return{user:{},error:l}}},jP=async(n,e)=>{try{const t=await SA(qp,n,e),s=await pE(t.user);if(!s)throw new Error("Failed to load user data");return{user:s}}catch(t){return{error:{code:t.code||"auth/unknown-error",message:t.message||"An unknown error occurred during sign in"}}}},MP=async()=>{try{return await bA(qp),{}}catch(n){return{error:{code:n.code||"auth/unknown-error",message:n.message||"An unknown error occurred during sign out"}}}},mE=n=>{switch(n){case"auth/email-already-in-use":return"This email address is already registered. Please use a different email or try signing in.";case"auth/weak-password":return"Password should be at least 6 characters long.";case"auth/invalid-email":return"Please enter a valid email address.";case"auth/user-not-found":return"No account found with this email address.";case"auth/wrong-password":return"Incorrect password. Please try again.";case"auth/too-many-requests":return"Too many failed attempts. Please try again later.";case"auth/network-request-failed":return"Network error. Please check your connection and try again.";default:return"An error occurred. Please try again."}},Fl=jx()($x((n,e)=>({user:null,isAuthenticated:!1,isInitialized:!1,isLoading:!1,error:null,login:t=>{n({user:t,isAuthenticated:!0,error:null,isLoading:!1})},logout:async()=>{n({isLoading:!0,error:null});const{error:t}=await MP();n(t?{error:t,isLoading:!1}:{user:null,isAuthenticated:!1,isLoading:!1,error:null})},updateProfile:t=>{n(s=>({user:s.user?{...s.user,...t}:null}))},setError:t=>{n({error:t})},setLoading:t=>{n({isLoading:t})},initialize:()=>{if(e().isInitialized)return;const t=hE();PA(t,async s=>{if(n({isLoading:!0}),s){const o=await pE(s);n(o?{user:o,isAuthenticated:!0,isInitialized:!0,isLoading:!1,error:null}:{user:null,isAuthenticated:!1,isInitialized:!0,isLoading:!1,error:null})}else n({user:null,isAuthenticated:!1,isInitialized:!0,isLoading:!1,error:null})})}}),{name:"auth-storage",partialize:n=>({user:n.user,isAuthenticated:n.isAuthenticated})})),FP=()=>{Fl.getState().initialize()},gE=n=>{const e=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return n?e.test(n)?{isValid:!0}:{isValid:!1,error:"Please enter a valid email address"}:{isValid:!1,error:"Email is required"}},yE=n=>{const e=/^\+?[1-9]\d{1,14}$/;if(!n)return{isValid:!1,error:"Phone number is required"};const t=n.replace(/[\s-]/g,"");return e.test(t)?{isValid:!0}:{isValid:!1,error:"Please enter a valid phone number"}},UP=n=>n?n.length<6?{isValid:!1,error:"Password must be at least 6 characters long"}:/(?=.*[a-zA-Z])(?=.*\d)/.test(n)?{isValid:!0}:{isValid:!1,error:"Password must contain at least one letter and one number"}:{isValid:!1,error:"Password is required"},a_=(n,e="Name")=>!n||n.trim().length===0?{isValid:!1,error:`${e} is required`}:n.trim().length<2?{isValid:!1,error:`${e} must be at least 2 characters long`}:/^[a-zA-Z\s'-]+$/.test(n)?{isValid:!0}:{isValid:!1,error:`${e} can only contain letters, spaces, hyphens, and apostrophes`},zP=n=>{const e={},t=a_(n.firstName,"First name");t.isValid||(e.firstName=t.error);const s=a_(n.lastName,"Last name");if(s.isValid||(e.lastName=s.error),!n.email&&!n.phone)e.contact="Either email or phone number is required";else{if(n.email){const l=gE(n.email);l.isValid||(e.email=l.error)}if(n.phone){const l=yE(n.phone);l.isValid||(e.phone=l.error)}}const o=UP(n.password);return o.isValid||(e.password=o.error),n.confirmPassword?n.password!==n.confirmPassword&&(e.confirmPassword="Passwords do not match"):e.confirmPassword="Please confirm your password",{isValid:Object.keys(e).length===0,errors:e}},BP=n=>{const e={};if(n.loginMethod==="email"){const t=gE(n.credential);t.isValid||(e.credential=t.error)}else{const t=yE(n.credential);t.isValid||(e.credential=t.error)}return n.password||(e.password="Password is required"),{isValid:Object.keys(e).length===0,errors:e}};function Hp({error:n,onDismiss:e,className:t=""}){const s=typeof n=="string"?n:n.message;return y.jsx("div",{className:`bg-red-50 border border-red-200 rounded-md p-4 ${t}`,children:y.jsxs("div",{className:"flex items-start",children:[y.jsx(I_,{className:"w-5 h-5 text-red-400 mt-0.5 mr-3 flex-shrink-0"}),y.jsx("div",{className:"flex-1",children:y.jsx("p",{className:"text-sm text-red-800",children:s})}),e&&y.jsx("button",{onClick:e,className:"ml-3 flex-shrink-0 text-red-400 hover:text-red-600 transition-colors",children:y.jsx(Ex,{className:"w-4 h-4"})})]})})}class i2 extends Hf.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Error boundary caught an error:",e,t)}render(){if(this.state.hasError){if(this.props.fallback){const e=this.props.fallback;return y.jsx(e,{error:this.state.error})}return y.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:y.jsx("div",{className:"max-w-md w-full text-center",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8",children:[y.jsx(I_,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),y.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Something went wrong"}),y.jsx("p",{className:"text-gray-600 mb-6",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),y.jsx("button",{onClick:()=>window.location.reload(),className:"bg-teal-600 hover:bg-teal-700 text-white px-4 py-2 rounded-md font-medium transition-colors",children:"Refresh Page"})]})})})}return this.props.children}}function $P(){const[n,e]=Y.useState(""),[t,s]=Y.useState(""),[o,l]=Y.useState(!1),[h,d]=Y.useState("email"),[m,v]=Y.useState({}),{login:w,isLoading:T,error:I,setError:O,setLoading:z}=Fl(),L=Go(),k=async J=>{J.preventDefault(),O(null),v({});const W=BP({credential:n,password:t,loginMethod:h});if(!W.isValid){v(W.errors);return}if(h==="phone"){O({code:"phone-not-supported",message:"Phone login is not yet supported. Please use email."});return}z(!0);try{const{user:$,error:X}=await jP(n,t);X?O({code:X.code,message:mE(X.code)}):$&&(w($),L("/favourites"))}catch{O({code:"auth/unknown-error",message:"An unexpected error occurred. Please try again."})}finally{z(!1)}};return y.jsxs("div",{className:"min-h-screen bg-gray-50",children:[y.jsx(Ns,{}),y.jsx("div",{className:"flex items-center justify-center px-4 py-12",children:y.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-8",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("div",{className:"w-12 h-12 bg-teal-600 rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx(vi,{className:"w-6 h-6 text-white"})}),y.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Sign In"}),y.jsx("p",{className:"text-gray-600 mt-2",children:"Access your XARIIF account"})]}),I&&y.jsx(Hp,{error:I,onDismiss:()=>O(null),className:"mb-6"}),y.jsxs("form",{onSubmit:k,className:"space-y-6",children:[y.jsxs("div",{className:"flex justify-center bg-gray-100 rounded-lg p-1",children:[y.jsxs("button",{type:"button",onClick:()=>d("email"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors flex items-center justify-center ${h==="email"?"bg-white text-teal-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[y.jsx(hl,{className:"w-4 h-4 mr-2"})," Email"]}),y.jsxs("button",{type:"button",onClick:()=>d("phone"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors flex items-center justify-center ${h==="phone"?"bg-white text-teal-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[y.jsx(dl,{className:"w-4 h-4 mr-2"})," Phone"]})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"loginCredential",className:"block text-sm font-medium text-gray-700 mb-2",children:h==="email"?"Email Address":"Phone Number"}),y.jsxs("div",{className:"relative",children:[y.jsx("input",{id:"loginCredential",type:h==="email"?"email":"tel",value:n,onChange:J=>e(J.target.value),required:!0,className:`w-full px-3 py-2 pl-10 border rounded-md focus:ring-2 focus:ring-teal-500 focus:border-teal-500 ${m.credential?"border-red-300":"border-gray-300"}`,placeholder:h==="email"?"john@example.com":"+1 (555) 123-4567"}),h==="email"?y.jsx(hl,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"}):y.jsx(dl,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"})]}),m.credential&&y.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.credential})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),y.jsxs("div",{className:"relative",children:[y.jsx("input",{id:"password",type:o?"text":"password",value:t,onChange:J=>s(J.target.value),required:!0,className:`w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-teal-500 focus:border-teal-500 pl-10 pr-10 ${m.password?"border-red-300":"border-gray-300"}`,placeholder:"Enter your password"}),y.jsx(yf,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"}),y.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600",children:o?y.jsx(gf,{className:"w-4 h-4"}):y.jsx(cl,{className:"w-4 h-4"})})]}),m.password&&y.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.password})]}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("label",{className:"flex items-center",children:[y.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-teal-600 focus:ring-teal-500"}),y.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Remember me"})]}),y.jsx("a",{href:"#",className:"text-sm text-teal-600 hover:text-teal-700",children:"Forgot password?"})]}),y.jsx("button",{type:"submit",disabled:T,className:"w-full bg-teal-600 hover:bg-teal-700 disabled:bg-gray-400 text-white py-2 px-4 rounded-md font-medium transition-colors flex items-center justify-center",children:T?"Signing in...":y.jsxs(y.Fragment,{children:["Sign In ",y.jsx(x_,{className:"ml-2 w-4 h-4"})]})})]}),y.jsx("div",{className:"mt-6 text-center",children:y.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",y.jsx(Vr,{to:"/signup",className:"text-teal-600 hover:text-teal-700 font-medium",children:"Sign up"})]})}),y.jsxs("div",{className:"mt-6",children:[y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-0 flex items-center",children:y.jsx("div",{className:"w-full border-t border-gray-300"})}),y.jsx("div",{className:"relative flex justify-center text-sm",children:y.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),y.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[y.jsx("button",{className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-500 hover:bg-gray-50 transition-colors",children:"Google"}),y.jsx("button",{className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-500 hover:bg-gray-50 transition-colors",children:"Facebook"})]})]})]})})]})}function qP(){const[n,e]=Y.useState({firstName:"",lastName:"",email:"",phone:"",password:"",confirmPassword:""}),[t,s]=Y.useState("email"),[o,l]=Y.useState(!1),[h,d]=Y.useState(!1),[m,v]=Y.useState(!1),[w,T]=Y.useState({}),{login:I,isLoading:O,error:z,setError:L,setLoading:k}=Fl(),J=Go(),W=X=>{e({...n,[X.target.name]:X.target.value}),w[X.target.name]&&T(oe=>{const ae={...oe};return delete ae[X.target.name],ae})},$=async X=>{if(X.preventDefault(),L(null),T({}),!m){L({code:"terms-required",message:"Please accept the Terms of Service and Privacy Policy"});return}if(t==="phone"){L({code:"phone-not-supported",message:"Phone signup is not yet supported. Please use email."});return}const oe=zP({firstName:n.firstName,lastName:n.lastName,email:n.email,phone:n.phone,password:n.password,confirmPassword:n.confirmPassword});if(!oe.isValid){T(oe.errors);return}k(!0);try{const{user:ae,error:b}=await LP(n.email,n.password,n.firstName,n.lastName);b?L({code:b.code,message:mE(b.code)}):ae&&(I(ae),alert("Account created successfully! Please check your email to verify your account."),J("/favourites"))}catch{L({code:"auth/unknown-error",message:"An unexpected error occurred during signup. Please try again."})}finally{k(!1)}};return y.jsxs("div",{className:"min-h-screen bg-gray-50",children:[y.jsx(Ns,{}),y.jsx("div",{className:"flex items-center justify-center px-4 py-12",children:y.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-8",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("div",{className:"w-12 h-12 bg-teal-600 rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx(vx,{className:"w-6 h-6 text-white"})}),y.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create Account"}),y.jsx("p",{className:"text-gray-600 mt-2",children:"Join XARIIF to find your perfect scholarship"})]}),z&&y.jsx(Hp,{error:z,onDismiss:()=>L(null),className:"mb-6"}),y.jsxs("form",{onSubmit:$,className:"space-y-6",children:[y.jsxs("div",{className:"flex justify-center bg-gray-100 rounded-lg p-1",children:[y.jsxs("button",{type:"button",onClick:()=>s("email"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors flex items-center justify-center ${t==="email"?"bg-white text-teal-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[y.jsx(hl,{className:"w-4 h-4 mr-2"}),"Email"]}),y.jsxs("button",{type:"button",onClick:()=>s("phone"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors flex items-center justify-center ${t==="phone"?"bg-white text-teal-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[y.jsx(dl,{className:"w-4 h-4 mr-2"}),"Phone"]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),y.jsxs("div",{className:"relative",children:[y.jsx("input",{id:"firstName",name:"firstName",type:"text",value:n.firstName,onChange:W,required:!0,className:`w-full px-3 py-2 pl-10 border rounded-md focus:ring-2 focus:ring-teal-500 focus:border-teal-500 ${w.firstName?"border-red-300":"border-gray-300"}`,placeholder:"John"}),y.jsx(vi,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"})]}),w.firstName&&y.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.firstName})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),y.jsxs("div",{className:"relative",children:[y.jsx("input",{id:"lastName",name:"lastName",type:"text",value:n.lastName,onChange:W,required:!0,className:`w-full px-3 py-2 pl-10 border rounded-md focus:ring-2 focus:ring-teal-500 focus:border-teal-500 ${w.lastName?"border-red-300":"border-gray-300"}`,placeholder:"Doe"}),y.jsx(vi,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"})]}),w.lastName&&y.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.lastName})]})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"contact",className:"block text-sm font-medium text-gray-700 mb-2",children:t==="email"?"Email Address":"Phone Number"}),y.jsxs("div",{className:"relative",children:[y.jsx("input",{id:"contact",name:t==="email"?"email":"phone",type:t==="email"?"email":"tel",value:t==="email"?n.email:n.phone,onChange:W,required:!0,className:`w-full px-3 py-2 pl-10 border rounded-md focus:ring-2 focus:ring-teal-500 focus:border-teal-500 ${w[t]?"border-red-300":"border-gray-300"}`,placeholder:t==="email"?"john@example.com":"+1 (555) 123-4567"}),t==="email"?y.jsx(hl,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"}):y.jsx(dl,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"})]}),w[t]&&y.jsx("p",{className:"mt-1 text-sm text-red-600",children:w[t]})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),y.jsxs("div",{className:"relative",children:[y.jsx("input",{id:"password",name:"password",type:o?"text":"password",value:n.password,onChange:W,required:!0,className:`w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-teal-500 focus:border-teal-500 pl-10 pr-10 ${w.password?"border-red-300":"border-gray-300"}`,placeholder:"Enter your password"}),y.jsx(yf,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"}),y.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600",children:o?y.jsx(gf,{className:"w-4 h-4"}):y.jsx(cl,{className:"w-4 h-4"})})]}),w.password&&y.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.password})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),y.jsxs("div",{className:"relative",children:[y.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:h?"text":"password",value:n.confirmPassword,onChange:W,required:!0,className:`w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-teal-500 focus:border-teal-500 pl-10 pr-10 ${w.confirmPassword?"border-red-300":"border-gray-300"}`,placeholder:"Confirm your password"}),y.jsx(yf,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"}),y.jsx("button",{type:"button",onClick:()=>d(!h),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600",children:h?y.jsx(gf,{className:"w-4 h-4"}):y.jsx(cl,{className:"w-4 h-4"})})]}),w.confirmPassword&&y.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.confirmPassword})]}),y.jsxs("div",{className:"flex items-start",children:[y.jsx("input",{id:"acceptTerms",type:"checkbox",checked:m,onChange:X=>v(X.target.checked),className:"mt-1 rounded border-gray-300 text-teal-600 focus:ring-teal-500",required:!0}),y.jsx("div",{className:"ml-3 text-sm",children:y.jsxs("label",{htmlFor:"acceptTerms",className:"text-gray-700",children:["I agree to the"," ",y.jsx("a",{href:"#",className:"text-teal-600 hover:text-teal-700 font-medium",children:"Terms of Service"})," ","and"," ",y.jsx("a",{href:"#",className:"text-teal-600 hover:text-teal-700 font-medium",children:"Privacy Policy"})]})})]}),y.jsx("button",{type:"submit",disabled:O,className:"w-full bg-teal-600 hover:bg-teal-700 disabled:bg-gray-400 text-white py-2 px-4 rounded-md font-medium transition-colors flex items-center justify-center",children:O?"Creating account...":y.jsxs(y.Fragment,{children:["Create Account",y.jsx(x_,{className:"ml-2 w-4 h-4"})]})})]}),y.jsx("div",{className:"mt-6 text-center",children:y.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",y.jsx(Vr,{to:"/login",className:"text-teal-600 hover:text-teal-700 font-medium",children:"Sign in"})]})}),y.jsxs("div",{className:"mt-6",children:[y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-0 flex items-center",children:y.jsx("div",{className:"w-full border-t border-gray-300"})}),y.jsx("div",{className:"relative flex justify-center text-sm",children:y.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),y.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[y.jsx("button",{className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-500 hover:bg-gray-50 transition-colors",children:"Google"}),y.jsx("button",{className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-500 hover:bg-gray-50 transition-colors",children:"Facebook"})]})]})]})})]})}const HP=[{id:"2",title:"Global Health Initiative Scholarship",organization:"International Health Foundation",location:"Geneva, Switzerland",deadline:"2025-11-30",fundingType:"Partial Funding",levelOfStudy:["Masters","PhD"],subjectAreas:["Medicine","Public Health"],description:"Supporting future healthcare leaders committed to addressing global health challenges in underserved communities.",eligibility:"Medical or public health background required. Minimum 2 years of relevant work experience. Commitment to work in developing countries.",benefits:"€15,000 annual scholarship, mentorship program, and internship opportunities with WHO.",applicationLink:"https://healthfoundation.org/apply",isFavorited:!0}];function WP(){const[n,e]=Y.useState(HP),[t,s]=Y.useState(""),o=n.filter(h=>h.title.toLowerCase().includes(t.toLowerCase())||h.organization.toLowerCase().includes(t.toLowerCase())||h.subjectAreas.some(d=>d.toLowerCase().includes(t.toLowerCase()))),l=h=>{e(d=>d.filter(m=>m.id!==h))};return y.jsxs("div",{className:"min-h-screen bg-gray-50",children:[y.jsx(Ns,{}),y.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("div",{className:"w-16 h-16 bg-teal-100 rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx(Mo,{className:"w-8 h-8 text-teal-600 fill-current"})}),y.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Favourite Scholarships"}),y.jsx("p",{className:"text-gray-600",children:"Keep track of scholarships you're interested in applying for"})]}),n.length>0?y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"mb-6",children:y.jsxs("div",{className:"relative max-w-md mx-auto",children:[y.jsx(gi,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),y.jsx("input",{type:"text",value:t,onChange:h=>s(h.target.value),placeholder:"Search your favorites...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-teal-500 focus:border-teal-500"})]})}),y.jsx("div",{className:"mb-6",children:y.jsx("p",{className:"text-gray-600",children:o.length===n.length?`${n.length} saved scholarship${n.length!==1?"s":""}`:`Showing ${o.length} of ${n.length} saved scholarships`})}),y.jsx("div",{className:"space-y-6",children:o.length>0?o.map(h=>y.jsx(S_,{scholarship:h,onToggleFavorite:l},h.id)):y.jsxs("div",{className:"text-center py-12",children:[y.jsx(gi,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),y.jsx("p",{className:"text-gray-500 text-lg",children:"No scholarships match your search."}),y.jsx("button",{onClick:()=>s(""),className:"mt-2 text-teal-600 hover:text-teal-700 font-medium",children:"Clear search"})]})}),y.jsxs("div",{className:"mt-12 bg-white rounded-lg p-6 shadow-sm",children:[y.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Tips for Managing Your Favorites"}),y.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm text-gray-600",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:"Stay Organized"}),y.jsx("p",{children:"Review deadlines regularly and prioritize applications by deadline date."})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:"Track Applications"}),y.jsx("p",{children:"Keep notes about application requirements and your progress for each scholarship."})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:"Set Reminders"}),y.jsx("p",{children:"Use calendar reminders for application deadlines to avoid missing opportunities."})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:"Regular Updates"}),y.jsx("p",{children:"Check back regularly as new scholarships are added and requirements may change."})]})]})]})]}):y.jsxs("div",{className:"text-center py-16",children:[y.jsx(Mo,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),y.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No favorites yet"}),y.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Start browsing scholarships and click the heart icon to save them here for easy access."}),y.jsxs("a",{href:"/",className:"inline-flex items-center bg-teal-600 hover:bg-teal-700 text-white px-6 py-3 rounded-md font-medium transition-colors",children:[y.jsx(gi,{className:"w-4 h-4 mr-2"}),"Browse Scholarships"]})]})]})]})}const ks=dE(),GP=Hw(ks,"blogs"),Wp=Hw(ks,"blogInteractions"),KP=async()=>{try{const n=eE(GP,tE("isPublished","==",!0),eP("publishedDate","desc")),e=await iE(n),t=[];return e.forEach(s=>{const o=s.data();t.push({id:s.id,...o})}),{data:t}}catch(n){return{error:{code:n.code||"firestore/unknown-error",message:n.message||"Failed to fetch blog posts"}}}},QP=async(n,e)=>{try{const{data:t}=await getUserBlogInteraction(n,e);if(t){const s=!t.hasUpvoted;await jo(Fr(ks,"blogInteractions",t.id),{hasUpvoted:s,updatedAt:new Date().toISOString()}),await jo(Fr(ks,"blogs",e),{upvotes:Fc(s?1:-1)})}else{const s={userId:n,blogPostId:e,hasUpvoted:!0,hasViewed:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await oE(Wp,s),await jo(Fr(ks,"blogs",e),{upvotes:Fc(1)})}return{}}catch(t){return{error:{code:t.code||"firestore/unknown-error",message:t.message||"Failed to upvote blog post"}}}},YP=async(n,e)=>{try{const{data:t}=await getUserBlogInteraction(n,e);if(t&&!t.hasViewed)await jo(Fr(ks,"blogInteractions",t.id),{hasViewed:!0,updatedAt:new Date().toISOString()}),await jo(Fr(ks,"blogs",e),{views:Fc(1)});else if(!t){const s={userId:n,blogPostId:e,hasUpvoted:!1,hasViewed:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await oE(Wp,s),await jo(Fr(ks,"blogs",e),{views:Fc(1)})}return{}}catch(t){return{error:{code:t.code||"firestore/unknown-error",message:t.message||"Failed to record blog view"}}}},XP=async n=>{try{const{data:e,error:t}=await KP();if(t||!e)return{error:t};if(!n)return{data:e};const s=eE(Wp,tE("userId","==",n)),o=await iE(s),l={};return o.forEach(d=>{const m=d.data();l[m.blogPostId]={id:d.id,...m}}),{data:e.map(d=>({...d,hasUpvoted:l[d.id]?.hasUpvoted||!1}))}}catch(e){return{error:{code:e.code||"firestore/unknown-error",message:e.message||"Failed to fetch blog posts with interactions"}}}};function JP({size:n="md",className:e=""}){const t={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};return y.jsx("div",{className:`animate-spin ${t[n]} ${e}`,children:y.jsxs("svg",{className:"w-full h-full text-current",fill:"none",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})}function ZP({message:n="Loading..."}){return y.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:y.jsxs("div",{className:"text-center",children:[y.jsx(JP,{size:"lg",className:"mx-auto text-teal-600 mb-4"}),y.jsx("p",{className:"text-gray-600 text-lg",children:n})]})})}const hf=[{id:"1",title:"Top 10 Tips for Writing a Winning Scholarship Essay",excerpt:"Learn how to craft compelling scholarship essays that stand out from the crowd and increase your chances of success.",content:"Writing a scholarship essay can be daunting, but with the right approach, you can create a compelling narrative that showcases your unique strengths...",author:"Sarah Johnson",publishedDate:"2024-01-15",readTime:"7 min read",category:"Writing Tips",tags:["Essay Writing","Scholarships","Tips"],imageUrl:"https://images.unsplash.com/photo-1456513080510-7bf3a84b82f8?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",upvotes:142,views:1523,hasUpvoted:!1},{id:"2",title:"How to Research and Find Hidden Scholarship Opportunities",excerpt:"Discover lesser-known scholarship databases and strategies to uncover funding opportunities that others miss.",content:"While many students focus on popular scholarship platforms, the real gems are often found in unexpected places...",author:"Michael Chen",publishedDate:"2024-01-12",readTime:"5 min read",category:"Research",tags:["Research","Opportunities","Strategy"],imageUrl:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",upvotes:89,views:967,hasUpvoted:!1},{id:"3",title:"Building a Strong Academic Portfolio for Scholarship Applications",excerpt:"Learn how to organize and present your academic achievements, extracurriculars, and experiences effectively.",content:"A well-organized academic portfolio can make the difference between a successful and unsuccessful scholarship application...",author:"Dr. Emily Rodriguez",publishedDate:"2024-01-10",readTime:"8 min read",category:"Portfolio",tags:["Portfolio","Academic","Organization"],imageUrl:"https://images.unsplash.com/photo-1434030216411-0b793f4b4173?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",upvotes:156,views:2103,hasUpvoted:!0},{id:"4",title:"Understanding Different Types of Financial Aid: Grants vs Scholarships",excerpt:"A comprehensive guide to understanding the various forms of financial aid available to students.",content:"Navigating the world of financial aid can be confusing. Understanding the differences between grants, scholarships, and other forms of aid is crucial...",author:"Financial Aid Team",publishedDate:"2024-01-08",readTime:"6 min read",category:"Financial Aid",tags:["Financial Aid","Grants","Education"],imageUrl:"https://images.unsplash.com/photo-1554224155-6726b3ff858f?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",upvotes:73,views:834,hasUpvoted:!1},{id:"5",title:"Interview Tips: Acing Your Scholarship Interview",excerpt:"Master the art of scholarship interviews with our comprehensive guide to preparation and presentation.",content:"Scholarship interviews can be nerve-wracking, but proper preparation can help you present your best self...",author:"Lisa Thompson",publishedDate:"2024-01-05",readTime:"9 min read",category:"Interview Prep",tags:["Interviews","Preparation","Communication"],imageUrl:"https://images.unsplash.com/photo-1573164713714-d95e436ab8d6?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",upvotes:128,views:1456,hasUpvoted:!1}],e2=["All","Writing Tips","Research","Portfolio","Financial Aid","Interview Prep"];function t2(){const[n,e]=Y.useState(""),[t,s]=Y.useState("All"),[o,l]=Y.useState(null),[h,d]=Y.useState([]),[m,v]=Y.useState(!0),[w,T]=Y.useState(null),{user:I,isAuthenticated:O}=Fl();Y.useEffect(()=>{z()},[I]);const z=async()=>{try{v(!0),T(null);const{data:$,error:X}=await XP(I?.id);X?(T(X.message),d(hf)):d($||hf)}catch($){console.error("Error loading blog posts:",$),T("Failed to load blog posts"),d(hf)}finally{v(!1)}},L=async $=>{if(!O||!I){alert("Please sign in to upvote posts");return}d(X=>X.map(oe=>oe.id===$?{...oe,upvotes:oe.hasUpvoted?oe.upvotes-1:oe.upvotes+1,hasUpvoted:!oe.hasUpvoted}:oe)),o&&o.id===$&&l(X=>X?{...X,upvotes:X.hasUpvoted?X.upvotes-1:X.upvotes+1,hasUpvoted:!X.hasUpvoted}:null);try{const{error:X}=await QP(I.id,$);X&&(console.error("Error upvoting blog post:",X),d(oe=>oe.map(ae=>ae.id===$?{...ae,upvotes:ae.hasUpvoted?ae.upvotes+1:ae.upvotes-1,hasUpvoted:!ae.hasUpvoted}:ae)),o&&o.id===$&&l(oe=>oe?{...oe,upvotes:oe.hasUpvoted?oe.upvotes+1:oe.upvotes-1,hasUpvoted:!oe.hasUpvoted}:null))}catch(X){console.error("Error upvoting blog post:",X)}},k=async $=>{d(oe=>oe.map(ae=>ae.id===$.id?{...ae,views:ae.views+1}:ae));const X={...$,views:$.views+1};if(l(X),O&&I)try{await YP(I.id,$.id)}catch(oe){console.error("Error recording blog view:",oe)}},J=h.filter($=>{const X=$.title.toLowerCase().includes(n.toLowerCase())||$.excerpt.toLowerCase().includes(n.toLowerCase())||$.tags.some(ae=>ae.toLowerCase().includes(n.toLowerCase())),oe=t==="All"||$.category===t;return X&&oe}),W=$=>new Date($).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return m?y.jsx(ZP,{message:"Loading blog posts..."}):o?y.jsxs("div",{className:"min-h-screen bg-gray-50",children:[y.jsx(Ns,{}),y.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[y.jsx("button",{onClick:()=>l(null),className:"mb-6 text-teal-600 hover:text-teal-700 font-medium",children:"← Back to all posts"}),y.jsxs("article",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[o.imageUrl&&y.jsx("img",{src:o.imageUrl,alt:o.title,className:"w-full h-64 object-cover"}),y.jsxs("div",{className:"p-8",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[y.jsxs("span",{className:"flex items-center",children:[y.jsx(vi,{className:"w-4 h-4 mr-1"})," ",o.author]}),y.jsxs("span",{className:"flex items-center",children:[y.jsx(Kf,{className:"w-4 h-4 mr-1"})," ",W(o.publishedDate)]}),y.jsxs("span",{className:"flex items-center",children:[y.jsx(vy,{className:"w-4 h-4 mr-1"})," ",o.readTime]})]}),y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsxs("span",{className:"flex items-center text-sm text-gray-600",children:[y.jsx(cl,{className:"w-4 h-4 mr-1"})," ",o.views.toLocaleString()," views"]}),y.jsxs("button",{onClick:()=>L(o.id),className:`flex items-center space-x-1 px-3 py-1 rounded-md transition-colors ${o.hasUpvoted?"bg-teal-100 text-teal-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[y.jsx(wc,{className:"w-4 h-4"}),y.jsx("span",{className:"text-sm font-medium",children:o.upvotes})]})]})]}),y.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:o.title}),y.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:o.tags.map($=>y.jsx("span",{className:"px-3 py-1 bg-teal-50 text-teal-800 rounded-full text-sm",children:$},$))}),y.jsxs("div",{className:"prose max-w-none",children:[y.jsx("p",{className:"text-lg text-gray-700 leading-relaxed mb-6",children:o.excerpt}),y.jsx("p",{className:"text-gray-700 leading-relaxed",children:o.content}),y.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"Key Strategies"}),y.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"When applying for scholarships, it's essential to understand that each application is unique. Tailoring your approach to match the specific requirements and values of each scholarship organization significantly increases your chances of success."}),y.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"Research is Key"}),y.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"Before you even begin writing, spend time researching the organization offering the scholarship. Understanding their mission, values, and previous recipients can provide valuable insights into what they're looking for in successful applicants."}),y.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"Tell Your Story"}),y.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Your personal story is what sets you apart from other applicants. Focus on experiences that have shaped your goals and demonstrate your commitment to your field of study or career path."})]})]})]})]})]}):y.jsxs("div",{className:"min-h-screen bg-gray-50",children:[y.jsx(Ns,{}),y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[w&&y.jsx(Hp,{error:w,onDismiss:()=>T(null),className:"mb-6"}),y.jsxs("div",{className:"text-center mb-12",children:[y.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Scholarship Success Blog"}),y.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Expert tips, strategies, and insights to help you win scholarships and fund your education"})]}),y.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:y.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between",children:[y.jsxs("div",{className:"relative flex-1 max-w-md",children:[y.jsx(gi,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),y.jsx("input",{type:"text",value:n,onChange:$=>e($.target.value),placeholder:"Search articles...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-teal-500 focus:border-teal-500"})]}),y.jsx("div",{className:"flex flex-wrap gap-2",children:e2.map($=>y.jsx("button",{onClick:()=>s($),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${t===$?"bg-teal-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:$},$))})]})}),y.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:J.map($=>y.jsxs("article",{className:"bg-white rounded-lg shadow-sm overflow-hidden hover:shadow-md transition-shadow cursor-pointer",onClick:()=>k($),children:[$.imageUrl&&y.jsx("img",{src:$.imageUrl,alt:$.title,className:"w-full h-48 object-cover"}),y.jsxs("div",{className:"p-6",children:[y.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-3",children:[y.jsx("span",{className:"bg-teal-50 text-teal-800 px-2 py-1 rounded text-xs font-medium",children:$.category}),y.jsxs("span",{className:"flex items-center",children:[y.jsx(vy,{className:"w-3 h-3 mr-1"})," ",$.readTime]})]}),y.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3 line-clamp-2",children:$.title}),y.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:$.excerpt}),y.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-3",children:[y.jsxs("span",{className:"flex items-center",children:[y.jsx(vi,{className:"w-3 h-3 mr-1"})," ",$.author]}),y.jsx("span",{children:W($.publishedDate)})]}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:y.jsxs("span",{className:"flex items-center",children:[y.jsx(cl,{className:"w-3 h-3 mr-1"})," ",$.views.toLocaleString()]})}),y.jsxs("button",{onClick:X=>{X.stopPropagation(),L($.id)},className:`flex items-center space-x-1 px-2 py-1 rounded text-xs font-medium transition-colors ${$.hasUpvoted?"bg-teal-100 text-teal-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[y.jsx(wc,{className:"w-3 h-3"})," ",y.jsx("span",{children:$.upvotes})]})]}),y.jsxs("div",{className:"flex flex-wrap gap-1 mt-3",children:[$.tags.slice(0,2).map(X=>y.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs",children:X},X)),$.tags.length>2&&y.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs",children:["+",$.tags.length-2]})]})]})]},$.id))}),J.length===0&&y.jsxs("div",{className:"text-center py-12",children:[y.jsx(gi,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),y.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No articles found"}),y.jsx("p",{className:"text-gray-600",children:"Try adjusting your search terms or category filter to find what you're looking for."})]})]})]})}function n2(){const{user:n,updateProfile:e}=Fl(),t=Go(),[s,o]=Y.useState(!1),[l,h]=Y.useState(!1),[d,m]=Y.useState({firstName:n?.firstName||"",lastName:n?.lastName||"",email:n?.email||"",phone:n?.phone||"",bio:"Passionate about education and helping others succeed through scholarship opportunities.",location:"New York, USA",website:"",linkedin:"",twitter:""});if(!n)return t("/login"),null;const v=z=>{m({...d,[z.target.name]:z.target.value})},w=async()=>{h(!0),setTimeout(()=>{e({firstName:d.firstName,lastName:d.lastName,email:d.email,phone:d.phone}),o(!1),h(!1)},1e3)},T=()=>{m({firstName:n.firstName,lastName:n.lastName,email:n.email||"",phone:n.phone||"",bio:"Passionate about education and helping others succeed through scholarship opportunities.",location:"New York, USA",website:"",linkedin:"",twitter:""}),o(!1)},I=(z,L)=>`${z.charAt(0)}${L.charAt(0)}`.toUpperCase(),O=z=>new Date(z).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return y.jsxs("div",{className:"min-h-screen bg-gray-50",children:[y.jsx(Ns,{}),y.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[y.jsxs("button",{onClick:()=>t(-1),className:"flex items-center text-gray-600 hover:text-gray-900 mb-6",children:[y.jsx(U1,{className:"w-4 h-4 mr-2"})," Back"]}),y.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[y.jsxs("div",{className:"relative h-32 bg-gradient-to-r from-teal-500 to-teal-600",children:[y.jsx("div",{className:"absolute -bottom-16 left-8",children:y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"w-32 h-32 bg-white rounded-full flex items-center justify-center shadow-lg border-4 border-white",children:n.avatar?y.jsx("img",{src:n.avatar,alt:"Profile",className:"w-full h-full rounded-full object-cover"}):y.jsx("span",{className:"text-4xl font-bold text-teal-600",children:I(n.firstName,n.lastName)})}),s&&y.jsx("button",{className:"absolute bottom-2 right-2 bg-teal-600 text-white p-2 rounded-full hover:bg-teal-700 transition-colors",children:y.jsx(H1,{className:"w-4 h-4"})})]})}),y.jsx("div",{className:"absolute top-4 right-4",children:s?y.jsxs("div",{className:"flex space-x-2",children:[y.jsx("button",{onClick:T,className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-md font-medium hover:bg-gray-300 transition-colors",children:"Cancel"}),y.jsx("button",{onClick:w,disabled:l,className:"bg-teal-600 text-white px-4 py-2 rounded-md font-medium hover:bg-teal-700 disabled:bg-gray-400 transition-colors flex items-center",children:l?"Saving...":y.jsxs(y.Fragment,{children:[y.jsx(fx,{className:"w-4 h-4 mr-2"})," Save Changes"]})})]}):y.jsxs("button",{onClick:()=>o(!0),className:"bg-white text-teal-600 px-4 py-2 rounded-md font-medium hover:bg-gray-50 transition-colors flex items-center",children:[y.jsx(cx,{className:"w-4 h-4 mr-2"})," Edit Profile"]})})]}),y.jsxs("div",{className:"pt-20 pb-8 px-8",children:[y.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:s?y.jsxs("div",{className:"flex space-x-2",children:[y.jsx("input",{type:"text",name:"firstName",value:d.firstName,onChange:v,className:"flex-1 text-2xl font-bold bg-transparent border-b-2 border-gray-300 focus:border-teal-500 focus:outline-none",placeholder:"First Name"}),y.jsx("input",{type:"text",name:"lastName",value:d.lastName,onChange:v,className:"flex-1 text-2xl font-bold bg-transparent border-b-2 border-gray-300 focus:border-teal-500 focus:outline-none",placeholder:"Last Name"})]}):`${d.firstName} ${d.lastName}`}),y.jsxs("div",{className:"flex items-center text-gray-600 mb-4",children:[y.jsx(Kf,{className:"w-4 h-4 mr-2"}),y.jsxs("span",{children:["Joined ",O(n.dateJoined)]})]}),y.jsxs("div",{className:"mb-6",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),s?y.jsx("textarea",{name:"bio",value:d.bio,onChange:v,rows:3,className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-teal-500 focus:border-teal-500",placeholder:"Tell us about yourself..."}):y.jsx("p",{className:"text-gray-700",children:d.bio})]}),y.jsxs("div",{className:"mb-6",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),s?y.jsx("input",{type:"text",name:"location",value:d.location,onChange:v,className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-teal-500 focus:border-teal-500",placeholder:"Your location"}):y.jsx("p",{className:"text-gray-700",children:d.location})]})]}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Information"}),y.jsxs("div",{className:"mb-4",children:[y.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[y.jsx(hl,{className:"w-4 h-4 inline mr-2"})," Email"]}),s?y.jsx("input",{type:"email",name:"email",value:d.email,onChange:v,className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-teal-500 focus:border-teal-500",placeholder:"your.email@example.com"}):y.jsx("p",{className:"text-gray-700",children:d.email||"Not provided"})]}),y.jsxs("div",{className:"mb-4",children:[y.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[y.jsx(dl,{className:"w-4 h-4 inline mr-2"})," Phone"]}),s?y.jsx("input",{type:"tel",name:"phone",value:d.phone,onChange:v,className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-teal-500 focus:border-teal-500",placeholder:"+1 (555) 123-4567"}):y.jsx("p",{className:"text-gray-700",children:d.phone||"Not provided"})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),s?y.jsx("input",{type:"url",name:"website",value:d.website,onChange:v,className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-teal-500 focus:border-teal-500",placeholder:"https://your-website.com"}):y.jsx("p",{className:"text-gray-700",children:d.website?y.jsx("a",{href:d.website,target:"_blank",rel:"noopener noreferrer",className:"text-teal-600 hover:underline",children:d.website}):"Not provided"})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"LinkedIn"}),s?y.jsx("input",{type:"text",name:"linkedin",value:d.linkedin,onChange:v,className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-teal-500 focus:border-teal-500",placeholder:"linkedin.com/in/yourprofile"}):y.jsx("p",{className:"text-gray-700",children:d.linkedin?y.jsx("a",{href:`https://${d.linkedin}`,target:"_blank",rel:"noopener noreferrer",className:"text-teal-600 hover:underline",children:d.linkedin}):"Not provided"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Twitter"}),s?y.jsx("input",{type:"text",name:"twitter",value:d.twitter,onChange:v,className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-teal-500 focus:border-teal-500",placeholder:"@yourusername"}):y.jsx("p",{className:"text-gray-700",children:d.twitter?y.jsx("a",{href:`https://twitter.com/${d.twitter.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"text-teal-600 hover:underline",children:d.twitter}):"Not provided"})]})]})]})]}),y.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[y.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Statistics"}),y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[y.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[y.jsx("div",{className:"text-2xl font-bold text-teal-600",children:"5"}),y.jsx("div",{className:"text-sm text-gray-600",children:"Favorites"})]}),y.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[y.jsx("div",{className:"text-2xl font-bold text-teal-600",children:"12"}),y.jsx("div",{className:"text-sm text-gray-600",children:"Applications"})]}),y.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[y.jsx("div",{className:"text-2xl font-bold text-teal-600",children:"3"}),y.jsx("div",{className:"text-sm text-gray-600",children:"Awards"})]}),y.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[y.jsx("div",{className:"text-2xl font-bold text-teal-600",children:"42"}),y.jsx("div",{className:"text-sm text-gray-600",children:"Profile Views"})]})]})]})]})]})]})]})}function r2(){return y.jsx(k1,{children:y.jsxs(E1,{children:[y.jsx(ys,{path:"/",element:y.jsx(Tx,{})}),y.jsx(ys,{path:"/search",element:y.jsx(xx,{})}),y.jsx(ys,{path:"/login",element:y.jsx($P,{})}),y.jsx(ys,{path:"/signup",element:y.jsx(qP,{})}),y.jsx(ys,{path:"/favourites",element:y.jsx(WP,{})}),y.jsx(ys,{path:"/blogs",element:y.jsx(t2,{})}),y.jsx(ys,{path:"/profile",element:y.jsx(n2,{})})]})})}try{$p(),FP(),console.log("Firebase initialized successfully")}catch(n){console.error("Failed to initialize Firebase:",n),console.error("Please check your Firebase configuration in .env file")}NT.createRoot(document.getElementById("root")).render(y.jsx(Y.StrictMode,{children:y.jsx(r2,{})}));
//# sourceMappingURL=index-BzDfVyS3.js.map
